{"version":3,"sources":["scripts/app.js"],"names":["angular","module","filter","items","props","out","isArray","keys","Object","forEach","item","itemMatches","i","length","prop","text","toLowerCase","toString","indexOf","push","factory","init","listOfObj","currentIndex","pageStart","pages","filteredItems","pageNumber","parseInt","pageSize","refreshItems","pagesIndex","fillArray","obj","Array","index","newMethod","slice","prevPage","nextPage","setPage","messageservices","errorAlert","massage","swal","warningAlert","infoAlert","negativeNumberMsg","fieldName","fieldValue","isNumber","warningWithComformtion","resolve","reject","title","showCancelButton","confirmButtonText","cancelButtonText","confirmButtonColor","cancelButtonColor","allowOutsideClick","emailAddressTelephoneMsg","message","emailAddressMsg","fieldname","alphaNumericMsg","maskPITRIncomeSourceCodeMsg","yearOfAssessment","Number","maskPITRDeductionSourceCodeMsg","crossReasonCodeCheckMsg","crossEmploymentDatesMsg","field","DisabilitySeverity_Date_CheckMsg","noOfYrs","crossPayPeriodsAssessmentYearMsg","dateRangeMsg","residenceCeaseMsg","crossUnemployedContainerChange","unemploymentUnbrokenPeriodsMsg","autoCalcAnnualExclusionsMessage","crossLockNonPrimaryResFieldsMessage","crossCheckProceedsAmountR2mLessMessage","crossTravelLogBookMessage","exitFieldMessage","repeatRetirementMessage","mask_Modulus10CheckPAYENo","mask_Modulus10CheckTrustNo","localRemunerationSourceCode","localAnnuitiesSourceCode","localCapitalSourceCode","localBusinessTradingSourceCode","localFarmingOperationsSourceCode","localOtherIncomeSourceCode","foreignCapitalGainLossSourceCode","CrossIncomeProtectionMsg","Cross_MedicalSchemePerMonthMsg","Allow_MainMember_SelectMsg","percentageGreaterThan100Percent","donationRef_Validation2015","donationRef_Validation2016","notAllDigitsProvidedMessage","numberOfDigits","invalidSourceCodeEnteredMessage","invalidProfitLossPercentageMessage","displayFringeBenefitMoreThanContributionMessage","disabilityDate_ValidationMessage","check_UniqueIdentifierMessage","check_LessAmountDeductedMessage","crossAllowance_DeductionMessage","fieldname1","fieldname2","cross_CheckMessage","cross_RuleMessage","check_LessReoupmentsMessage","check_AllowableDeductionsMessage","fieldName1","fieldName2","cellNumberMessage","passportNumberMessage","declarationDateMessage","errorMessage","idNumberMessage","postalCodeMessage","taxRefNumberMessage","ReportingPeriodMessage","deletingRecordMessage","numericCheckTelNumberMessage","fieldID","giinNumberCheckMsg","fieldtypeservevices","$q","isValidDate","parameter","promise","resovle","validatePattern","isValid","match","isEmailAddressField","regEx","RegExp","test","value","name","isAlphaNumericField","isAlphaField","isMinFourPostalCode","isCurrencyFieldValidation","IdNumberFieldValidation","control","idNumber","correct","tempDate","Date","substring","id_date","getDate","id_month","getMonth","getYear","tempTotal","checkSum","multiplier","charAt","PassportNoNoSpacesDashesField","taxReferenceNumberVAlidation","newValue","firstDigitString","substr","firstDigitNumber","s","firstNineDigits","tenthDigit","controlDigit","generateControlDigit","isMinNineTelPhone","isGIINNoField","totalA","addDigits","totalB","number","total","chars","split","$inject","dateservices","isLeapYear","year","isLeap","isFutureDate","date","currentDate","dateObject","getDateObject","isWithinTaxYear","yearsOfAssessment","period","assessmentStartDate","assessmentEndDate","disabilityDateNotGreaterThanTaxYear","isModerateSevere_Date_Check","graceNoOfYears","gracePeriod","isStartLessThanEndDate","startDate","endDate","isPeriodWorkedLessThanAssessment","periodsWorked","periodsAssessed","undefined","isValidPeriodDate","dateString","month","day","getData","formData","key","isObject","v","k","checkLastTwoDigits","lastTwoDigitsArray","contains","validateCompanyRegNo","companyRegNumber","registeredNo","data","isNaN","now","yyyy","getFullYear","minYear","firstFourChars","firstSlashFifthChar","sixToElvenChars","secondSlashTwlvChar","charField","twlvToThirteenChars","MainController","$scope","$rootScope","$timeout","companyregservice","dataService","pagerservice","vm","rs","jurisdictionsArr","constituentArr","DefaultCBCReport","ConstEntities","ConstEntity","Name","BizActivities","save","formId","$","find","each","idx","input","console","log","attr","delay","minDuration","templateUrl","backdrop","myPromiseReport","myPromiseConstituent","myPromiseOtherInforMAtion","otherInforArr","constEntitiesOnJusArr","disabled","searchEnabled","setInputFocus","$broadcast","enable","disable","enableSearch","disableSearch","status","isFivmtOpen","isFivmtDisabled","statusCon","statusAdd","reportid","showreportDiv","showConstEntityDiv","constEntityId","oneAtATime","otherBusinessActivityIsRequired","countrycodes","code","BusinessActivity","mainBusinessActivitys","addresstypes","reportingRole","currencyCodes","CancelReport","type","then","result","$apply","ResCountryCode","dismiss","updateCBCReportOnEdit","isvalid","element","CBCReportFormDiv","scope","CBCReportFormValid","Summary","copy","DocSpec","validConstEntity","ConstituentFormValid","CompletetedReport","isUndefined","DocTypeIndic","valid","arrayLen","ShowCBCContainer","tableRowExpanded","tableRowIndexExpandedCurr","tableRowIndexExpandedPrev","storeIdExpanded","dayDataCollapseFn","dayDataCollapse","selectTableRow","addCBCReport","jurisdiction","noOfReports","CountryByCountryDeclaration","CBC_OECD","CbcBody","CbcReports","NoOfTaxJurisdictions","TaxJurisdictions","TaxJurisdiction","NoOfConstituentEntities","validEntity","onEditreportConstEntitiesValid","constObj","addNewConstituentObj","EditCBCReport","e","preventDefault","stopPropagation","isDefined","resCountryName","getNameOfSelectedCountryCode","EditConstituentEntity","reportIndex","entityResCountryName","updateConstituentEntity","cancelUpdateConstituentEntity","RemoveConstituentEntity","splice","addConstituentEntity","jurisdictions","isConstituentvalid","RemoveCBCReport","addRemoveCbcConstituent","event","indx","num","target","numOfCom","repeateTime","diff","objCons","initArray","updateCbcReport","cbcReportList","n","cbcReport","ProfitOrLoss","isCurrencyCode","Capital","TaxPaid","Earnings","TaxAccrued","Assets","Revenues","Unrelated","Related","Total","updateconstEntities","updateNoOfConstituentEntities","isIssuedByCode","constEntitiesList","c","nameArr","constituent","nameValue","IN","TIN","Address","updateMainBusinessAc","constEntitiesArr","constEntiti","busAccList","OtherEntityInfo","mainBusinessArr","addmainBusinessAc","addmainBusinessAcObj","removeMainBusinessAc","addOtherInforMAtionCon","addadditionalInfor","AdditionalInfo","removeOtherInforMAtionCon","updateAdditionalInfor","additionalInforArrs","a","additionalInforArr","SummaryRef","changeIntoAnArr","InArrs","ReportingEntity","Entity","newArr","error","addResidentCountry","res","RemoveResidentCountry","addSummaryRef","sum","RemoveRSummaryRef","getAngularData","CBCReportFormValidWithoutMessages","b","DeclarationDate","declerationDate","declerationDateFullDate","moment","format","MessageSpec","TransmittingCountry","ReceivingCountry","MessageType","SendingEntityIN","Language","Warning","Contact","ReportingPeriod","reportingPeriodDate","periodFullDate","DocRefId","MessageTypeIndic","noOfAdditionalCont","additionaInfo","checkCompanyReg","companyReg","alert","setFormData","readOnly","prepop","updateOnloadinitArray","json","fromJson","arrCreationForEntityName","arrCreationForEntityIn","formReportingPeriod","reportingdate","formDeclarationDate","Declarationdate","addnewObj","cbcreportModel","#text","constituentModel","addTaxJusObj","otherInforObj","mainBusAccobj","list","TaxJurisdictionList","taxNumberValidation","mandatoryErrorMessage","isFormValid","CBCForm","$valid","counter","requiredElements","uniqueArr","elmntID","id","additionalInfo","len","reportSummaryIsValid","errorMsg","reportConstEntitiesValid","additionalInfoLenght","j","additionalInfor","isAdditionalInfoValid","OtherInfo","isObjectRepeatingPropValid","repeatinProp","summary","NbEmployees","constEntities","entity","reportEntityIsValid","AddressFree","isBusinessActivitiesValid","buzActivities","buzActivity","runEmailAddressValidationOnExitRules","emailField","ContactDetails","EmailAddress","runDateValidationOnExitRules","dateField","tagName","runDeclarationDateValidationOnExit","initNameArry","deletionMessage","otherInfor","deletionReportMessage","deletionEntityMessage","prepopValueWhenNotEmpty","prepopValue","telNumberValidation","NumericCheckTelNumberMessage","validateGIINNoField","fieldVal","$error","required","$name","ConstituentEntity","onResCountryCodeSelect","onSelectedBizActivity","onEntityResCodeSelect","countryName","countryObj","controller","directive","require","link","attrs","modelCtrl","capitalize","inputValue","capitalized","toUpperCase","$setViewValue","$render","$parsers","ngModel","viewValue","newEmail","$viewValue","$setValidity","restrict","ctrl","$watch","reg","transformedValue","$modelValue","ngModelCtrl","fromUser","minlength","transformedInput","sarsMinlength","maxlength","sarsMaxlength","attributes","newVal","oldVal","triggerHandler","$set","css","array","el","replace","on","keyCode","allowNegative","allowDecimal","inArray","which","oVal","nVal","parseFloat","decimalCheck","decimalUpto","updateModelValue","$value","$eval","setExpression","modelDataSetter","updateViewValue","oldValue","updateExpression","getExpression","modelDataGetter","pattern","val","formDataModule","loadFormData","dataType","mainForm","loadForm","mandatoryIsValid","getFormData","dataObject","dataString","toJson","isEverythingValid","formTestApi","getLocalFormData","results","setAngularFormData","request","datatype","readyOnly","sessionStorage","clear","setFormDataTest","runBlock","$log","debug","run","constant","malarkey","config","$logProvider","toastrConfig","uiSelectConfig","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","theme","resetSearchInput","appendToBody","$templateCache","put"],"mappings":"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","file":"scripts/app-bacf7787d6.js","sourcesContent":["(function() {\n\nangular.module('cbcproject', ['ui.bootstrap','toastr',\"ui.select\",'19degrees.ngSweetAlert2','ngSanitize','cgBusy']);\n\n    angular.module('cbcproject').filter('propsFilter', function() {\n      return function(items, props) {\n        var out = [];\n    \n        if (angular.isArray(items)) {\n          var keys = Object.keys(props);\n    \n          items.forEach(function(item) {\n            var itemMatches = false;\n    \n            for (var i = 0; i < keys.length; i++) {\n              var prop = keys[i];\n              var text = props[prop].toLowerCase();\n              if (item[prop].toString().toLowerCase().indexOf(text) !== -1) {\n                itemMatches = true;\n                break;\n              }\n            }\n    \n            if (itemMatches) {\n              out.push(item);\n            }\n          });\n        } else {\n          // Let the output be the input untouched\n          out = items;\n        }\n    \n        return out;\n      };\n    });\n\n\n})();\n\n(function () {\r\n    angular.module('cbcproject').factory('pagerservice', function () {\r\n\r\n        var pages = 100;\r\n        var pageSize = 10;\r\n        var pageStart = 1;\r\n       \r\n        return {\r\n            init:init,\r\n            prevPage:prevPage,\r\n            nextPage:nextPage,\r\n            setPage:setPage\r\n        }\r\n       \r\n        function init (listOfObj) {\r\n            currentIndex = 1;\r\n            pageStart = 1;\r\n            pages = 10;\r\n            filteredItems = listOfObj;\r\n            pageNumber = parseInt(\"\" + (filteredItems.length / pageSize));\r\n            if (filteredItems.length % pageSize != 0) {\r\n                pageNumber++;\r\n            }\r\n            if (pageNumber < pages) {\r\n                pages = pageNumber;\r\n            }\r\n       refreshItems();\r\n\r\n            return {\r\n                items: items,\r\n                pagesIndex: pagesIndex,\r\n                pageNumber: pageNumber,\r\n                currentIndex: currentIndex\r\n            };\r\n        };\r\n        // FilterByName() {\r\n        //   filteredItems = [];\r\n        //   if (inputName != \"\") {\r\n        //     sarData.SarsRefDetails.forEach(element => {\r\n        //       if (element.CompanyNumber.toUpperCase().indexOf(inputName.toUpperCase()) >= 0) {\r\n        //         filteredItems.push(element);\r\n        //       }\r\n        //     });\r\n        //   } else {\r\n        //     filteredItems = sarData.SarsRefDetails;\r\n        //   }\r\n        //   console.log(filteredItems);\r\n        //   init();\r\n        // }\r\n        function fillArray () {\r\n            var obj = new Array();\r\n            for (var index = pageStart; index < pageStart + pages; index++) {\r\n                obj.push(index);\r\n            }\r\n            return obj;\r\n        };\r\n        function refreshItems () {\r\n            items = newMethod().slice((currentIndex - 1) * pageSize, (currentIndex) * pageSize);\r\n            pagesIndex = fillArray();\r\n        };\r\n        function newMethod () {\r\n            return filteredItems;\r\n        };\r\n        function prevPage () {\r\n            if (currentIndex > 1) {\r\n                currentIndex--;\r\n            }\r\n            if (currentIndex < pageStart) {\r\n                pageStart = currentIndex;\r\n            }\r\n          refreshItems();\r\n            return {\r\n                items: items,\r\n                currentIndex: currentIndex,\r\n                pagesIndex: pagesIndex,\r\n                pageNumber: pageNumber\r\n            };\r\n        };\r\n        function nextPage () {\r\n            if (currentIndex < pageNumber) {\r\n                currentIndex++;\r\n            }\r\n            if (currentIndex >= (pageStart + pages)) {\r\n                pageStart = currentIndex - pages + 1;\r\n            }\r\n           refreshItems();\r\n            return {\r\n                items: items,\r\n                currentIndex: currentIndex,\r\n                pagesIndex: pagesIndex,\r\n                pageNumber: pageNumber\r\n            };\r\n        };\r\n        function setPage (index) {\r\n            currentIndex = index;\r\n            refreshItems();\r\n            return {\r\n                items: items,\r\n                currentIndex: currentIndex,\r\n                pagesIndex: pagesIndex,\r\n                pageNumber: pageNumber\r\n            };\r\n        };\r\n    });\r\n})();\n(function(){\r\n    // 'use strict';\r\n    angular.module('cbcproject').factory('messageservices', messageservices);\r\n\r\n    function messageservices(){\r\n  \r\n        return{\r\n            negativeNumberMsg:negativeNumberMsg,\r\n            alphaNumericMsg:alphaNumericMsg,\r\n            maskPITRIncomeSourceCodeMsg:maskPITRIncomeSourceCodeMsg,\r\n            maskPITRDeductionSourceCodeMsg:maskPITRDeductionSourceCodeMsg,\r\n            crossReasonCodeCheckMsg:crossReasonCodeCheckMsg,\r\n            crossEmploymentDatesMsg:crossEmploymentDatesMsg,\r\n            DisabilitySeverity_Date_CheckMsg:DisabilitySeverity_Date_CheckMsg,\r\n            crossPayPeriodsAssessmentYearMsg:crossPayPeriodsAssessmentYearMsg,\r\n            dateRangeMsg:dateRangeMsg,\r\n            residenceCeaseMsg:residenceCeaseMsg,\r\n            crossUnemployedContainerChange:crossUnemployedContainerChange,\r\n            unemploymentUnbrokenPeriodsMsg:unemploymentUnbrokenPeriodsMsg,\r\n            autoCalcAnnualExclusionsMessage:autoCalcAnnualExclusionsMessage,\r\n            crossLockNonPrimaryResFieldsMessage:crossLockNonPrimaryResFieldsMessage,\r\n            crossCheckProceedsAmountR2mLessMessage:crossCheckProceedsAmountR2mLessMessage,\r\n            crossTravelLogBookMessage:crossTravelLogBookMessage,\r\n            exitFieldMessage:exitFieldMessage,\r\n            repeatRetirementMessage:repeatRetirementMessage,\r\n            mask_Modulus10CheckPAYENo:mask_Modulus10CheckPAYENo,\r\n            mask_Modulus10CheckTrustNo:mask_Modulus10CheckTrustNo,\r\n            localRemunerationSourceCode:localRemunerationSourceCode,\r\n            localAnnuitiesSourceCode:localAnnuitiesSourceCode,\r\n            localCapitalSourceCode:localCapitalSourceCode,\r\n            localBusinessTradingSourceCode:localBusinessTradingSourceCode,\r\n            localFarmingOperationsSourceCode:localFarmingOperationsSourceCode,\r\n            localOtherIncomeSourceCode:localOtherIncomeSourceCode,\r\n            foreignCapitalGainLossSourceCode:foreignCapitalGainLossSourceCode,\r\n            CrossIncomeProtectionMsg:CrossIncomeProtectionMsg,\r\n            Cross_MedicalSchemePerMonthMsg:Cross_MedicalSchemePerMonthMsg,\r\n            Allow_MainMember_SelectMsg:Allow_MainMember_SelectMsg,\r\n            percentageGreaterThan100Percent:percentageGreaterThan100Percent,\r\n            donationRef_Validation2015:donationRef_Validation2015,\r\n            donationRef_Validation2016:donationRef_Validation2016,\r\n            notAllDigitsProvidedMessage:notAllDigitsProvidedMessage,\r\n            invalidSourceCodeEnteredMessage:invalidSourceCodeEnteredMessage,\r\n            invalidProfitLossPercentageMessage:invalidProfitLossPercentageMessage,\r\n            displayFringeBenefitMoreThanContributionMessage:displayFringeBenefitMoreThanContributionMessage,\r\n            disabilityDate_ValidationMessage:disabilityDate_ValidationMessage,\r\n            check_UniqueIdentifierMessage:check_UniqueIdentifierMessage,\r\n            check_LessAmountDeductedMessage:check_LessAmountDeductedMessage,\r\n            crossAllowance_DeductionMessage:crossAllowance_DeductionMessage,\r\n            cross_CheckMessage:cross_CheckMessage,\r\n            cross_RuleMessage:cross_RuleMessage,\r\n            check_LessReoupmentsMessage:check_LessReoupmentsMessage,\r\n            check_AllowableDeductionsMessage:check_AllowableDeductionsMessage,\r\n            cellNumberMessage:cellNumberMessage,\r\n            passportNumberMessage:passportNumberMessage,\r\n            declarationDateMessage:declarationDateMessage,\r\n            idNumberMessage:idNumberMessage,\r\n            postalCodeMessage:postalCodeMessage,\r\n            emailAddressTelephoneMsg:emailAddressTelephoneMsg,\r\n            emailAddressMsg:emailAddressMsg,\r\n            taxRefNumberMessage:taxRefNumberMessage,\r\n            ReportingPeriodMessage:ReportingPeriodMessage,\r\n            deletingRecordMessage:deletingRecordMessage,\r\n            numericCheckTelNumberMessage:numericCheckTelNumberMessage,\r\n            giinNumberCheckMsg:giinNumberCheckMsg\r\n\r\n        }\r\n  \r\n\r\n        // Private functions\r\n        function errorAlert(massage){\r\n            swal('Error',massage);\r\n        }\r\n\r\n        function warningAlert(massage){\r\n            swal('Warning',massage);\r\n        }\r\n\r\n        function infoAlert(massage){\r\n            swal('Information',massage);\r\n        }\r\n\r\n        function  negativeNumberMsg (fieldName, fieldValue) {\r\n            if (angular.isNumber(fieldValue)) {\r\n                if (fieldValue < 0) {\r\n                    swal(fieldName + \" with value \" + fieldValue + \" may not be less than 0\");\r\n                }\r\n            }\r\n        }\r\n\r\n        function warningWithComformtion(resolve, reject){\r\n\r\n            return swal({\r\n                title: \"Warning\",\r\n                text: \"By selecting the Deletion option your record will be deleted, do you want to continue? Yes or No?\",\r\n                showCancelButton: true,\r\n                confirmButtonText: 'Yes',\r\n                cancelButtonText:'No',\r\n                confirmButtonColor: '#3085d6',\r\n                cancelButtonColor: '#d33',\r\n                allowOutsideClick: false\r\n            })\r\n\r\n        }\r\n\r\n        function emailAddressTelephoneMsg (){\r\n            var message = \"Please update your email address and telephone numbers and confirm that it is correct before submitting your return.\";\r\n            infoAlert(message);\r\n        }\r\n        \r\n        function emailAddressMsg (fieldname){\r\n            var message = \"The \"+ fieldname +\" you have entered does not seem to be valid. Please ensure that it is correct. <br><br><b>HINTS:</b><br>- Ensure that it has an @ sign and a .domain at the end.\";\r\n         errorAlert(message);\r\n            \r\n        }\r\n        \r\n         function alphaNumericMsg (fieldName){\r\n            var message = \"The \" + fieldName + \" you have entered does not seem to be valid. Please ensure that it is correct.<br><br><b>HINTS:</b><br>- Only alphanumeric digits may be used.\";\r\n            errorAlert(message);\r\n        }\r\n        \r\n        function maskPITRIncomeSourceCodeMsg (yearOfAssessment) {\r\n            var message = \"The Source Code you have entered does not seem to be valid. Please ensure that it is correct.<br><br>HINTS:<br>\";\r\n            message += \"Only numeric digits may be used.<br>\";\r\n            message += \"Ensure that the source code falls between the following ranges:<br>\";\r\n    \r\n            if (Number(yearOfAssessment) >= 2017) {\r\n                message += \"3601 – 3621, 3651 – 3670, 3701 - 3721, 3751 – 3771, 3801 – 3810, 3813, 3815, 3816, 3817, 3820,3821,3822, 3825, 3828, 3851 – 3860, 3863, 3865, 3866, 3867, 3870, 3871, 3872, 3875, 3878, 3901 – 3909, 3915, 3920 – 3923, 3951 – 3957\";\r\n            }\r\n    \r\n            if (Number(yearOfAssessment) >= 2014) {\r\n                message += \"3601 – 3617, 3651 – 3667, 3701 - 3718, 3751 – 3768, 3801 – 3810, 3813, 3815, 3816, 3820, 3821, 3822, 3851 – 3860, 3863, 3865, 3866, 3870, 3871, 3872, 3901 – 3909, 3915, 3920 – 3922, 3951 – 3957\";\r\n            }\r\n    \r\n            if (Number(yearOfAssessment) < 2014) {\r\n                message += \"3601 – 3617, 3651 – 3667, 3701 - 3718, 3751 – 3768, 3801 – 3810, 3813, 3815, 3851 – 3860, 3863, 3865, 3901 – 3909, 3915, 3920 – 3922, 3951 – 3957\";\r\n            }\r\n    \r\n            errorAlert(message);\r\n        }\r\n    \r\n        function maskPITRDeductionSourceCodeMsg (yearOfAssessment) {\r\n            var message = \"The Source Code you have entered does not seem to be valid. Please ensure that it is correct.<br><br>HINTS:<br>\";\r\n            message += \"Only numeric digits may be used.<br>\";\r\n            message += \"Ensure that the source code falls between the following ranges:<br>\";\r\n    \r\n            if (Number(yearOfAssessment) >= 2017) {\r\n                message += \"4001, 4003 – 4006, 4024 – 4026, 4030, 4472 – 4476, 4485 – 4487, 4493, 4582, 4583\";\r\n            }\r\n    \r\n            if (Number(yearOfAssessment) >= 2015) {\r\n                message += \"4001 – 4007, 4018, 4024 – 4026, 4030, 4472 – 4476, 4485 – 4487, 4493\";\r\n            }\r\n    \r\n            if (Number(yearOfAssessment) < 2014) {\r\n                message += \"4001 – 4007, 4018, 4024 – 4026, 4030, 4472 – 4476, 4485 – 4487, 4493\";\r\n            }\r\n    \r\n            errorAlert(message);\r\n        }\r\n    \r\n         function crossReasonCodeCheckMsg () {\r\n            var message = \"The Reason code you have entered does not seem to be valid. Please ensure that is is correct.<br><br>HINTS:<br>Only numeric digits may be used.<br>Ensure the reason code falls between 01 and 09\";\r\n            errorAlert(message);\r\n        }\r\n    \r\n    \r\n         function crossEmploymentDatesMsg (yearOfAssessment, field) {\r\n            var message = \"The \" + field + \" you have entered does not seem to be valid. Please ensure that it is correct.\";\r\n            message += \"<br><br>\";\r\n            message += \"<br>HINTS:\";\r\n            message += \"Only numeric digits may be used.<br>\";\r\n            message += \"The date may not be in the future.<br>\";\r\n            message += \"This date cannot be earlier that the 1st of March \" + (yearOfAssessment-1);\r\n            message += \".<br>The date cannot be later than the last day of February \" + yearOfAssessment;\r\n    \r\n            errorAlert(message);\r\n    \r\n        }\r\n    \r\n         function DisabilitySeverity_Date_CheckMsg (yearOfAssessment, field,noOfYrs) {\r\n            var message = \"The \" + field + \" you have entered does not seem to be valid. Please ensure that it is correct.\";\r\n            message += \"<br><br>\";\r\n            message += \"<br>HINTS:<br>\";\r\n            message += \"The date must fall within the current year of assessment<br>\";\r\n            message += \"or in one of the previous \" + noOfYrs + \" years of assessments<br>\";\r\n            message += \"The date must not be earlier that the 1st of March \" + ((yearOfAssessment - 1) - noOfYrs);\r\n            message += \".<br>The date may not be in the future\";\r\n    \r\n            errorAlert(message);\r\n    \r\n        }\r\n    \r\n         function crossPayPeriodsAssessmentYearMsg () {\r\n    \r\n            var message = \"The period Employed to you have entered does not seem to be valid. Please ensure that it is correct,\";\r\n            message += \"<br><br>\";\r\n            message += \"<br>HINTS:<br>\";\r\n            message += \"Only numeric digits may be used.<br>\";\r\n            message += \"The value cannot be greater than the Periods in Year of Assessment value.<br>\";\r\n            message += \"The number specified should include decimals.<br>\";\r\n            message += \"The value should be greater than 0.\";\r\n    \r\n            errorAlert(message);\r\n    \r\n    \r\n        }\r\n    \r\n        function dateRangeMsg (fieldName) {\r\n            errorAlert( \"The \" + fieldName + \" you have entered does not seem to be valid.  Please ensure that it is correct.<br><br>HINTS:<br>The “Unemployed to” date may not be prior to the “Unemployed from” Date\");\r\n        }\r\n    \r\n         function residenceCeaseMsg  () {\r\n            errorAlert( \"The Date you have entered does not seem to be valid.  Please ensure that it is correct.<br><br>HINTS:<br>The date must fall within the Year of Assessment of this return\");\r\n        }\r\n    \r\n         function crossUnemployedContainerChange () {\r\n            errorAlert( 'Please select the type of income accrued / received by answering the applicable question in the wizard.');\r\n        }\r\n    \r\n        function unemploymentUnbrokenPeriodsMsg (fieldName) {\r\n            errorAlert( \"The \" + fieldName + \" you have entered does not seem to be valid.  Please ensure that it is correct.<br><br>HINTS:<br>- The period of unemployment must fall within the current tax period\");\r\n        }\r\n    \r\n\r\n        function autoCalcAnnualExclusionsMessage () {\r\n            warningAlert(\"Please ensure that you have not included the annual inclusion rate as the applicable inclusion rate will be applied by SARS.\");\r\n        }\r\n    \r\n       function crossLockNonPrimaryResFieldsMessage () {\r\n        swal(\"Info\", \"As the primary residence is held jointly it will be considered to be held in equal shares.\");\r\n        }\r\n    \r\n        function crossCheckProceedsAmountR2mLessMessage  () {\r\n            swal(\"Warning\", \"As the proceeds on the disposal of the primary residence does not exceed R2 million and it resulted in a capital gain, the transaction is disregarded.\");\r\n        }\r\n    \r\n        function crossTravelLogBookMessage () {\r\n    \r\n            errorAlert( 'The claim can only be calculated based on a logbook');\r\n    \r\n        }\r\n    \r\n        function exitFieldMessage() {\r\n            swal(\"INFORMATION MESSAGE\", 'Please note that you must complete all Fringe Benefit fields with a value and the total should match the amount from your employer.');\r\n        }\r\n    \r\n        function repeatRetirementMessage () {\r\n            errorAlert(\"The number you have entered does not seem to be valid. Please ensure that it is correct. <br/><br/><b>HINTS:</b><br/><br/>- Only numeric digits may be used <br/>-The number must be greater than zero.\");\r\n        }\r\n    \r\n        function mask_Modulus10CheckPAYENo (fieldName) {\r\n            errorAlert(\"The \" + fieldName + \" you have entered does not seem to be valid. Please ensure that it is correct.<br>HINTS:<br>Only numeric digits may be used.\");\r\n        }\r\n    \r\n        function mask_Modulus10CheckTrustNo (fieldName) {\r\n            errorAlert(\"The \" + fieldName + \" you have entered does not seem to be valid. Please ensure that it is correct.<br>HINTS:<br>Only numeric digits may be used.\");\r\n        }\r\n    \r\n        function localRemunerationSourceCode (fieldName) {\r\n            errorAlert(\r\n                \"The \" + fieldName +\r\n                \" you have entered does not seem to be valid. Please ensure that it is correct.\" +\r\n                \"<br>HINTS:<br>Only numeric digits may be used.\" +\r\n                \"<br><br>Ensure that the source code falls in the following ranges:\" +\r\n                \"<br>3601 – 3606\" +\r\n                \"<br>3616, 3617 and 3667\"\r\n                );\r\n        }\r\n    \r\n        function localAnnuitiesSourceCode (fieldName) {\r\n            errorAlert(\r\n                \"The \" + fieldName +\r\n                \" you have entered does not seem to be valid. Please ensure that it is correct.\" +\r\n                \"<br>HINTS:<br>Only numeric digits may be used.\" +\r\n                \"<br><br>Ensure that the source code falls in the following ranges:\" +\r\n                \"<br>3610 or 3611\"\r\n                );\r\n        }\r\n    \r\n        function localCapitalSourceCode  (fieldName) {\r\n            errorAlert(\r\n                \"The \" + fieldName +\r\n                \" you have entered does not seem to be valid. Please ensure that it is correct.\" +\r\n                \"<br>HINTS:<br>Only numeric digits may be used.\" +\r\n                \"<br><br>Ensure that the source code falls in the following ranges:\" +\r\n                \"<br>4250 or 4250\"\r\n                );\r\n        }\r\n    \r\n        function localBusinessTradingSourceCode (fieldName) {\r\n            errorAlert(\r\n                \"The \" + fieldName +\r\n                \" you have entered does not seem to be valid. Please ensure that it is correct.\" +\r\n                \"<br>HINTS:<br>Only numeric digits may be used.\" +\r\n                \"<br><br>Ensure that a profit source code is entered and falls within the respective ranges (refer to guide).\"\r\n                );\r\n        }\r\n    \r\n        function localFarmingOperationsSourceCode (fieldName) {\r\n            errorAlert(\r\n                \"The \" + fieldName +\r\n                \" you have entered does not seem to be valid. Please ensure that it is correct.\" +\r\n                \"<br>HINTS:<br>Only numeric digits may be used.\" +\r\n                \"<br><br>Ensure that a profit source code is entered and falls within the respective ranges (refer to guide).\"\r\n                );\r\n        }\r\n    \r\n        function localOtherIncomeSourceCode (fieldName) {\r\n            errorAlert(\r\n                \"The \" + fieldName +\r\n                \" you have entered does not seem to be valid. Please ensure that it is correct.\" +\r\n                \"<br>HINTS:<br>Only numeric digits may be used.\" +\r\n                \"<br><br>Ensure that the source code falls in the following ranges:\" +\r\n                \"<br>4212 or 4214\"\r\n                );\r\n        }\r\n    \r\n        function foreignCapitalGainLossSourceCode (fieldName) {\r\n            errorAlert(\r\n                \"The \" + fieldName +\r\n                \" you have entered does not seem to be valid. Please ensure that it is correct.\" +\r\n                \"<br>HINTS:<br>Only numeric digits may be used.\" +\r\n                \"<br><br>Ensure that the source code falls in the following ranges:\" +\r\n                \"<br>4252 or 4253\"\r\n                );\r\n        }\r\n    \r\n        function CrossIncomeProtectionMsg () {\r\n            errorAlert(\"Please ensure that the amount entered is the total amount in respect of all policies that you yourself will derive a taxable benefit from, including the amount represented on your employees’ tax certificate.\");\r\n        }\r\n    \r\n        function Cross_MedicalSchemePerMonthMsg () {\r\n            errorAlert(\"The Number of Dependants you have entered does not seem to be valid. Please ensure that it is correct.<br/><br/>HINTS: <br/>- Only numeric digits may be used At least one value must be greater than 0\");\r\n        }\r\n    \r\n        function Allow_MainMember_SelectMsg () {\r\n            errorAlert(\"The option “Yourself ” may only be selected once\");\r\n        }\r\n    \r\n        function percentageGreaterThan100Percent (fieldName) {\r\n    \r\n            var message = \"The \" + fieldName + \" you have entered does not seem to be valid. Please ensure that it is correct,\";\r\n            message += \"<br><br>\";\r\n            message += \"<br>HINTS:<br>\";\r\n            message += \"Only numeric digits may be used.<br>\";\r\n            message += \"Ensure that the percentage is not greater than 100%.<br>\";\r\n            message += \"Amount specified should include decimals.\";\r\n    \r\n            errorAlert(message);\r\n        }\r\n         \r\n         function donationRef_Validation2015  (fieldName) {\r\n            swal(\"WARNING\", \"The \"+fieldName+\" you have entered does not seem to be valid. Please ensure that it is correct.<br/><br/><b>HINTS:</b><br/>- The field length must be 9 or 10 or 13\");\r\n         }\r\n         \r\n         function donationRef_Validation2016 (fieldName) {\r\n            swal(\"WARNING\", \"The \"+fieldName+\" you have entered does not seem to be valid. Please ensure that it is correct.\");\r\n         }\r\n         \r\n         function notAllDigitsProvidedMessage(fieldName, numberOfDigits) {\r\n    \r\n            var message = \"The \" + fieldName + \" you have entered does not seem to be valid. Please ensure that it is correct,\";\r\n            message += \"<br><br>\";\r\n            message += \"<br>HINTS:<br>\";\r\n            message += \"Only numeric digits may be used.<br>\";\r\n            message += \"All \" + numberOfDigits + \"digits must be completed.\";\r\n            errorAlert(message);\r\n         }\r\n    \r\n         function invalidSourceCodeEnteredMessage() {\r\n    \r\n            var message = \"The source code you have entered does not seem to be valid. Please ensure that it is correct.\";\r\n            message += \"<br>\";\r\n            message += \"<br>HINTS:<br>\";\r\n            message += \"Only numeric digits may be used.<br>\";\r\n            message += \"Ensure that the source code falls within the respective ranges (refer to Source Code Booklet available on the SARS website)\";\r\n            \r\n            errorAlert(message);\r\n        }\r\n    \r\n         function invalidProfitLossPercentageMessage () {\r\n    \r\n            var message = \"The profit/loss percentage you have entered does not seem to be valid. Please ensure that it is correct.\";\r\n            message += \"<br>\";\r\n            message += \"<br>HINTS:<br>\";\r\n            message += \"Only numeric digits may be used.<br>\";\r\n            message += \"Ensure that the percentage is not less than 0.01 and not greater or equals to 100%.<br>\";\r\n            message += \"Amount specified should include decimal values.\";\r\n            \r\n            errorAlert(message);\r\n        }\r\n    \r\n         function displayFringeBenefitMoreThanContributionMessage () {\r\n    \r\n            var message = \"Amount completed doesn’t seem to be valid. Please correct.\";\r\n            message += \"<br>\";\r\n            message += \"<br>HINTS:<br>\";\r\n            message += \"This amount cannot be more than the contributions made by the partnership.\";\r\n            \r\n            errorAlert(message);\r\n        }\r\n    \r\n         function disabilityDate_ValidationMessage (fieldname) {\r\n             var message = \" The \" + fieldname + \" you have entered does not seem to be valid Please ensure that it is correct<br> Hints:<br> The date cannot be if future and may not be greater than year of assessment\";\r\n             errorAlert(message);\r\n         }\r\n    \r\n         function check_UniqueIdentifierMessage (fieldname) {\r\n             var message = \" The \" + fieldname + \" you have entered does not seem to be valid Please ensure that it is correct<br> Hints:<br> Only numeric digits may be used. <br>Only numeric digits may be used\";\r\n             errorAlert(message);\r\n         }\r\n    \r\n         function check_LessAmountDeductedMessage (fieldname) {\r\n             var message = \" The \" + fieldname + \" (Less: Amount deducted) > cannot be larger than the <fieldname (SUB-TOTAL (ii))> above.\";\r\n             errorAlert(message);\r\n         }\r\n    \r\n         function crossAllowance_DeductionMessage  (fieldname1, fieldname2) {\r\n             var message = \" The value of \" + fieldname1 + \" must be the same as the value of \" + fieldname2;\r\n             errorAlert(message);\r\n         }\r\n    \r\n         function cross_CheckMessage (fieldname1) {\r\n             var message = \"The \" + fieldname1 + \" be larger than the sum of the Balance b/f Previous Year – Subsequent Year and the Deductions i.r.o. Purchases Current Year – Subsequent Year\";\r\n             errorAlert(message);\r\n         }\r\n    \r\n         function cross_RuleMessage (fieldname1, fieldname2) {\r\n             var message = \" The value of \" + fieldname1 + \" cannot be larger than \" + fieldname2;\r\n             errorAlert(message);\r\n         }\r\n    \r\n         function check_LessReoupmentsMessage () {\r\n             var message = \"This field cannot be greater than the “Balance b/f from Previous Year: field.\";\r\n             errorAlert(message);\r\n         }\r\n    \r\n        function check_AllowableDeductionsMessage (fieldName1, fieldName2) {\r\n             var message = \"The \" + fieldName1 + \" cannot be greater than the \" + fieldName2;\r\n             errorAlert(message);\r\n         }\r\n\r\n        function cellNumberMessage (){\r\n            errorAlert(\"The Cell No. you have entered does not seem to be valid. Please ensure that it is correct.<br/>\" +\r\n            \"HINTS:<br/><br/>- Only numeric digits may be used.<br/>\" +\r\n            \"At least 10 digits must be completed.\");\r\n        } \r\n\r\n        function passportNumberMessage(){\r\n            var errorMessage  = \"The Passport No. you have entered does not seem to be valid. Please ensure that it is correct.<br><br><b>HINTS:</b><br>- No spaces allowed.<br>-  Only alphanumeric digits may be used.<br>-  At least 8 digits must be completed.\";\r\n            errorAlert(message);\r\n        }\r\n\r\n        function declarationDateMessage (){\r\n            var errorMessage = \"The Declaration Date you have entered does not seem to be valid. Please ensure that it is correct.<br/><br/>HINTS:<br/><br/>- Only numeric digits may be used.<br/>- The date may not be in the future.\";\r\n            errorAlert(errorMessage);\r\n        }\r\n\r\n        function idNumberMessage (){\r\n            var errorMessage = \"The ID No. you have entered does not seem to be valid. Please ensure that it is correct.<br><br><b>HINTS:</b><br>- Only numeric digits may be used.\";\r\n            errorAlert(errorMessage);\r\n        }\r\n\r\n\r\n        function postalCodeMessage (fieldName){\r\n            var errorMessage = \"The \" + fieldName + \" you have entered does not seem to be valid. Please ensure that it is correct.<br> <b>HINTS:</b><br>Only alphanumeric digits may be used.<br> At least 4 digits must be completed.\";\r\n            errorAlert(errorMessage);\r\n        }\r\n\r\n        function taxRefNumberMessage(){\r\n            var errorMessage = \"The Tax Ref No. you have entered does not seem to be valid. Please ensure that it is correct.<br/>HINTS:<br/>Only numeric digits may be used.\";\r\n            errorAlert(errorMessage);\r\n\r\n        }\r\n        function ReportingPeriodMessage(){\r\n            var errorMessage = \"The Reporting Period (CCYYMMDD) you have entered does not seem to be valid. Please ensure that it is correct.<br/>HINTS:<br/>  Format:CCYYMMDD. <br/> Only numeric digits may be used.\";\r\n            errorAlert(errorMessage);\r\n\r\n        }\r\n\r\n        function deletingRecordMessage (){\r\n            return warningWithComformtion();\r\n        }\r\n\r\n        function numericCheckTelNumberMessage(fieldID){\r\n            var errorMessage = \"The \" + fieldID+ \" you have entered does not seem to be valid. Please ensure that it is correct.<br/>HINTS:<br/> Only numeric digits may be used. 3 or 4 digits must be completed for the area code.<br/>6 or 7 digits must be completed for the telephone number.\"\r\n            errorAlert(errorMessage);\r\n        }\r\n\r\n        function giinNumberCheckMsg() {\r\n            var message = \"The GIIN No. you have entered does not seem to be valid. Please ensure that is is correct.<br><br>HINTS:<br>Only alphanumeric digits may be used.<br>Ensure the format is XXXXXX.XXXXX.XX.XXX\";\r\n            errorAlert(message);\r\n        }\r\n        \r\n        function giinNumberCheckMsg() {\r\n            var message = \"The GIIN No. you have entered does not seem to be valid. Please ensure that is is correct.<br><br>HINTS:<br>Only alphanumeric digits may be used.<br>Ensure the format is XXXXXX.XXXXX.XX.XXX\";\r\n            errorAlert(message);\r\n        }\r\n    }\r\n})();\n(function () {\r\n   // 'use strict';\r\n    angular.module('cbcproject').factory('fieldtypeservevices', fieldtypeservevices);\r\n\r\n    function fieldtypeservevices($q) {\r\n\r\n        return {\r\n            isAlphaNumericField: isAlphaNumericField,\r\n            isAlphaField: isAlphaField,\r\n            isMinFourPostalCode: isMinFourPostalCode,\r\n            isCurrencyFieldValidation: isCurrencyFieldValidation,\r\n            IdNumberFieldValidation: IdNumberFieldValidation,\r\n            PassportNoNoSpacesDashesField: PassportNoNoSpacesDashesField,\r\n            isEmailAddressField: isEmailAddressField,\r\n            taxReferenceNumberVAlidation: taxReferenceNumberVAlidation,\r\n            isValidDate: isValidDate,\r\n            isMinNineTelPhone:isMinNineTelPhone,\r\n            isGIINNoField:isGIINNoField\r\n        }\r\n\r\n        function isValidDate(parameter) {\r\n            var promise = $q(function (resovle, reject) {\r\n                //var regEx = RegExp(\"/^(?:(?:19\\d{2}|18[89]\\d|20[0-4]\\d)([-\\/\\\\.\\s]?)(?:(?:0[13578]|1[02])(?:\\1)31|(?:0[13456789]|1[012])(?:\\1)(?:30|29)|(?:0[1-9]|1[012])(?:\\1)(?:0[1-9]|1\\d|2[0-8])))|(?:18(?:8[048]|9[26])|19(?:0[48]|[2468][048]|[13579][26])|20(?:0[048]|[24][048]|[13][26]))([-\\/\\\\.\\s]?)02(?:\\2)29$/\");\r\n                //var isValid = regEx.test(parameter);\r\n                var validatePattern = /^(?:(?:19\\d{2}|18[89]\\d|20[0-4]\\d)([-\\/\\\\.\\s]?)(?:(?:0[13578]|1[02])(?:\\1)31|(?:0[13456789]|1[012])(?:\\1)(?:30|29)|(?:0[1-9]|1[012])(?:\\1)(?:0[1-9]|1\\d|2[0-8])))|(?:18(?:8[048]|9[26])|19(?:0[48]|[2468][048]|[13579][26])|20(?:0[048]|[24][048]|[13][26]))([-\\/\\\\.\\s]?)02(?:\\2)29$/;\r\n                var isValid = parameter.match(validatePattern); //&& !function isFutureDate(parameter);\r\n\r\n                if (!isValid) {\r\n                    reject(parameter);\r\n                } else {\r\n                    resovle(parameter);\r\n                }\r\n            })\r\n            return promise;\r\n        }\r\n\r\n\r\n        function isEmailAddressField(parameter) {\r\n            var promise = $q(function (resovle, reject) {\r\n                // Livhu changed the regex due to the form capitilizes the user input, commented line below was the orininal\r\n                // var regEx = RegExp(\"^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$\");\r\n                var regEx = RegExp(\"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,3}$\");\r\n                var isValid = regEx.test(parameter.value);\r\n                if (!isValid) {\r\n                    reject(parameter.name);\r\n                } else {\r\n                    resovle(parameter);\r\n                }\r\n            })\r\n            return promise;\r\n        }\r\n\r\n        function isAlphaNumericField(parameter) {\r\n            var promise = $q(function (resovle, reject) {\r\n                var regEx = RegExp(\"^[ a-zA-Z0-9\\-]*$\");\r\n                var isValid = regEx.test(parameter.value);\r\n                if (!isValid) {\r\n                    reject(parameter.name);\r\n                } else {\r\n                    resovle(parameter);\r\n                }\r\n            })\r\n            return promise;\r\n        }\r\n\r\n        function isAlphaField(parameter) {\r\n\r\n            var promise = $q(function (resovle, reject) {\r\n                var regEx = RegExp(\"^[a-zA-Z]*$\");\r\n                var isValid = regEx.test(parameter);\r\n                if (!isValid) {\r\n                    reject(parameter);\r\n                } else {\r\n                    resovle(parameter);\r\n                }\r\n            })\r\n            return promise;\r\n        }\r\n\r\n        function isMinFourPostalCode(parameter) {\r\n\r\n            var promise = $q(function (resovle, reject) {\r\n                var regEx = RegExp(\"^[ a-zA-Z0-9]{4,10}$\");\r\n                var isValid = regEx.test(parameter.value);\r\n                if (!isValid) {\r\n                    reject(parameter.name);\r\n                } else {\r\n                    resovle(parameter);\r\n                }\r\n            })\r\n            return promise;\r\n        }\r\n\r\n        function isCurrencyFieldValidation(parameter) {\r\n\r\n            var promise = $q(function (resovle, reject) {\r\n                var regEx = RegExp(\"^[0-9]*$\");\r\n                var isValid = regEx.test(parameter);\r\n                if (!isValid) {\r\n                    reject(parameter);\r\n                } else {\r\n                    resovle(parameter);\r\n                }\r\n            })\r\n            return promise;\r\n        }\r\n\r\n        function IdNumberFieldValidation(control) {\r\n\r\n\r\n            var promise = $q(function (resovle, reject) {\r\n                var idNumber = control;\r\n                // assume everything is correct and if it later turns out not to be, just set this to false\r\n                var correct = true;\r\n\r\n                if (control !== '') {\r\n                    //Ref: http://www.sadev.co.za/content/what-south-african-id-number-made\r\n                    // SA ID Number have to be 13 digits, so check the length\r\n                    if (idNumber.length !== 13) {\r\n                        correct = false;\r\n                    }\r\n\r\n                    // get first 6 digits as a valid date\r\n                    var tempDate = new Date(idNumber.substring(0, 2), idNumber.substring(2, 4) - 1, idNumber.substring(4, 6));\r\n\r\n                    var id_date = tempDate.getDate();\r\n                    var id_month = tempDate.getMonth();\r\n                    // var id_year = tempDate.getFullYear();\r\n                    id_month = Number(id_month) + 1;\r\n\r\n                    //  var fullDate = id_date + \"-\" + id_month.toString() + \"-\" + id_year;\r\n\r\n                    if (!((tempDate.getYear() === Number(idNumber.substring(0, 2))) && (id_month === Number(idNumber.substring(2, 4))) && (id_date === Number(idNumber.substring(4, 6))))) {\r\n                        correct = false;\r\n                    }\r\n\r\n                    // get the gender\r\n                    //   var genderCode = idNumber.substring(6, 10);\r\n                    // var gender = parseInt(genderCode) < 5000 ? \"Female\" : \"Male\";\r\n\r\n                    // get country ID for citzenship\r\n                    // var citzenship = parseInt(idNumber.substring(10, 11)) === 0 ? \"Yes\" : \"No\";\r\n\r\n                    // apply Luhn formula for check-digits\r\n                    var tempTotal = 0;\r\n                    var checkSum = 0;\r\n                    var multiplier = 1;\r\n                    for (var i = 0; i < 13; ++i) {\r\n                        tempTotal = parseInt(idNumber.charAt(i)) * multiplier;\r\n                        if (tempTotal > 9) {\r\n                            tempTotal = parseInt(tempTotal.toString().charAt(0)) + parseInt(tempTotal.toString().charAt(1));\r\n                        }\r\n                        checkSum = checkSum + tempTotal;\r\n                        multiplier = (multiplier % 2 === 0) ? 1 : 2;\r\n                    }\r\n                    if ((checkSum % 10) !== 0) {\r\n                        correct = false;\r\n                    }\r\n\r\n                }\r\n                if (!correct) {\r\n                    reject(control);\r\n                } else {\r\n                    resovle(control);\r\n                }\r\n            })\r\n            return promise;\r\n            // first clear any left over error messages\r\n\r\n\r\n        }\r\n\r\n        function PassportNoNoSpacesDashesField(control) {\r\n            var promise = $q(function (resovle, reject) {\r\n                var regEx = RegExp(\"^[a-zA-Z0-9]{8,18}$\");\r\n                var isValid = regEx.test(control);\r\n                if (!isValid) {\r\n                    reject(control);\r\n                } else {\r\n                    resovle(control);\r\n                }\r\n            })\r\n            return promise;\r\n        }\r\n\r\n        function taxReferenceNumberVAlidation(newValue) {\r\n\r\n            var promise = $q(function (resovle, reject) {\r\n\r\n                if (newValue.length > 0) {\r\n                    // check that the given number is ten digits long\r\n                    if (newValue.length != 10) {\r\n                        reject();\r\n                        return;\r\n                    }\r\n\r\n                    // check that the first digit is either 0, 1, 2 or 3\r\n                    var firstDigitString = newValue.substr(0, 1);\r\n                    var firstDigitNumber = Number(firstDigitString);\r\n\r\n                    if (firstDigitNumber != 9) {\r\n\r\n                        reject();\r\n                        return;\r\n                    }\r\n\r\n\r\n                    var s = newValue;\r\n                    var i = \".\"\r\n\r\n                    if (s.indexOf(i) > -1) {\r\n                        //trace(\"contains fullstop\");\r\n                        reject();\r\n                        return;\r\n                    }\r\n\r\n                    if (newValue == \"2222222222\" || newValue == \"0000000000\" || newValue == \"9999999999\") {\r\n\r\n                        reject();\r\n                        return;\r\n                    }\r\n\r\n                    // finally check that the control digit is valid\r\n                    var firstNineDigits = newValue.substr(0, 9);\r\n                    var tenthDigit = newValue.substr(9, 1);\r\n                    var controlDigit = generateControlDigit(firstNineDigits);\r\n\r\n                    if ((controlDigit + Number(tenthDigit)) % 10 != 0) {\r\n                        reject();\r\n                        return;\r\n                    }\r\n\r\n                } else {\r\n                    resovle();\r\n\r\n                }\r\n\r\n\r\n            })\r\n\r\n            return promise\r\n        }\r\n\r\n        function isMinNineTelPhone(value) {\r\n\r\n            var promise = $q(function (resolve, reject) {\r\n                var regEx = RegExp(\"^[0-9]{10,15}$\");\r\n                var isValid = regEx.test(value);\r\n                if (!isValid) {\r\n                    reject();\r\n                } else {\r\n                    resolve();\r\n                }\r\n            })\r\n            return promise;\r\n        }\r\n        \r\n    }\r\n\r\n    function generateControlDigit(firstNineDigits) {\r\n\r\n        var controlDigit = 0;\r\n\r\n        var totalA = addDigits((Number(firstNineDigits.substring(0, 1)) * 2).toString()) + addDigits((Number(firstNineDigits.substring(2, 3)) * 2).toString()) + addDigits((Number(firstNineDigits.substring(4, 5)) * 2).toString()) + addDigits((Number(firstNineDigits.\r\n            substring(6, 7)) * 2).toString()) + addDigits((Number(firstNineDigits.substring(8, 9)) * 2).toString());\r\n        var totalB = Number(firstNineDigits.substring(1, 2)) + Number(firstNineDigits.substring(3, 4)) + Number(firstNineDigits.substring(5, 6)) + Number(firstNineDigits.substring(7, 8));\r\n\r\n        controlDigit = totalA + totalB;\r\n\r\n        return controlDigit;\r\n\r\n    }\r\n    function addDigits(number) {\r\n        var total = 0;\r\n\r\n        for (var i = 0; i < number.length; i++) {\r\n            total += Number(number.substring(i, (i + 1)));\r\n        }\r\n\r\n        return total;\r\n    }\r\n    \r\n    function isGIINNoField(parameter) {\r\n        var isValid = false;\r\n        if((parameter.length > 0 && parameter.length === 19) && (parameter.indexOf('.') >= 6)){\r\n            var chars = parameter.split('.');\r\n            if(chars[0].length === 6 && chars[1].length === 5 && chars[2].length === 2 && chars[3].length === 3){\r\n                isValid = true;\r\n            }\r\n            if(isValid){\r\n                var regEx = RegExp(\"^([A-Z0-9]{6})+\\.([A-Z0-9]{5})+\\.([A-Z0-9]{2})+\\.([A-Z0-9]{3})$\");\r\n                return regEx.test(parameter);\r\n            }\r\n            \r\n        }\r\n       \r\n        return false;\r\n        \r\n    }\r\n\r\n\r\n})();\n//dateservices\r\n(function () {\r\n    // 'use strict';\r\n    angular.module('cbcproject').factory('dateservices', dateservices);\r\n\r\n    function dateservices($q) {\r\n        return {\r\n            isLeapYear: isLeapYear,\r\n            isFutureDate: isFutureDate,\r\n            isWithinTaxYear: isWithinTaxYear,\r\n            disabilityDateNotGreaterThanTaxYear: disabilityDateNotGreaterThanTaxYear,\r\n            isModerateSevere_Date_Check: isModerateSevere_Date_Check,\r\n            isStartLessThanEndDate: isStartLessThanEndDate,\r\n            isPeriodWorkedLessThanAssessment: isPeriodWorkedLessThanAssessment,\r\n            isValidDate: isValidDate,\r\n            isValidPeriodDate: isValidPeriodDate\r\n\r\n        }\r\n\r\n        function startsBeforeEndDate(startDate, endDate) {\r\n            var valid = true;\r\n\r\n            return valid;\r\n\r\n        }\r\n\r\n\r\n        function isLeapYear(year) {\r\n\r\n            var promise = $q(function (resovle, reject) {\r\n                var year = Number(year);\r\n                var isLeap = (year % 100 === 0) ? (year % 400 === 0) : (year % 4 === 0);\r\n                if (!isLeap) {\r\n                    reject(year);\r\n                } else {\r\n                    resovle(year);\r\n                }\r\n            })\r\n            return promise;\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n        function isFutureDate(date) {\r\n              \r\n            var promise = $q(function (resovle, reject) {\r\n                var year = date.substr(0, 4);\r\n                var month = date.substr(4, 2);\r\n                var day = date.substr(6, 2);\r\n    \r\n                var currentDate = new Date();\r\n    \r\n                var dateObject = getDateObject(date);\r\n                if (dateObject > currentDate) {\r\n                    resovle(date);\r\n                }else{\r\n                    reject(parameter);\r\n                }\r\n\r\n            })\r\n            return promise;\r\n            \r\n        }\r\n\r\n\r\n        function isWithinTaxYear(yearsOfAssessment, period) {\r\n\r\n            var promise = $q(function (resovle, reject) {\r\n                var assessmentStartDate = new Date((Number(yearsOfAssessment) - 1), 2, 1);\r\n                var assessmentEndDate = new Date(Number(yearsOfAssessment), 2, 1);\r\n                var isValid = true;\r\n                var period = getDateObject(period);\r\n                if (period < assessmentStartDate) {\r\n                    reject();\r\n                }\r\n    \r\n                if (period > assessmentEndDate) {\r\n                    reject();\r\n                }\r\n                if (isValid) {\r\n                    resovle();\r\n                } \r\n            })\r\n            return promise;\r\n        }\r\n\r\n        function disabilityDateNotGreaterThanTaxYear(yearsOfAssessment, period) {\r\n\r\n            var promise = $q(function (resovle, reject) {\r\n                var assessmentStartDate = new Date((Number(yearsOfAssessment) - 1), 2, 1);\r\n                var assessmentEndDate = new Date(Number(yearsOfAssessment), 2, 1);\r\n                var isValid = true;\r\n                var period = getDateObject(period);\r\n                if (period > assessmentEndDate) {\r\n                    reject();\r\n                }else {\r\n                    resovle();\r\n                }\r\n            })\r\n            return promise;\r\n           \r\n        }\r\n\r\n        function isModerateSevere_Date_Check(yearsOfAssessment, period, graceNoOfYears) {\r\n\r\n            var promise = $q(function (resovle, reject) {\r\n\r\n                var assessmentStartDate = new Date((Number(yearsOfAssessment) - 1), 2, 1);\r\n                var gracePeriod = new Date((Number(yearsOfAssessment - graceNoOfYears) - 1), 2, 1)\r\n                var assessmentEndDate = new Date(Number(yearsOfAssessment), 2, 1);\r\n                var isValid = true;\r\n                period = getDateObject(period);\r\n\r\n                if (period < gracePeriod) {\r\n                    reject();\r\n                }\r\n    \r\n                if (period > assessmentEndDate) {\r\n                    reject();\r\n                }\r\n                if (isValid){\r\n                    resovle();\r\n                }\r\n            })\r\n            return promise;\r\n           \r\n        }\r\n\r\n        function isStartLessThanEndDate(startDate, endDate) {\r\n\r\n            var promise = $q(function (resovle, reject) {\r\n\r\n                if (!startDate && !endDate) {\r\n                    reject();\r\n                }\r\n    \r\n                if (startDate.length !== 8 || endDate.length !== 8) {\r\n                    reject();\r\n                }\r\n    \r\n                startDate = getDateObject(startDate);\r\n                endDate = getDateObject(endDate);\r\n                resovle (startDate < endDate);\r\n            })\r\n            return promise;\r\n            \r\n        }\r\n\r\n        function isPeriodWorkedLessThanAssessment(periodsWorked, periodsAssessed) {\r\n\r\n            var promise = $q(function (resovle, reject) {\r\n                if (periodsWorked === \"null\" || periodsWorked === \"\" || periodsWorked === undefined || periodsWorked === \"undefined\") {\r\n                    reject();\r\n                }\r\n    \r\n                if (periodsAssessed === \"null\" || periodsAssessed === \"\" || periodsAssessed === undefined || periodsAssessed === \"undefined\") {\r\n                    reject();\r\n                }\r\n    \r\n                resovle (Number(periodsWorked) <= Number(periodsAssessed));\r\n\r\n\r\n            })\r\n            return promise;\r\n        }\r\n\r\n        function isValidPeriodDate(parameter) {\r\n            var promise = $q(function (resovle, reject) {\r\n                //var regEx = RegExp(\"/^(?:(?:19\\d{2}|18[89]\\d|20[0-4]\\d)([-\\/\\\\.\\s]?)(?:(?:0[13578]|1[02])(?:\\1)31|(?:0[13456789]|1[012])(?:\\1)(?:30|29)|(?:0[1-9]|1[012])(?:\\1)(?:0[1-9]|1\\d|2[0-8])))|(?:18(?:8[048]|9[26])|19(?:0[48]|[2468][048]|[13579][26])|20(?:0[048]|[24][048]|[13][26]))([-\\/\\\\.\\s]?)02(?:\\2)29$/\");\r\n                //var isValid = regEx.test(parameter);\r\n                var validatePattern = /^(?:(?:19\\d{2}|18[89]\\d|20[0-4]\\d)([-\\/\\\\.\\s]?)(?:(?:0[13578]|1[02])(?:\\1)31|(?:0[13456789]|1[012])(?:\\1)(?:30|29)|(?:0[1-9]|1[012])(?:\\1)(?:0[1-9]|1\\d|2[0-8])))|(?:18(?:8[048]|9[26])|19(?:0[48]|[2468][048]|[13579][26])|20(?:0[048]|[24][048]|[13][26]))([-\\/\\\\.\\s]?)02(?:\\2)29$/;\r\n                var isValid = parameter.match(validatePattern) //&& !function isFutureDate(parameter);\r\n\r\n                if (!isValid) {\r\n                    reject(parameter);\r\n                } else {\r\n                    resovle(parameter);\r\n                }\r\n            })\r\n            return promise;\r\n        }\r\n\r\n        function isValidDate(parameter) {\r\n            var promise = $q(function (resovle, reject) {\r\n                //var regEx = RegExp(\"/^(?:(?:19\\d{2}|18[89]\\d|20[0-4]\\d)([-\\/\\\\.\\s]?)(?:(?:0[13578]|1[02])(?:\\1)31|(?:0[13456789]|1[012])(?:\\1)(?:30|29)|(?:0[1-9]|1[012])(?:\\1)(?:0[1-9]|1\\d|2[0-8])))|(?:18(?:8[048]|9[26])|19(?:0[48]|[2468][048]|[13579][26])|20(?:0[048]|[24][048]|[13][26]))([-\\/\\\\.\\s]?)02(?:\\2)29$/\");\r\n                //var isValid = regEx.test(parameter);\r\n                var validatePattern = /^(?:(?:19\\d{2}|18[89]\\d|20[0-4]\\d)([-\\/\\\\.\\s]?)(?:(?:0[13578]|1[02])(?:\\1)31|(?:0[13456789]|1[012])(?:\\1)(?:30|29)|(?:0[1-9]|1[012])(?:\\1)(?:0[1-9]|1\\d|2[0-8])))|(?:18(?:8[048]|9[26])|19(?:0[48]|[2468][048]|[13579][26])|20(?:0[048]|[24][048]|[13][26]))([-\\/\\\\.\\s]?)02(?:\\2)29$/;\r\n                var isValid = parameter.match(validatePattern) && !isFutureDate(parameter);\r\n\r\n                if (!isValid) {\r\n                    reject(parameter);\r\n                } else {\r\n                    resovle(parameter);\r\n                }\r\n            })\r\n            return promise;\r\n        }\r\n\r\n    }\r\n\r\n    function getDateObject(dateString) {\r\n        if (dateString !== null) {\r\n            if(dateString.length==8){\r\n            var year = dateString.substr(0, 4);\r\n            var month = dateString.substr(4, 2);\r\n            var day = dateString.substr(6, 2);\r\n            return new Date(year, (month - 1), day);\r\n            }\r\n            else{\r\n                if(dateString.length==10){\r\n                    var year = dateString.substr(0, 4);\r\n                    var month = dateString.substr(5, 2);\r\n                    var day = dateString.substr(8, 2);\r\n                    return new Date(year, (month - 1), day);\r\n                    }\r\n                    else{\r\n\r\n                        return new Date(1900, 1, 1, 12, 0, 0, 0);\r\n                    }\r\n\r\n            }\r\n        } else {\r\n            return new Date(1900, 1, 1, 12, 0, 0, 0);\r\n        }\r\n    }\r\n})();\r\n\r\n\n(function(){\r\nangular.module('cbcproject').factory('dataService',function(){\r\n\r\n    return{\r\n        getData: function(formData){\r\n          if (formData) {\r\n            (function filter(obj) {\r\n                angular.forEach(obj, function ( value ,key) {\r\n                    if (value === \"\" || value === 'null' || value === null) {\r\n                        delete obj[key];\r\n                    } else if (angular.isObject(value)) {\r\n                        filter(value);\r\n                    } else if (angular.isArray(value)) {\r\n                        angular.forEach(value, function (v, k) { filter(v); });\r\n                    }\r\n                });\r\n            })(formData);\r\n            return formData;\r\n        }\r\n        return \"\";\r\n        }\r\n    }\r\n});\r\n})();\n(function () {\r\n    angular.module('cbcproject').factory('companyregservice', function () {\r\n\r\n        return {\r\n            validateCompanyRegNo: function (companyRegNumber) {\r\n\r\n                if(companyRegNumber.length == 9) {\r\n                    if(registeredNo.data.substring(0,1) != \"K\") {\r\n                        return false;\r\n                    }\r\n                    if(isNaN(Number(companyRegNumber.substring(1)))) {\r\n                        return false;\r\n                    }\r\n                    return true;\r\n                }else{\r\n                    var now = new Date();\r\n                    var yyyy = now.getFullYear();\r\n                    var minYear = 1800;\r\n                    var firstChar = companyRegNumber.toString().substr(0, 1);\r\n                    var firstFourChars = companyRegNumber.toString().substr(0, 4);\r\n                    var firstSlashFifthChar = companyRegNumber.toString().substr(4, 1);\r\n                    var sixToElvenChars = companyRegNumber.toString().substr(5, 6);\r\n                    var secondSlashTwlvChar = companyRegNumber;\r\n                    var charField = secondSlashTwlvChar.substr(11,1);\r\n                    var twlvToThirteenChars = companyRegNumber.toString().substr(12, 2);\r\n                    \r\n                    if ((isNaN(Number(firstFourChars))) || (isNaN(Number(sixToElvenChars)))) {\r\n                        return false;\r\n                    }\r\n                    \r\n                    if (Number(firstFourChars) > yyyy || Number(firstFourChars) < minYear) {\r\n                        return false;\r\n                    }\r\n                    \r\n                    if (firstSlashFifthChar != \"/\") {\r\n                        return false;\r\n                    }\r\n                    \r\n                    if (charField != \"/\") {\r\n                        return false;\r\n                    }\r\n                    \r\n                    if (registeredNo.data.length > 14) {\r\n                        return false;\r\n                    }\r\n                    \r\n                    return checkLastTwoDigits(twlvToThirteenChars);\r\n\r\n                }\r\n                \r\n            }\r\n        }\r\n\r\n        function checkLastTwoDigits(value) {\r\n\t\t\tvar lastTwoDigitsArray = [\"06\", \"07\", \"08\", \"09\", \"10\", \"11\", \"20\", \"21\", \"22\", \"23\", \"24\", \"25\", \"26\",\"30\",\"31\"];\r\n\t\t\treturn lastTwoDigitsArray.contains(value);\r\n\t\t}\r\n\r\n    })\r\n    \r\n}());\n(function () {\n  //'use strict';\n\n\n  angular.module('cbcproject').controller('MainController', MainController);\n\n\n  function MainController($scope, $rootScope, $timeout, companyregservice, fieldtypeservevices, messageservices, dateservices, dataService, pagerservice) {\n    var vm = $scope;\n    var rs = $rootScope;\n    vm.jurisdictionsArr = []\n    vm.constituentArr = [];\n    //vm.country = {};\n\n    /**pager */\n    // vm.Items =[];\n    // vm.pageNumber = 0;\n    // vm.currentIndex = 1;\n    // vm.pagesIndex = [];\n    // vm.prevPage = function() {\n\n    //   var previouspage =pagerservice.prevPage();\n    //   vm.items =prevpage.items;\n    //   vm.pagesIndex = previouspage.pagesIndex;\n    //   vm.pageNumber = previouspage.pageNumber;\n    //   vm.currentIndex = previouspage.currentIndex;\n    // }\n    // vm.nextPage=function (){\n\n    //   var nextpage = pagerservice.prevPage();\n    //   vm.items =nextpage.items;\n    //   vm.pagesIndex = nextpage.pagesIndex;\n    //   vm.pageNumber = nextpage.pageNumber;\n    //   vm.currentIndex = nextpage.currentIndex;\n\n    // }\n\n    // vm.setPage=function(index) {\n\n    //   var setpage = pagerservice.setPage(index);\n    //   vm.items = setpage.items;\n    //   vm.pagesIndex = setpage.pagesIndex;\n    //   vm.pageNumber = setpage.pageNumber;\n    //   vm.currentIndex = setpage.currentIndex;\n\n    // }\n\n    // vm.addedIitmes =function()\n    // {\n    //   if(vm.jurisdictionsArr.length > 0 && vm.jurisdictionsArr[1].ConstEntities){\n    //     var addedIitmes= pagerservice.init(vm.jurisdictionsArr[1].ConstEntities);\n    //     vm.items = addedIitmes.items;\n    //     vm.pageNumber =addedIitmes.pageNumber;\n    //     vm.currentIndex =  addedIitmes.currentIndex;\n    //     vm.pagesIndex   =addedIitmes.pagesIndex;\n\n    //   }\n\n    // }  \n    /**End Pagination */\n\n\n\n    vm.DefaultCBCReport = [\n      {\n        \"ConstEntities\": [\n\n          {\n            \"ConstEntity\":\n              {\n                \"Name\": []\n              },\n            \"BizActivities\": [null]\n          }\n\n        ]\n\n      }\n    ];\n\n    vm.save = function (formId) {\n      $('#test').find('input').each(function (idx, input) {\n        console.log('nkm', $(input).attr(\"disabled\", \"disabled\"));\n      });\n    }\n    vm.delay = 0;\n    vm.minDuration = 0;\n    vm.templateUrl = '';\n    vm.message = 'Please Wait...';\n    vm.backdrop = true;\n    vm.myPromiseReport = null;\n    vm.myPromiseConstituent = null;\n    vm.myPromiseOtherInforMAtion = null;\n    vm.otherInforArr = [];\n    vm.formData = {};\n    vm.constEntitiesOnJusArr = [];\n\n    vm.disabled = undefined;\n    vm.searchEnabled = undefined;\n\n    vm.setInputFocus = function () {\n      vm.$broadcast('uiSelectDemo1');\n    };\n\n    vm.enable = function () {\n      vm.disabled = false;\n    };\n\n    vm.disable = function () {\n      vm.disabled = true;\n    };\n\n    vm.enableSearch = function () {\n      vm.searchEnabled = true;\n    };\n\n    vm.disableSearch = function () {\n      vm.searchEnabled = false;\n    };\n\n    vm.status = {\n      isFivmtOpen: true,\n      isFivmtDisabled: false\n    };\n\n    vm.statusCon = {\n      isFivmtOpen: true,\n      isFivmtDisabled: false\n    };\n\n    vm.statusAdd = {\n      isFivmtOpen: true,\n      isFivmtDisabled: false\n    };\n    vm.reportid = null;\n    vm.showreportDiv = false;\n    vm.showConstEntityDiv = true;\n    vm.constEntityId;\n    vm.oneAtATime = true;\n    vm.otherBusinessActivityIsRequired = false;\n\n    vm.countrycodes = [\n\n      { code: \"AF\", name: \"AFGHANISTAN\" },\n\n      { code: \"AX\", name: \"ALAND ISLANDS\" },\n\n      { code: \"AL\", name: \"ALBANIA\" },\n\n      { code: \"DZ\", name: \"ALGERIA\" },\n\n      { code: \"AS\", name: \"AMERICAN SAMOA\" },\n\n      { code: \"AD\", name: \"ANDORRA\" },\n\n      { code: \"AO\", name: \"ANGOLA\" },\n\n      { code: \"AI\", name: \"ANGUILLA\" },\n\n      { code: \"AQ\", name: \"ANTARCTICA\" },\n\n      { code: \"AG\", name: \"ANTIGUA AND BARBUDA\" },\n\n      { code: \"AR\", name: \"ARGENTINA\" },\n\n      { code: \"AM\", name: \"ARMENIA\" },\n\n      { code: \"AW\", name: \"ARUBA\" },\n\n      { code: \"AU\", name: \"AUSTRALIA\" },\n\n      { code: \"AT\", name: \"AUSTRIA\" },\n\n      { code: \"AZ\", name: \"AZERBAIJAN\" },\n\n      { code: \"BS\", name: \"BAHAMAS\" },\n\n      { code: \"BH\", name: \"BAHRAIN\" },\n\n      { code: \"BD\", name: \"BANGLADESH\" },\n\n      { code: \"BB\", name: \"BARBADOS\" },\n\n      { code: \"BY\", name: \"BELARUS\" },\n\n      { code: \"BE\", name: \"BELGIUM\" },\n\n      { code: \"BZ\", name: \"BELIZE\" },\n\n      { code: \"BJ\", name: \"BENIN\" },\n\n      { code: \"BM\", name: \"BERMUDA\" },\n\n      { code: \"BT\", name: \"BHUTAN\" },\n\n      { code: \"BO\", name: \"BOLIVIA, PLURINATIONAL STATE OF\" },\n\n      { code: \"BQ\", name: \"BONAIRE, SINT EUSTATIUS AND SABA\" },\n\n      { code: \"BA\", name: \"BOSNIA AND HERZEGOVINA\" },\n\n      { code: \"BW\", name: \"BOTSWANA\" },\n\n      { code: \"BV\", name: \"BOUVET ISLAND\" },\n\n      { code: \"BR\", name: \"BRAZIL\" },\n\n      { code: \"IO\", name: \"BRITISH INDIAN OCEAN TERRITORY\" },\n\n      { code: \"BN\", name: \"BRUNEI DARUSSALAM\" },\n\n      { code: \"BG\", name: \"BULGARIA\" },\n\n      { code: \"BF\", name: \"BURKINA FASO\" },\n\n      { code: \"BI\", name: \"BURUNDI\" },\n\n      { code: \"KH\", name: \"CAMBODIA\" },\n\n      { code: \"CM\", name: \"CAMEROON\" },\n\n      { code: \"CA\", name: \"CANADA\" },\n\n      { code: \"CV\", name: \"CAPE VERDE\" },\n\n      { code: \"KY\", name: \"CAYMAN ISLANDS\" },\n\n      { code: \"CF\", name: \"CENTRAL AFRICAN REPUBLIC\" },\n\n      { code: \"TD\", name: \"CHAD\" },\n\n      { code: \"CL\", name: \"CHILE\" },\n\n      { code: \"CN\", name: \"CHINA\" },\n\n      { code: \"CX\", name: \"CHRISTMAS ISLAND\" },\n\n      { code: \"CC\", name: \"COCOS (KEELING) ISLANDS\" },\n\n      { code: \"CO\", name: \"COLOMBIA\" },\n\n      { code: \"KM\", name: \"COMOROS\" },\n\n      { code: \"CG\", name: \"CONGO\" },\n\n      { code: \"CD\", name: \"CONGO, THE DEMOCRATIC REPUBLIC OF THE\" },\n\n      { code: \"CK\", name: \"COOK ISLANDS\" },\n\n      { code: \"CR\", name: \"COSTA RICA\" },\n\n      { code: \"CI\", name: \"COTE D'IVOIRE\" },\n\n      { code: \"HR\", name: \"CROATIA\" },\n\n      { code: \"CU\", name: \"CUBA\" },\n\n      { code: \"CW\", name: \"CURACAO\" },\n\n      { code: \"CY\", name: \"CYPRUS\" },\n\n      { code: \"CZ\", name: \"CZECH REPUBLIC\" },\n\n      { code: \"DK\", name: \"DENMARK\" },\n\n      { code: \"DJ\", name: \"DJIBOUTI\" },\n\n      { code: \"DM\", name: \"DOMINICA\" },\n\n      { code: \"DO\", name: \"DOMINICAN REPUBLIC\" },\n\n      { code: \"EC\", name: \"ECUADOR\" },\n\n      { code: \"EG\", name: \"EGYPT\" },\n\n      { code: \"SV\", name: \"EL SALVADOR\" },\n\n      { code: \"GQ\", name: \"EQUATORIAL GUINEA\" },\n\n      { code: \"ER\", name: \"ERITREA\" },\n\n      { code: \"EE\", name: \"ESTONIA\" },\n\n      { code: \"ET\", name: \"ETHIOPIA\" },\n\n      { code: \"FK\", name: \"FALKLAND ISLANDS (MALVINAS)\" },\n\n      { code: \"FO\", name: \"FAROE ISLANDS\" },\n\n      { code: \"FJ\", name: \"FIJI\" },\n\n      { code: \"FI\", name: \"FINLAND\" },\n\n      { code: \"FR\", name: \"FRANCE\" },\n\n      { code: \"GF\", name: \"FRENCH GUIANA\" },\n\n      { code: \"PF\", name: \"FRENCH POLYNESIA\" },\n\n      { code: \"TF\", name: \"FRENCH SOUTHERN TERRITORIES\" },\n\n      { code: \"GA\", name: \"GABON\" },\n\n      { code: \"GM\", name: \"GAMBIA\" },\n\n      { code: \"GE\", name: \"GEORGIA\" },\n\n      { code: \"DE\", name: \"GERMANY\" },\n\n      { code: \"GH\", name: \"GHANA\" },\n\n      { code: \"GI\", name: \"GIBRALTAR\" },\n\n      { code: \"GR\", name: \"GREECE\" },\n\n      { code: \"GL\", name: \"GREENLAND\" },\n\n      { code: \"GD\", name: \"GRENADA\" },\n\n      { code: \"GP\", name: \"GUADELOUPE\" },\n\n      { code: \"GU\", name: \"GUAM\" },\n\n      { code: \"GT\", name: \"GUATEMALA\" },\n\n      { code: \"GG\", name: \"GUERNSEY\" },\n\n      { code: \"GN\", name: \"GUINEA\" },\n\n      { code: \"GW\", name: \"GUINEA-BISSAU\" },\n\n      { code: \"GY\", name: \"GUYANA\" },\n\n      { code: \"HT\", name: \"HAITI\" },\n\n      { code: \"HM\", name: \"HEARD ISLAND AND MCDONALD ISLANDS\" },\n\n      { code: \"VA\", name: \"HOLY SEE (VATICAN CITY STATE)\" },\n\n      { code: \"HN\", name: \"HONDURAS\" },\n\n      { code: \"HK\", name: \"HONG KONG\" },\n\n      { code: \"HU\", name: \"HUNGARY\" },\n\n      { code: \"IS\", name: \"ICELAND\" },\n\n      { code: \"IN\", name: \"INDIA\" },\n\n      { code: \"ID\", name: \"INDONESIA\" },\n\n      { code: \"IR\", name: \"IRAN, ISLAMIC REPUBLIC OF\" },\n\n      { code: \"IQ\", name: \"IRAQ\" },\n\n      { code: \"IE\", name: \"IRELAND\" },\n\n      { code: \"IM\", name: \"ISLE OF MAN\" },\n\n      { code: \"IL\", name: \"ISRAEL\" },\n\n      { code: \"IT\", name: \"ITALY\" },\n\n      { code: \"JM\", name: \"JAMAICA\" },\n\n      { code: \"JP\", name: \"JAPAN\" },\n\n      { code: \"JE\", name: \"JERSEY\" },\n\n      { code: \"JO\", name: \"JORDAN\" },\n\n      { code: \"KZ\", name: \"KAZAKHSTAN\" },\n\n      { code: \"KE\", name: \"KENYA\" },\n\n      { code: \"KI\", name: \"KIRIBATI\" },\n\n      { code: \"KP\", name: \"KOREA, DEMOCRATIC PEOPLE'S REPUBLIC OF\" },\n\n      { code: \"KR\", name: \"KOREA, REPUBLIC OF\" },\n\n      { code: \"KW\", name: \"KUWAIT\" },\n\n      { code: \"KG\", name: \"KYRGYZSTAN\" },\n\n      { code: \"LA\", name: \"LAO PEOPLE'S DEMOCRATIC REPUBLIC\" },\n\n      { code: \"LV\", name: \"LATVIA\" },\n\n      { code: \"LB\", name: \"LEBANON\" },\n\n      { code: \"LS\", name: \"LESOTHO\" },\n\n      { code: \"LR\", name: \"LIBERIA\" },\n\n      { code: \"LY\", name: \"LIBYA\" },\n\n      { code: \"LI\", name: \"LIECHTENSTEIN\" },\n\n      { code: \"LT\", name: \"LITHUANIA\" },\n\n      { code: \"LU\", name: \"LUXEMBOURG\" },\n\n      { code: \"MO\", name: \"MACAO\" },\n\n      { code: \"MK\", name: \"MACEDONIA, THE FORMER YUGOSLAV REPUBLIC OF\" },\n\n      { code: \"MG\", name: \"MADAGASCAR\" },\n\n      { code: \"MW\", name: \"MALAWI\" },\n\n      { code: \"MY\", name: \"MALAYSIA\" },\n\n      { code: \"MV\", name: \"MALDIVES\" },\n\n      { code: \"ML\", name: \"MALI\" },\n\n      { code: \"MT\", name: \"MALTA\" },\n\n      { code: \"MH\", name: \"MARSHALL ISLANDS\" },\n\n      { code: \"MQ\", name: \"MARTINIQUE\" },\n\n      { code: \"MR\", name: \"MAURITANIA\" },\n\n      { code: \"MU\", name: \"MAURITIUS\" },\n\n      { code: \"YT\", name: \"MAYOTTE\" },\n\n      { code: \"MX\", name: \"MEXICO\" },\n\n      { code: \"FM\", name: \"MICRONESIA, FEDERATED STATES OF\" },\n\n      { code: \"MD\", name: \"MOLDOVA, REPUBLIC OF\" },\n\n      { code: \"MC\", name: \"MONACO\" },\n\n      { code: \"MN\", name: \"MONGOLIA\" },\n\n      { code: \"ME\", name: \"MONTENEGRO\" },\n\n      { code: \"MS\", name: \"MONTSERRAT\" },\n\n      { code: \"MA\", name: \"MOROCCO\" },\n\n      { code: \"MZ\", name: \"MOZAMBIQUE\" },\n\n      { code: \"MM\", name: \"MYANMAR\" },\n\n      { code: \"NA\", name: \"NAMIBIA\" },\n\n      { code: \"NR\", name: \"NAURU\" },\n\n      { code: \"NP\", name: \"NEPAL\" },\n\n      { code: \"NL\", name: \"NETHERLANDS\" },\n\n      { code: \"NC\", name: \"NEW CALEDONIA\" },\n\n      { code: \"NZ\", name: \"NEW ZEALAND\" },\n\n      { code: \"NI\", name: \"NICARAGUA\" },\n\n      { code: \"NE\", name: \"NIGER\" },\n\n      { code: \"NG\", name: \"NIGERIA\" },\n\n      { code: \"NU\", name: \"NIUE\" },\n\n      { code: \"NF\", name: \"NORFOLK ISLAND\" },\n\n      { code: \"MP\", name: \"NORTHERN MARIANA ISLANDS\" },\n\n      { code: \"NO\", name: \"NORWAY\" },\n\n      { code: \"OM\", name: \"OMAN\" },\n\n      { code: \"PK\", name: \"PAKISTAN\" },\n\n      { code: \"PW\", name: \"PALAU\" },\n\n      { code: \"PS\", name: \"PALESTINE, STATE OF\" },\n\n      { code: \"PA\", name: \"PANAMA\" },\n\n      { code: \"PG\", name: \"PAPUA NEW GUINEA\" },\n\n      { code: \"PY\", name: \"PARAGUAY\" },\n\n      { code: \"PE\", name: \"PERU\" },\n\n      { code: \"PH\", name: \"PHILIPPINES\" },\n\n      { code: \"PN\", name: \"PITCAIRN\" },\n\n      { code: \"PL\", name: \"POLAND\" },\n\n      { code: \"PT\", name: \"PORTUGAL\" },\n\n      { code: \"PR\", name: \"PUERTO RICO\" },\n\n      { code: \"QA\", name: \"QATAR\" },\n\n      { code: \"RE\", name: \"REUNION\" },\n\n      { code: \"RO\", name: \"ROMANIA\" },\n\n      { code: \"RU\", name: \"RUSSIAN FEDERATION\" },\n\n      { code: \"RW\", name: \"RWANDA\" },\n\n      { code: \"BL\", name: \"SAINT BARTHELEMY\" },\n\n      { code: \"SH\", name: \"SAINT HELENA, ASCENSION AND TRISTAN DA CUNHA\" },\n\n      { code: \"KN\", name: \"SAINT KITTS AND NEVIS\" },\n\n      { code: \"LC\", name: \"SAINT LUCIA\" },\n\n      { code: \"MF\", name: \"SAINT MARTIN (FRENCH PART)\" },\n\n      { code: \"PM\", name: \"SAINT PIERRE AND MIQUELON\" },\n\n      { code: \"VC\", name: \"SAINT VINCENT AND THE GRENADINES\" },\n\n      { code: \"WS\", name: \"SAMOA\" },\n\n      { code: \"SM\", name: \"SAN MARINO\" },\n\n      { code: \"ST\", name: \"SAO TOME AND PRINCIPE\" },\n\n      { code: \"SA\", name: \"SAUDI ARABIA\" },\n\n      { code: \"SN\", name: \"SENEGAL\" },\n\n      { code: \"RS\", name: \"SERBIA\" },\n\n      { code: \"SC\", name: \"SEYCHELLES\" },\n\n      { code: \"SL\", name: \"SIERRA LEONE\" },\n\n      { code: \"SG\", name: \"SINGAPORE\" },\n\n      { code: \"SX\", name: \"SINT MAARTEN (DUTCH PART)\" },\n\n      { code: \"SK\", name: \"SLOVAKIA\" },\n\n      { code: \"SI\", name: \"SLOVENIA\" },\n\n      { code: \"SB\", name: \"SOLOMON ISLANDS\" },\n\n      { code: \"SO\", name: \"SOMALIA\" },\n\n      { code: \"ZA\", name: \"SOUTH AFRICA\" },\n\n      { code: \"GS\", name: \"SOUTH GEORGIA AND THE SOUTH SANDWICH ISLANDS\" },\n\n      { code: \"SS\", name: \"SOUTH SUDAN\" },\n\n      { code: \"ES\", name: \"SPAIN\" },\n\n      { code: \"LK\", name: \"SRI LANKA\" },\n\n      { code: \"SD\", name: \"SUDAN\" },\n\n      { code: \"SR\", name: \"SURIname:\" },\n\n      { code: \"SJ\", name: \"SVALBARD AND JAN MAYEN\" },\n\n      { code: \"SZ\", name: \"SWAZILAND\" },\n\n      { code: \"SE\", name: \"SWEDEN\" },\n\n      { code: \"CH\", name: \"SWITZERLAND\" },\n\n      { code: \"SY\", name: \"SYRIAN ARAB REPUBLIC\" },\n\n      { code: \"TW\", name: \"TAIWAN, PROVINCE OF CHINA\" },\n\n      { code: \"TJ\", name: \"TAJIKISTAN\" },\n\n      { code: \"TZ\", name: \"TANZANIA, UNITED REPUBLIC OF\" },\n\n      { code: \"TH\", name: \"THAILAND\" },\n\n      { code: \"TL\", name: \"TIMOR-LESTE\" },\n\n      { code: \"TG\", name: \"TOGO\" },\n\n      { code: \"TK\", name: \"TOKELAU\" },\n\n      { code: \"TO\", name: \"TONGA\" },\n\n      { code: \"TT\", name: \"TRINIDAD AND TOBAGO\" },\n\n      { code: \"TN\", name: \"TUNISIA\" },\n\n      { code: \"TR\", name: \"TURKEY\" },\n\n      { code: \"TM\", name: \"TURKMENISTAN\" },\n\n      { code: \"TC\", name: \"TURKS AND CAICOS ISLANDS\" },\n\n      { code: \"TV\", name: \"TUVALU\" },\n\n      { code: \"UG\", name: \"UGANDA\" },\n\n      { code: \"UA\", name: \"UKRAINE\" },\n\n      { code: \"AE\", name: \"UNITED ARAB EMIRATES\" },\n\n      { code: \"GB\", name: \"UNITED KINGDOM\" },\n\n      { code: \"US\", name: \"UNITED STATES\" },\n\n      { code: \"UM\", name: \"UNITED STATES MINOR OUTLYING ISLANDS\" },\n\n      { code: \"UY\", name: \"URUGUAY\" },\n\n      { code: \"UZ\", name: \"UZBEKISTAN\" },\n\n      { code: \"VU\", name: \"VANUATU\" },\n\n      { code: \"VE\", name: \"VENEZUELA, BOLIVARIAN REPUBLIC OF\" },\n\n      { code: \"VN\", name: \"VIET NAM\" },\n\n      { code: \"VG\", name: \"VIRGIN ISLANDS, BRITISH\" },\n\n      { code: \"VI\", name: \"VIRGIN ISLANDS, U.S.\" },\n\n      { code: \"WF\", name: \"WALLIS AND FUTUNA\" },\n\n      { code: \"EH\", name: \"WESTERN SAHARA\" },\n\n      { code: \"YE\", name: \"YEMEN\" },\n\n      { code: \"ZM\", name: \"ZAMBIA\" },\n\n      { code: \"ZW\", name: \"ZIMBABWE\" },\n\n      { code: \"XK\", name: \"KOSOVO\" },\n\n      { code: \"X5\", name: \"STATELESS\" }\n\n    ];\n\n    vm.BusinessActivity = [\n      { name: \"CBC601- Revenues - Unrelated\", code: \"CBC601\" },\n      { name: \"CBC602- Revenues – Related\", code: \"CBC602\" },\n      { name: \"CBC603- Revenues – Total\", code: \"CBC603\" },\n      { name: \"CBC604- Profit or Loss\", code: \"CBC604\" },\n      { name: \"CBC605- Tax Paid\", code: \"CBC605\" },\n      { name: \"CBC606- Tax Accrued\", code: \"CBC606\" },\n      { name: \"CBC607- Capital\", code: \"CBC607\" },\n      { name: \"CBC608- Earnings\", code: \"CBC608\" },\n      { name: \"CBC609- Number of Employees\", code: \"CBC609\" },\n      { name: \"CBC610- Assets\", code: \"CBC610\" },\n      { name: \"CBC611- Name of MNE Group\", code: \"CBC611\" }\n    ];\n\n    vm.mainBusinessActivitys = [\n      { name: \"CBC501- Research and Development\", code: \"CBC501\" },\n      { name: \"CBC502- Holding or Managing intellectual property\", code: \"CBC502\" },\n      { name: \"CBC503- Purchasing or Procurement\", code: \"CBC503\" },\n      { name: \"CBC504- Manufacturing or Production\", code: \"CBC504\" },\n      { name: \"CBC505- Sales, Marketing or Distribution\", code: \"CBC505\" },\n      { name: \"CBC506- Administrative, Management or Support Services\", code: \"CBC506\" },\n      { name: \"CBC507- Provision of Services to unrelated parties\", code: \"CBC507\" },\n      { name: \"CBC508- Internal Group Finance\", code: \"CBC508\" },\n      { name: \"CBC509- Regulated Financial Services\", code: \"CBC509\" },\n      { name: \"CBC510- Insurance\", code: \"CBC510\" },\n      { name: \"CBC511- Holding shares or other equity instruments\", code: \"CBC511\" },\n      { name: \"CBC512- Dormant\", code: \"CBC512\" },\n      { name: \"CBC513- Other\", code: \"CBC513\" }\n\n    ];\n\n    vm.addresstypes = [\n      { name: \"OECD301- Residential Or Business\", code: \"OECD301\" },\n      { name: \"OECD302- Residential\", code: \"OECD302\" },\n      { name: \"OECD303- Business\", code: \"OECD303\" },\n      { name: \"OECD304- Registered Office\", code: \"OECD304\" }\n    ];\n\n    vm.reportingRole = [\n      { name: \"CBC701- Ultimate Parent Entity\", code: \"CBC701\" },\n      { name: \"CBC702- Surrogate Parent Entity\", code: \"CBC702\" },\n      { name: \"CBC703- Local Filing\", code: \"CBC703\" }\n    ];\n\n    vm.currencyCodes = [\n\n      { code: \"AED\", name: \"UAE Dirham: UNITED ARAB EMIRATES\" },\n      { code: \"AFN\", name: \"Afghani: AFGHANISTAN\" },\n      { code: \"ALL\", name: \"Lek: ALBANIA\" },\n      { code: \"AMD\", name: \"Armenian Dram: ARMENIA\t\" },\n      { code: \"ANG\", name: \"Netherlands Antillean Guilder: CURACAO; SINT MAARTEN (DUTCH PART)\" },\n      { code: \"AOA\", name: \"Kwanza: ANGOLA\" },\n      { code: \"ARS\", name: \"Argentine Peso: ARGENTINA\" },\n      { code: \"AUD\", name: \"Australian Dollar: AUSTRALIA; CHRISTMAS ISLAND; COCOS (KEELING) ISLANDS; HEARD ISLAND AND McDONALD ISLANDS; KIRIBATI; NAURU; NORFOLK ISLAND; TUVALU\" },\n      { code: \"AWG\", name: \"Aruban Florin: ARUBA\" },\n      { code: \"AZN\", name: \"Azerbaijanian Manat: AZERBAIJAN\" },\n      { code: \"BAM\", name: \"Convertible Mark: BOSNIA AND HERZEGOVINA\" },\n      { code: \"BBD\", name: \"Barbados Dollar: BARBADOS\" },\n      { code: \"BDT\", name: \"Taka: BANGLADESH\" },\n      { code: \"BGN\", name: \"Bulgarian Lev: BULGARIA\" },\n      { code: \"BHD\", name: \"Bahraini Dinar: BAHRAIN\" },\n      { code: \"BIF\", name: \"Burundi Franc: BURUNDI\" },\n      { code: \"BMD\", name: \"Bermudian Dollar: BERMUDA\" },\n      { code: \"BND\", name: \"Brunei Dollar: BRUNEI DARUSSALAM\" },\n      { code: \"BOB\", name: \"Boliviano: BOLIVIA, PLURINATIONAL STATE OF\" },\n      { code: \"BOV\", name: \"Mvdol: BOLIVIA, PLURINATIONAL STATE OF\" },\n      { code: \"BRL\", name: \"Brazilian Real: BRAZIL\" },\n      { code: \"BSD\", name: \"Bahamian Dollar: BAHAMAS\" },\n      { code: \"BTN\", name: \"Ngultrum: BHUTAN\" },\n      { code: \"BWP\", name: \"Pula: BOTSWANA\" },\n      { code: \"BYR\", name: \"Belarussian Ruble: BELARUS\" },\n      { code: \"BZD\", name: \"Belize Dollar: BELIZE\" },\n      { code: \"CAD\", name: \"Canadian Dollar: CANADA\" },\n      { code: \"CDF\", name: \"Congolese Franc: CONGO, THE DEMOCRATIC REPUBLIC OF\" },\n      { code: \"CHE\", name: \"WIR Euro: SWITZERLAND\" },\n      { code: \"CHF\", name: \"Swiss Franc: LIECHTENSTEIN; SWITZERLAND\" },\n      { code: \"CHW\", name: \"WIR Franc: SWITZERLAND\" },\n      { code: \"CLF\", name: \"Unidades de fomento: CHILE\" },\n      { code: \"CLP\", name: \"Chilean Peso: CHILE\" },\n      { code: \"CNY\", name: \"Yuan Renminbi: CHINA\" },\n      { code: \"COP\", name: \"Colombian Peso: COLOMBIA\" },\n      { code: \"COU\", name: \"Unidad de Valor Real: COLOMBIA\" },\n      { code: \"CRC\", name: \"Costa Rican Colon: COSTA RICA\" },\n      { code: \"CUC\", name: \"Peso Convertible: CUBA\" },\n      { code: \"CUP\", name: \"Cuban Peso: CUBA\" },\n      { code: \"CVE\", name: \"Cape Verde Escudo: CAPE VERDE\" },\n      { code: \"CZK\", name: \"Czech Koruna: CZECH REPUBLIC\" },\n      { code: \"DJF\", name: \"Djibouti Franc: DJIBOUTI\" },\n      { code: \"DKK\", name: \"Danish Krone: DENMARK; FAROE ISLANDS; GREENLAND\" },\n      { code: \"DOP\", name: \"Dominican Peso: DOMINICAN REPUBLIC\" },\n      { code: \"DZD\", name: \"Algerian Dinar: ALGERIA\" },\n      { code: \"EGP\", name: \"Egyptian Pound: EGYPT\" },\n      { code: \"ERN\", name: \"Nakfa: ERITREA\" },\n      { code: \"ETB\", name: \"Ethiopian Birr: ETHIOPIA\" },\n      { code: \"EUR\", name: \"Euro: ALAND ISLANDS; ANDORRA; AUSTRIA; BELGIUM; CYPRUS; ESTONIA; EUROPEAN UNION; FINLAND; FRANCE; FRENCH GUIANA; FRENCH SOUTHERN TERRITORIES; GERMANY; GREECE; GUADELOUPE; HOLY SEE (VATICAN CITY STATE); IRELAND; ITALY; LUXEMBOURG; MALTA; MARTINIQUE; MAYOTTE; MONACO; MONTENEGRO; NETHERLANDS; PORTUGAL; REUNION; SAINT BARTHELEMY; SAINT MARTIN (FRENCH PART); SAINT PIERRE AND MIQUELON; SAN MARINO; SLOVAKIA; SLOVENIA; SPAIN; Vatican City State (HOLY SEE)\" },\n      { code: \"FJD\", name: \"Fiji Dollar: FIJI\" },\n      { code: \"FKP\", name: \"Falkland Islands Pound: FALKLAND ISLANDS (MALVINAS)\" },\n      { code: \"GBP\", name: \"Pound Sterling: GUERNSEY; ISLE OF MAN; JERSEY; UNITED KINGDOM\" },\n      { code: \"GEL\", name: \"Lari: GEORGIA\" },\n      { code: \"GHS\", name: \"Ghana Cedi: GHANA\" },\n      { code: \"GIP\", name: \"Gibraltar Pound: GIBRALTAR\" },\n      { code: \"GMD\", name: \"Dalasi: GAMBIA\" },\n      { code: \"GNF\", name: \"Guinea Franc: GUINEA\" },\n      { code: \"GTQ\", name: \"Quetzal: GUATEMALA\" },\n      { code: \"GYD\", name: \"Guyana Dollar: GUYANA\" },\n      { code: \"HKD\", name: \"Hong Kong Dollar: HONG KONG\" },\n      { code: \"HNL\", name: \"Lempira: HONDURAS\" },\n      { code: \"HRK\", name: \"Croatian Kuna: CROATIA\" },\n      { code: \"HTG\", name: \"Gourde: HAITI\" },\n      { code: \"HUF\", name: \"Forint: HUNGARY\" },\n      { code: \"IDR\", name: \"Rupiah: INDONESIA\" },\n      { code: \"ILS\", name: \"New Israeli Sheqel: ISRAEL\" },\n      { code: \"INR\", name: \"Indian Rupee: BHUTAN; INDIA\" },\n      { code: \"IQD\", name: \"Iraqi Dinar: IRAQ\" },\n      { code: \"IRR\", name: \"Iranian Rial: IRAN, ISLAMIC REPUBLIC OF\" },\n      { code: \"ISK\", name: \"Iceland Krona: ICELAND\" },\n      { code: \"JMD\", name: \"Jamaican Dollar: JAMAICA\" },\n      { code: \"JOD\", name: \"Jordanian Dinar: JORDAN\" },\n      { code: \"JPY\", name: \"Yen: JAPAN\" },\n      { code: \"KES\", name: \"Kenyan Shilling: KENYA\" },\n\n      { code: \"KGS\", name: \"Som: KYRGYZSTAN\" },\n\n      { code: \"KHR\", name: \"Riel: CAMBODIA\" },\n\n      { code: \"KMF\", name: \"Comoro Franc: COMOROS\" },\n\n      { code: \"KPW\", name: \"North Korean Won: KOREA, DEMOCRATIC PEOPLE’S REPUBLIC OF\" },\n\n      { code: \"KRW\", name: \"Won: KOREA, REPUBLIC OF\" },\n\n      { code: \"KWD\", name: \"Kuwaiti Dinar: KUWAIT\" },\n\n      { code: \"KYD\", name: \"Cayman Islands Dollar: CAYMAN ISLANDS\" },\n\n      { code: \"KZT\", name: \"Tenge: KAZAKHSTAN\" },\n\n      { code: \"LAK\", name: \"Kip: LAO PEOPLE’S DEMOCRATIC REPUBLIC\" },\n\n      { code: \"LBP\", name: \"Lebanese Pound: LEBANON\" },\n\n      { code: \"LKR\", name: \"Sri Lanka Rupee: SRI LANKA\" },\n\n      { code: \"LRD\", name: \"Liberian Dollar: LIBERIA\" },\n\n      { code: \"LSL\", name: \"Loti: LESOTHO\" },\n\n      { code: \"LTL\", name: \"Lithuanian Litas: LITHUANIA\" },\n\n      { code: \"LVL\", name: \"Latvian Lats: LATVIA\" },\n\n      { code: \"LYD\", name: \"Libyan Dinar: LIBYA\" },\n\n      { code: \"MAD\", name: \"Moroccan Dirham: MOROCCO; WESTERN SAHARA\" },\n\n      { code: \"MDL\", name: \"Moldovan Leu: MOLDOVA, REPUBLIC OF\" },\n\n      { code: \"MGA\", name: \"Malagasy Ariary: MADAGASCAR\" },\n\n      { code: \"MKD\", name: \"Denar: MACEDONIA, THE FORMER YUGOSLAV REPUBLIC OF\" },\n\n      { code: \"MMK\", name: \"Kyat: MYANMAR\" },\n\n      { code: \"MNT\", name: \"Tugrik: MONGOLIA\" },\n\n      { code: \"MOP\", name: \"Pataca: MACAO\" },\n\n      { code: \"MRO\", name: \"Ouguiya: MAURITANIA\" },\n\n      { code: \"MUR\", name: \"Mauritius Rupee: MAURITIUS\" },\n\n      { code: \"MVR\", name: \"Rufiyaa: MALDIVES\" },\n\n      { code: \"MWK\", name: \"Kwacha: MALAWI\" },\n\n      { code: \"MXN\", name: \"Mexican Peso: MEXICO\" },\n\n      { code: \"MXV\", name: \"Mexican Unidad de Inversion (UDI): MEXICO\" },\n\n      { code: \"MYR\", name: \"Malaysian Ringgit: MALAYSIA\" },\n\n      { code: \"MZN\", name: \"Mozambique Metical: MOZAMBIQUE\" },\n\n      { code: \"NAD\", name: \"Namibia Dollar: NAMIBIA\" },\n\n      { code: \"NGN\", name: \"Naira: NIGERIA\" },\n\n      { code: \"NIO\", name: \"Cordoba Oro: NICARAGUA\" },\n\n      { code: \"NOK\", name: \"Norwegian Krone: BOUVET ISLAND; NORWAY; SVALBARD AND JAN MAYEN\" },\n\n      { code: \"NPR\", name: \"Nepalese Rupee: NEPAL\" },\n\n      { code: \"NZD\", name: \"New Zealand Dollar: COOK ISLANDS; NEW ZEALAND; NIUE; PITCAIRN; TOKELAU\" },\n\n      { code: \"OMR\", name: \"Rial Omani: OMAN\" },\n\n      { code: \"PAB\", name: \"Balboa: PANAMA\" },\n\n      { code: \"PEN\", name: \"Nuevo Sol: PERU\" },\n\n      { code: \"PGK\", name: \"Kina: PAPUA NEW GUINEA\" },\n\n      { code: \"PHP\", name: \"Philippine Peso: PHILIPPINES\" },\n\n      { code: \"PKR\", name: \"Pakistan Rupee: PAKISTAN\" },\n\n      { code: \"PLN\", name: \"Zloty: POLAND\" },\n\n      { code: \"PYG\", name: \"Guarani: PARAGUAY\" },\n\n      { code: \"QAR\", name: \"Qatari Rial: QATAR\" },\n\n      { code: \"RON\", name: \"New Romanian Leu: ROMANIA\" },\n\n      { code: \"RSD\", name: \"Serbian Dinar: SERBIA\" },\n\n      { code: \"RUB\", name: \"Russian Ruble: RUSSIAN FEDERATION\" },\n\n      { code: \"RWF\", name: \"Rwanda Franc: RWANDA\" },\n\n      { code: \"SAR\", name: \"Saudi Riyal: SAUDI ARABIA\" },\n\n      { code: \"SBD\", name: \"Solomon Islands Dollar: SOLOMON ISLANDS\" },\n\n      { code: \"SCR\", name: \"Seychelles Rupee: SEYCHELLES\" },\n\n      { code: \"SDG\", name: \"Sudanese Pound: SUDAN\" },\n\n      { code: \"SEK\", name: \"Swedish Krona: SWEDEN\" },\n\n      { code: \"SGD\", name: \"Singapore Dollar: SINGAPORE\" },\n\n      { code: \"SHP\", name: \"Saint Helena Pound: SAINT HELENA, ASCENSION AND TRISTAN DA CUNHA\" },\n\n      { code: \"SLL\", name: \"Leone: SIERRA LEONE\" },\n\n      { code: \"SOS\", name: \"Somali Shilling: SOMALIA\" },\n\n      { code: \"SRD\", name: \"Surinam Dollar: SURINAME\" },\n\n      { code: \"SSP\", name: \"South Sudanese Pound: SOUTH SUDAN\" },\n\n      { code: \"STD\", name: \"Dobra: SAO TOME AND PRINCIPE\" },\n\n      { code: \"SVC\", name: \"El Salvador Colon: EL SALVADOR\" },\n\n      { code: \"SYP\", name: \"Syrian Pound: SYRIAN ARAB REPUBLIC\" },\n\n      { code: \"SZL\", name: \"Lilangeni: SWAZILAND\" },\n\n      { code: \"THB\", name: \"Baht: THAILAND\" },\n\n      { code: \"TJS\", name: \"Somoni: TAJIKISTAN\" },\n\n      { code: \"TMT\", name: \"Turkmenistan New Manat: TURKMENISTAN\" },\n\n      { code: \"TND\", name: \"Tunisian Dinar: TUNISIA\" },\n\n      { code: \"TOP\", name: \"Pa’anga: TONGA\" },\n\n      { code: \"TRY\", name: \"Turkish Lira: TURKEY\" },\n\n      { code: \"TTD\", name: \"Trinidad and Tobago Dollar: TRINIDAD AND TOBAGO\" },\n\n      { code: \"TWD\", name: \"New Taiwan Dollar: TAIWAN, PROVINCE OF CHINA\" },\n\n      { code: \"TZS\", name: \"Tanzanian Shilling: TANZANIA, UNITED REPUBLIC OF\" },\n\n      { code: \"UAH\", name: \"Hryvnia: UKRAINE\" },\n\n      { code: \"UGX\", name: \"Uganda Shilling: UGANDA\" },\n\n      { code: \"USD\", name: \"US Dollar: AMERICAN SAMOA; BONAIRE; SINT EUSTATIUS AND SABA; BRITISH INDIAN OCEAN TERRITORY; ECUADOR; EL SALVADOR; GUAM; HAITI; MARSHALL ISLANDS; MICRONESIA, FEDERATED STATES OF; NORTHERN MARIANA ISLANDS; PALAU; PANAMA; PUERTO RICO; TIMOR-LESTE; TURKS AND CAICOS ISLANDS, UNITED STATES; UNITED STATES MINOR OUTLYING ISLANDS; VIRGIN ISLANDS (BRITISH); VIRGIN ISLANDS (US)\" },\n\n      { code: \"USN\", name: \"US Dollar (Next day): UNITED STATES\" },\n\n      { code: \"USS\", name: \" US Dollar (Same day): UNITED STATES\" },\n\n      { code: \"UYI\", name: \"Uruguay Peso en Unidades Indexadas (URUIURUI): URUGUAY\" },\n\n      { code: \"UYU\", name: \"Peso Uruguayo: URUGUAY\" },\n\n      { code: \"UZS\", name: \"Uzbekistan Sum: UZBEKISTAN\" },\n\n      { code: \"VEF\", name: \"Bolivar: VENEZUELA, BOLIVARIAN REPUBLIC OF\" },\n\n      { code: \"VND\", name: \"Dong: VIET NAM\" },\n\n      { code: \"VUV\", name: \"Vatu: VANUATU\" },\n\n      { code: \"WST\", name: \"Tala: SAMOA\" },\n\n      { code: \"XAF\", name: \"CFA Franc BEAC: CAMEROON; CENTRAL AFRICAN REPUBLIC; CHAD; CONGO; EQUATORIAL GUINEA; GABON\" },\n\n      { code: \"XAG\", name: \"Silver: ZZ11_Silver\" },\n\n      { code: \"XAU\", name: \"Gold: ZZ08_Gold\" },\n\n      { code: \"XBA\", name: \"Bond Markets Unit European Composite Unit (EURCO):  ZZ01_Bond Markets Unit European_EURCO\" },\n\n      { code: \"XBB\", name: \"Bond Markets Unit European Monetary Unit (E.M.U.-6): ZZ02_Bond Markets Unit European_EMU-6\" },\n\n      { code: \"XBC\", name: \"Bond Markets Unit European Unit of Account 9 (E.U.A.-9): ZZ03_Bond Markets Unit European_EUA-9\" },\n\n      { code: \"XBD\", name: \"Bond Markets Unit European Unit of Account 17 (E.U.A.-17): ZZ04_Bond Markets Unit European_EUA-17\" },\n\n      { code: \"XCD\", name: \"East Caribbean Dollar: ANGUILLA; ANTIGUA AND BARBUDA; DOMINICA; GRENADA; MONTSERRAT; SAINT KITTS AND NEVIS; SAINT LUCIA; SAINT VINCENT AND THE GRENADINES\" },\n\n      { code: \"XDR\", name: \"SDR (Special Drawing Right): INTERNATIONAL MONETARY FUND (IMF)\" },\n\n      { code: \"XFU\", name: \"UIC-Franc: ZZ05_UIC-Franc\" },\n\n      { code: \"XOF\", name: \"CFA Franc BCEAO: BENIN; BURKINA FASO; COTE D'IVOIRE; GUINEA-BISSAU; MALI; NIGER; SENEGAL; TOGO\" },\n\n      { code: \"XPD\", name: \"Palladium: ZZ09_Palladium\" },\n\n      { code: \"XPF\", name: \"CFP Franc: FRENCH POLYNESIA; NEW CALEDONIA; WALLIS AND FUTUNA\" },\n\n      { code: \"XPT\", name: \"Platinum: ZZ10_Platinum\" },\n\n      { code: \"XSU\", name: \"Sucre: SISTEMA UNITARIO DE COMPENSACION REGIONAL DE PAGOS 'SUCRE'\" },\n\n      { code: \"XUA\", name: \"ADB Unit of Account: MEMBER COUNTRIES OF THE AFRICAN DEVELOPMENT BANK GROUP\" },\n\n      { code: \"XXX\", name: \"The codes assigned for transactions where no currency is involved: ZZ07_No_Currency\" },\n\n      { code: \"YER\", name: \"Yemeni Rial: YEMEN\" },\n\n      { code: \"ZAR\", name: \"Rand: SOUTH AFRICA; LESOTHO; NAMIBIA\" },\n\n      { code: \"ZMW\", name: \"Zambian Kwacha: ZAMBIA\" },\n\n      { code: \"ZWL\", name: \"Zimbabwe Dollar: ZIMBABWE\" }\n    ];\n\n    // vm.totalItems = vm.jurisdictionsArr.length;\n    // vm.currentPage = 1;\n    // vm.numPerPage = 2;\n    // vm.imageIndex = vm.$index + (vm.currentPage - 1) * vm.pageSize;\n\n    // vm.paginate = function(value) {\n    //   var begin, end, index;\n    //   begin = (vm.currentPage - 1) * vm.numPerPage;\n    //   end = begin + vm.numPerPage;\n    //   index = vm.jurisdictionsArr.indexOf(value);\n    //   return (begin <= index && index < end);\n    // };\n\n    vm.CancelReport = function () {\n\n\n      swal({\n        title: 'Are you sure?',\n        text: 'You will not be able to recover this CBC Report and its Constituent Entities!',\n        type: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes',\n        cancelButtonText: 'No',\n        confirmButtonColor: '#d33',\n        cancelButtonColor: '#3085d6',\n        allowOutsideClick: false\n      }).then(function (result) {\n        if (result) {\n          // add a function to check if there is atleast one report.\n          vm.showreportDiv = false;\n          vm.reportid = null;\n          vm.$apply();\n          vm.DefaultCBCReport = [\n            {\n              \"ConstEntities\": [\n                {\n                  \"ConstEntity\":\n                    {\n                      \"Name\": [],\n                      \"ResCountryCode\": \"\"\n                    },\n                  \"BizActivities\": [null]\n                }\n\n              ]\n\n            }\n          ];\n          vm.constituentArr = [];\n        }\n\n\n      },\n        function (dismiss) {\n          if (dismiss == 'cancel') {\n            // function when cancel button is clicked\n\n          }\n\n        });\n\n    }\n\n    vm.updateCBCReportOnEdit = function () {\n\n      var isvalid = angular.element(CBCReportFormDiv).scope().CBCReportFormValid();\n      if (isvalid) {\n        vm.jurisdictionsArr[vm.reportid].Summary = angular.copy(vm.DefaultCBCReport[0].Summary);\n        vm.jurisdictionsArr[vm.reportid].DocSpec = angular.copy(vm.DefaultCBCReport[0].DocSpec);\n        vm.jurisdictionsArr[vm.reportid].ResCountryCode = angular.copy(vm.DefaultCBCReport[0].ResCountryCode);\n        if (vm.DefaultCBCReport[0].ConstEntities[0]) {\n          var validConstEntity = angular.element(CBCReportFormDiv).scope().ConstituentFormValid();\n          if (validConstEntity) {\n            vm.constituentArr.push(vm.DefaultCBCReport[0].ConstEntities[0]);\n            // vm.DefaultCBCReport[0].ConstEntities = angular.copy(vm.constituentArr);\n            vm.jurisdictionsArr[vm.reportid].ConstEntities = angular.copy(vm.constituentArr);\n          }\n\n        }\n        vm.showConstEntityDiv = false;\n        vm.showreportDiv = false;\n        vm.constituentArr = [];\n        vm.reportid = null;\n      }\n    }\n\n    vm.CompletetedReport = function () {\n      if (vm.jurisdictionsArr.length < 249) {\n        if (vm.DefaultCBCReport.length == 1 && vm.showConstEntityDiv == true && vm.reportid !== null && vm.constEntityId == undefined) {\n          vm.jurisdictionsArr[vm.reportid].Summary = angular.copy(vm.DefaultCBCReport[0].Summary);\n          vm.jurisdictionsArr[vm.reportid].ResCountryCode = angular.copy(vm.DefaultCBCReport[0].ResCountryCode);\n          vm.jurisdictionsArr[vm.reportid].DocSpec = angular.copy(vm.DefaultCBCReport[0].DocSpec);\n          if (vm.DefaultCBCReport[0].ConstEntities[0]) {\n            var validConstEntity = angular.element(CBCReportFormDiv).scope().ConstituentFormValid();\n            if (validConstEntity) {\n              vm.constituentArr.push(vm.DefaultCBCReport[0].ConstEntities[0]);\n              // vm.DefaultCBCReport[0].ConstEntities = angular.copy(vm.constituentArr);\n              vm.jurisdictionsArr[vm.reportid].ConstEntities = angular.copy(vm.constituentArr);\n            }\n\n          }\n\n        }\n        else {\n\n          if (vm.DefaultCBCReport.length == 1 && vm.showreportDiv == true && vm.reportid == null && vm.constEntityId == undefined) {\n            if (vm.DefaultCBCReport[0].ConstEntities[0]) {\n              if (angular.isUndefined(vm.DefaultCBCReport[0].DocSpec)) {\n                vm.DefaultCBCReport[0].DocSpec = {};\n                vm.DefaultCBCReport[0].DocSpec.DocTypeIndic = {};\n                vm.DefaultCBCReport[0].DocSpec.DocTypeIndic['#text'] = \"OECD1\";\n              }\n              var valid = angular.element(CBCReportFormDiv).scope().CBCReportFormValid();\n              if (valid) {\n                vm.jurisdictionsArr.push(vm.DefaultCBCReport[0]);\n                var arrayLen = vm.jurisdictionsArr.length - 1;\n                vm.constituentArr.push(vm.DefaultCBCReport[0].ConstEntities[0]);\n                vm.DefaultCBCReport[0].ConstEntities = angular.copy(vm.constituentArr);\n                vm.jurisdictionsArr[arrayLen] = angular.copy(vm.DefaultCBCReport[0]);\n              }\n              else {\n\n                return;\n\n              }\n            }\n          }\n        }\n        vm.showreportDiv = false;\n        vm.showConstEntityDiv = false;\n        vm.DefaultCBCReport = [\n          {\n            \"ConstEntities\": [\n              {\n                \"ConstEntity\":\n                  {\n                    \"Name\": [],\n                    \"ResCountryCode\": \"\"\n                  },\n                \"BizActivities\": [null]\n              }\n\n            ]\n\n          }\n        ];\n        vm.constituentArr = [];\n        vm.reportid = null;\n      }\n\n      else {\n        swal(\"Error\", \"The maximum number to be captured is 249\");\n        vm.showreportDiv = false;\n        vm.reportid = null;\n      }\n    }\n    vm.ShowCBCContainer = function () {\n\n      if (vm.jurisdictionsArr.length < 249) {\n        if (vm.DefaultCBCReport.length == 1 && vm.showConstEntityDiv == true && vm.reportid !== null && vm.constEntityId == undefined) {\n          vm.jurisdictionsArr[vm.reportid].Summary = angular.copy(vm.DefaultCBCReport[0].Summary);\n          vm.jurisdictionsArr[vm.reportid].DocSpec = angular.copy(vm.DefaultCBCReport[0].DocSpec);\n          vm.jurisdictionsArr[vm.reportid].ResCountryCode = angular.copy(vm.DefaultCBCReport[0].ResCountryCode);\n          if (vm.DefaultCBCReport[0].ConstEntities[0]) {\n            var validConstEntity = angular.element(CBCReportFormDiv).scope().ConstituentFormValid();\n            if (validConstEntity) {\n              vm.constituentArr.push(vm.DefaultCBCReport[0].ConstEntities[0]);\n              // vm.DefaultCBCReport[0].ConstEntities = angular.copy(vm.constituentArr);\n              vm.jurisdictionsArr[vm.reportid].ConstEntities = angular.copy(vm.constituentArr);\n            }\n\n          }\n\n        }\n        else {\n\n          if (vm.DefaultCBCReport.length == 1 && vm.showreportDiv == true && vm.reportid == null && vm.constEntityId == undefined) {\n            if (vm.DefaultCBCReport[0].ConstEntities[0]) {\n              if (angular.isUndefined(vm.DefaultCBCReport[0].DocSpec)) {\n                vm.DefaultCBCReport[0].DocSpec = {};\n                vm.DefaultCBCReport[0].DocSpec.DocTypeIndic = {};\n                vm.DefaultCBCReport[0].DocSpec.DocTypeIndic['#text'] = \"OECD1\";\n              }\n              var valid = angular.element(CBCReportFormDiv).scope().CBCReportFormValid();\n              if (valid) {\n                vm.jurisdictionsArr.push(vm.DefaultCBCReport[0]);\n                var arrayLen = vm.jurisdictionsArr.length - 1;\n                vm.constituentArr.push(vm.DefaultCBCReport[0].ConstEntities[0]);\n                vm.DefaultCBCReport[0].ConstEntities = angular.copy(vm.constituentArr);\n                vm.jurisdictionsArr[arrayLen] = angular.copy(vm.DefaultCBCReport[0]);\n              }\n              else {\n\n                return;\n\n              }\n            }\n          }\n        }\n        vm.showreportDiv = true;\n        vm.showConstEntityDiv = true;\n        vm.DefaultCBCReport = [\n          {\n            \"ConstEntities\": [\n              {\n                \"ConstEntity\":\n                  {\n                    \"Name\": [],\n                    \"ResCountryCode\": \"\"\n                  },\n                \"BizActivities\": [null]\n              }\n\n            ]\n\n          }\n        ];\n        vm.constituentArr = [];\n        vm.reportid = null;\n      }\n\n      else {\n        swal(\"Error\", \"The maximum number to be captured is 249\");\n        vm.showreportDiv = false;\n        vm.reportid = null;\n      }\n\n\n    };\n    $scope.tableRowExpanded = false;\n    $scope.tableRowIndexExpandedCurr = \"\";\n    $scope.tableRowIndexExpandedPrev = \"\";\n    $scope.storeIdExpanded = \"\";\n\n    $scope.dayDataCollapseFn = function () {\n      $scope.dayDataCollapse = [];\n      for (var i = 0; i < vm.jurisdictionsArr.length; i += 1) {\n        $scope.dayDataCollapse.push(false);\n      }\n    };\n\n\n    $scope.selectTableRow = function (index) {\n      if (typeof $scope.dayDataCollapse === 'undefined') {\n        $scope.dayDataCollapseFn();\n      }\n\n      if ($scope.tableRowExpanded === false && $scope.tableRowIndexExpandedCurr === \"\") {\n        $scope.tableRowIndexExpandedPrev = \"\";\n        $scope.tableRowExpanded = true;\n        $scope.tableRowIndexExpandedCurr = index;\n        $scope.dayDataCollapse[index] = true;\n      } else if ($scope.tableRowExpanded === true) {\n        if ($scope.tableRowIndexExpandedCurr === index) {\n          $scope.tableRowExpanded = false;\n          $scope.tableRowIndexExpandedCurr = \"\";\n          $scope.dayDataCollapse[index] = false;\n        } else {\n          $scope.tableRowIndexExpandedPrev = $scope.tableRowIndexExpandedCurr;\n          $scope.tableRowIndexExpandedCurr = index;\n          $scope.dayDataCollapse[$scope.tableRowIndexExpandedPrev] = false;\n          $scope.dayDataCollapse[$scope.tableRowIndexExpandedCurr] = true;\n        }\n      }\n\n    };\n\n\n    vm.addCBCReport = function (jurisdiction) {\n\n\n      //     var validEntity= vm.reportConstEntitiesValid();\n      //     if(!validEntity){\n      //  return;\n      //     }\n\n      var valid = angular.element(CBCReportFormDiv).scope().CBCReportFormValid();\n\n      if (valid) {\n\n        vm.myPromiseReport = $timeout(function () {\n\n          if (vm.reportid == null) {\n\n            if (angular.isUndefined(jurisdiction.DocSpec)) {\n              jurisdiction.DocSpec = {};\n              jurisdiction.DocSpec.DocTypeIndic = {};\n              jurisdiction.DocSpec.DocTypeIndic['#text'] = \"OECD1\";\n            }\n            if (vm.jurisdictionsArr.length < 249) {\n              if (vm.constituentArr.length > 0 && vm.showreportDiv == true) {\n                vm.constituentArr.push(jurisdiction.ConstEntities[0]);\n                // vm.DefaultCBCReport[0].ConstEntities=angular.copy(vm.constituentArr);\n                jurisdiction.ConstEntities = (vm.constituentArr);\n                // vm.jurisdictionsArr.push(vm.DefaultCBCReport[0]);\n\n              }\n              // else{\n\n              // \n              // }\n\n\n              vm.jurisdictionsArr.push(jurisdiction);\n              noOfReports = vm.jurisdictionsArr.length;\n              vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports = vm.jurisdictionsArr;\n              vm.formData.CountryByCountryDeclaration.NoOfTaxJurisdictions = noOfReports;\n\n              if (angular.isUndefined(vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[noOfReports - 1])) {\n                vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[noOfReports - 1] = {};\n                vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[noOfReports - 1].NoOfConstituentEntities = {};\n                vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[noOfReports - 1].NoOfConstituentEntities = vm.constituentArr.length; //jurisdiction.ConstEntities.length;\n              }\n              else if (angular.isUndefined(vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[noOfReports - 1].NoOfConstituentEntities)) {\n                vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[noOfReports - 1].NoOfConstituentEntities = {};\n                vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[noOfReports - 1].NoOfConstituentEntities = vm.constituentArr.length; //jurisdiction.ConstEntities.length;\n              }\n              vm.$apply();\n              vm.showreportDiv = false;\n              vm.DefaultCBCReport = [\n                {\n                  \"ConstEntities\": [\n                    {\n                      \"ConstEntity\":\n                        {\n                          \"Name\": [],\n                          \"ResCountryCode\": \"\"\n                        },\n                      \"BizActivities\": [null]\n                    }\n\n                  ]\n\n                }\n              ];\n              vm.constituentArr = [];\n\n            }\n            else {\n              swal(\"Error\", \"The maximum number to be captured is 249\");\n            }\n          }\n          else {\n\n            if (vm.jurisdictionsArr.length < 249) {\n\n              var validEntity = vm.onEditreportConstEntitiesValid();\n              if (!validEntity) {\n                return;\n              }\n              if (vm.constituentArr.length > 0 && vm.showreportDiv == true) {\n\n                if (jurisdiction.ConstEntities && jurisdiction.ConstEntities.length) {\n                  vm.constituentArr.push(jurisdiction.ConstEntities[0]);\n                }\n                vm.DefaultCBCReport[0].ConstEntities = angular.copy(vm.constituentArr);\n                // vm.jurisdictionsArr[vm.reportid] = angular.copy(vm.DefaultCBCReport[0]);\n                // jurisdiction.ConstEntities= angular.copy(vm.constituentArr);\n\n              }\n\n            }\n\n\n            vm.jurisdictionsArr[vm.reportid] = angular.copy(vm.DefaultCBCReport[0]);\n            if (angular.isUndefined(vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[vm.reportid])) {\n              vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[vm.reportid] = {};\n              vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[vm.reportid].NoOfConstituentEntities = {};\n              //vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[vm.reportid].NoOfConstituentEntities = jurisdiction.ConstEntities.length;\n            }\n            if (jurisdiction.ConstEntities && (jurisdiction.ConstEntities.length >= 0)) {\n              //vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[vm.reportid].NoOfConstituentEntities = jurisdiction.ConstEntities.length;\n              vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[vm.reportid].NoOfConstituentEntities = vm.constituentArr.length;\n            }\n            else {\n              vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[vm.reportid].NoOfConstituentEntities = 0;\n              swal(\"Error\", \"Please complete at least one Constituent Entity for this report before proceeding.\");\n              return;\n            }\n            vm.$apply();\n            vm.showreportDiv = true;\n            vm.reportid = null;\n            vm.constObj = vm.addNewConstituentObj();\n            vm.DefaultCBCReport = [\n              {\n                \"ConstEntities\": [\n                  {\n                    \"ConstEntity\":\n                      {\n                        \"Name\": []\n                      },\n                    \"BizActivities\": [null]\n                  }\n\n                ]\n\n              }\n            ];\n            vm.constituentArr = [];\n          }\n\n          //vm.$apply();\n        }, 2000)\n          .then(function () {\n\n          }).then(function () {\n\n          }).then(function () {\n\n          });\n\n        return vm.myPromiseReport;\n      }\n\n      else {\n\n        return valid;\n      }\n    }\n    //Edit Report\n    vm.EditCBCReport = function (index, e) {\n      vm.showreportDiv = true;\n      if (e) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n      vm.reportid = index;\n      vm.DefaultCBCReport[0] = angular.copy(vm.jurisdictionsArr[index]);\n\n      if (angular.isDefined(vm.DefaultCBCReport[0].ResCountryCode)) {\n        vm.resCountryName = vm.getNameOfSelectedCountryCode(vm.DefaultCBCReport[0].ResCountryCode);\n      }\n\n      if (vm.jurisdictionsArr[index].ConstEntities) {\n        vm.constituentArr = angular.copy(vm.jurisdictionsArr[index].ConstEntities);\n      }\n      vm.DefaultCBCReport[0].ConstEntities = [\n        //   {\n\n        //     \"BizActivities\": [null]\n        //   }\n\n      ];\n\n\n    }\n\n    //Edit Constituent entity \n    vm.EditConstituentEntity = function (reportIndex, index) {\n      vm.showConstEntityDiv = true;\n      vm.reportid = reportIndex;\n      vm.constEntityId = index;\n\n      if (vm.jurisdictionsArr[reportIndex].ConstEntities[index] == null) {\n\n        vm.jurisdictionsArr[reportIndex].ConstEntities[index] = {};\n      }\n      vm.DefaultCBCReport[0].ConstEntities[0] = angular.copy(vm.jurisdictionsArr[reportIndex].ConstEntities[index]);\n      if (angular.isDefined(vm.DefaultCBCReport[0].ConstEntities[0].ConstEntity.ResCountryCode)) {\n        vm.entityResCountryName = vm.getNameOfSelectedCountryCode(vm.DefaultCBCReport[0].ConstEntities[0].ConstEntity.ResCountryCode);\n      }\n\n    }\n\n    vm.updateConstituentEntity = function (jurisdiction, index) {\n\n      var isvalid = angular.element(CBCReportFormDiv).scope().ConstituentFormValid();\n      if (isvalid) {\n        vm.constituentArr[index] = angular.copy(vm.DefaultCBCReport[0].ConstEntities[0]);\n        vm.jurisdictionsArr[vm.reportid].ConstEntities[index] = angular.copy(vm.constituentArr[index]);\n        vm.DefaultCBCReport[0].ConstEntities = [];\n        vm.showConstEntityDiv = false;\n        vm.constEntityId = undefined;\n      }\n    }\n\n    vm.cancelUpdateConstituentEntity = function (jurisdiction, index) {\n\n      swal({\n        title: 'Are you sure?',\n        text: 'You will not be able to recover the Changes to the Constituent Entity!',\n        type: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes,Delete',\n        cancelButtonText: 'No, Cancel',\n        confirmButtonColor: '#d33',\n        cancelButtonColor: '#3085d6',\n        allowOutsideClick: false\n      }).then(function (result) {\n        if (result) {\n\n          vm.showConstEntityDiv = false;\n          vm.$apply();\n          vm.DefaultCBCReport[0].ConstEntities = [];\n          // swal(\n          //   'Deleted!',\n          //   'The Constituent Entity has been deleted.',\n          //   'success'\n          // )\n        }\n\n        vm.constEntityId = undefined;\n      },\n        function (dismiss) {\n          if (dismiss == 'cancel') {\n            // function when cancel button is clicked\n\n          }\n\n        });\n\n\n\n    }\n\n    //Delete Constituent entity\n    vm.RemoveConstituentEntity = function (reportIndex, index) {//(jurisdictions, index, e) {\n\n      /* if (e) {\n         e.preventDefault();\n         e.stopPropagation();\n       }\n       \n       if (jurisdictions.ConstEntities.length > 1) {\n         // if (index > 0) {\n         jurisdictions.ConstEntities.splice(index, 1);\n       }*/\n\n      swal({\n        title: 'Are you sure?',\n        text: 'You will not be able to recover the contents of this Constituent Entity!',\n        type: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes,Delete',\n        cancelButtonText: 'No, Cancel',\n        confirmButtonColor: '#d33',\n        cancelButtonColor: '#3085d6',\n        allowOutsideClick: false\n      }).then(function (result) {\n        if (result) {\n          if (vm.jurisdictionsArr[reportIndex].ConstEntities.length > 1) {\n            vm.constituentArr.splice(index, 1);\n            vm.jurisdictionsArr[reportIndex].ConstEntities.splice(index, 1);\n            //noOfReports = vm.jurisdictionsArr.length;\n            //vm.formData.CountryByCountryDeclaration.NoOfTaxJurisdictions = noOfReports,\n            //vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports = vm.jurisdictionsArr;\n            vm.$apply();\n            swal(\n              'Deleted!',\n              'The Constituent Entity has been deleted.',\n              'success'\n            )\n          }\n          else {\n            swal(\n              ' ',\n              'Your should have atleast one Constituent Entity',\n              'warning'\n            )\n\n          }\n          if (angular.isUndefined(vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[reportIndex])) {\n            vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[reportIndex] = {};\n            vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[reportIndex].NoOfConstituentEntities = {};\n          }\n          vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[reportIndex].NoOfConstituentEntities = vm.constituentArr.length;\n        }\n      },\n        function (dismiss) {\n          if (dismiss == 'cancel') {\n            // function when cancel button is clicked\n\n          }\n\n        });\n\n    };\n\n    vm.constObj = {};\n    vm.addConstituentEntity = function (jurisdictions, e) {\n\n      if (e) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n\n      if (vm.constituentArr.length >= 350) {\n        swal(\"Error\", \"The maximum number to be captured is 350\");\n        return;\n\n      }\n\n      if (!vm.reportid == null) {\n\n        var isvalid = vm.onEditreportConstEntitiesValid();\n        if (!isvalid) {\n          return;\n        }\n\n      }\n\n\n      var isConstituentvalid = angular.element(CBCReportFormDiv).scope().CBCReportFormValid();\n\n      if (isConstituentvalid) {\n\n\n\n        if ((jurisdictions.ConstEntities && jurisdictions.ConstEntities.length)) {\n\n          vm.myPromiseConstituent = $timeout(function () {\n\n            // vm.constObj = vm.addNewConstituentObj();\n\n            // if (vm.constituentArr) {\n\n\n            if (vm.constituentArr.length < 350) {\n\n\n              // jurisdictions.ConstEntities.push(vm.addNewConstituentObj());\n              // vm.constituentArr = angular.copy(jurisdictions.ConstEntities);\n              if (jurisdictions.ConstEntities && (jurisdictions.ConstEntities.length > 0) && vm.reportid !== null) {\n                vm.constituentArr.push(jurisdictions.ConstEntities[0]);\n                vm.jurisdictionsArr[vm.reportid].ConstEntities = angular.copy(vm.constituentArr);\n              }\n              else {\n\n                if (angular.isUndefined(jurisdictions.DocSpec)) {\n                  jurisdictions.DocSpec = {};\n                  jurisdictions.DocSpec.DocTypeIndic = {};\n                  jurisdictions.DocSpec.DocTypeIndic['#text'] = \"OECD1\";\n                }\n                vm.jurisdictionsArr.push(jurisdictions);\n                var arrayLen = vm.jurisdictionsArr.length - 1;\n                vm.constituentArr.push(jurisdictions.ConstEntities[0]);\n                vm.DefaultCBCReport[0].ConstEntities = angular.copy(vm.constituentArr);\n                vm.jurisdictionsArr[arrayLen] = angular.copy(vm.DefaultCBCReport[0]);\n                vm.reportid = arrayLen;\n              }\n              vm.showConstEntityDiv = true;\n              vm.DefaultCBCReport[0].ConstEntities = [\n\n                {\n                  \"ConstEntity\":\n                    {\n                      \"Name\": []\n                    },\n                  \"BizActivities\": [null]\n                }\n\n              ];\n\n            }\n\n            else {\n              swal(\"Error\", \"The maximum number to be captured is 350\");\n\n            }\n\n            // }\n\n\n          }, 1000)\n            .then(function () {\n\n            }).then(function () {\n\n            }).then(function () {\n\n            });\n          return vm.myPromiseConstituent;\n        }\n        else {\n          vm.showConstEntityDiv = true;\n          vm.DefaultCBCReport[0].ConstEntities = [\n\n            {\n              \"ConstEntity\":\n                {\n                  \"Name\": []\n                },\n              \"BizActivities\": [null]\n            }\n\n          ];\n          return false;\n        }\n      }\n\n      else {\n        //open Constuent Entity View for capturing\n        // swal(\"warning\", \"Please Capture Constituent entity!\");\n        vm.showConstEntityDiv = true;\n        vm.DefaultCBCReport[0].ConstEntities = [\n\n          {\n            \"ConstEntity\":\n              {\n                \"Name\": []\n              },\n            \"BizActivities\": [null]\n          }\n\n        ];\n        return;\n\n      }\n\n\n    }\n\n\n    // vm.SaveCBCReport = function () {\n\n    //   if (vm.jurisdictionsArr.length < 249) {\n    //     vm.jurisdictionsArr.push(vm.jurisdiction);\n    //     // noOfReports = jurisdiction.length;\n    //     vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports = vm.jurisdictionsArr;\n    //     // vm.formData.CountryByCountryDeclaration.NoOfTaxJurisdictions = noOfReports\n    //     vm.showReportDiv = true;\n    //     vm.showConstituentDiv = true;\n    //   }\n    //   else {\n    //     swal(\"Error\", \"The maximum number to be captured is 249\");\n    //   }\n    //   //vm.jurisdiction = {};\n\n\n    // }\n\n    vm.RemoveCBCReport = function (index, e) {\n\n\n      swal({\n        title: 'Are you sure?',\n        text: 'You will not be able to recover this CBC Report and its Constituent Entities!',\n        type: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes,Delete',\n        cancelButtonText: 'No, Cancel',\n        confirmButtonColor: '#d33',\n        cancelButtonColor: '#3085d6',\n        allowOutsideClick: false\n      }).then(function (result) {\n        if (result) {\n          if (vm.jurisdictionsArr.length > 1) {\n            // var index=vm.jurisdictionsArr.indexOf(jurisdiction);\n            vm.jurisdictionsArr.splice(index, 1);\n            noOfReports = vm.jurisdictionsArr.length;\n            vm.formData.CountryByCountryDeclaration.NoOfTaxJurisdictions = noOfReports,\n              vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction.splice(index, 1);\n            vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports = vm.jurisdictionsArr;\n\n            swal(\n              'Deleted!',\n              'Your CBC Report has been deleted.',\n              'success'\n            )\n            vm.$apply();\n          }\n          else {\n            swal(\n              ' ',\n              'Your should Have atleast one report',\n              'warning'\n            )\n\n          }\n        }\n      },\n        function (dismiss) {\n          if (dismiss == 'cancel') {\n            // function when cancel button is clicked\n\n          }\n\n        });\n    };\n\n\n    // vm.ddRemoveCbcReport = function (event) {\n\n\n    //   //var arry = [];\n    //   var index = 0;\n    //   var num = Number(event.target.value);\n    //   var numOfCom = vm.jurisdictionsArr.length;\n\n    //   if (num > 249) {\n    //     swal(\"Error\", \"The maximum number to be captured is 249\");\n    //     vm.formData.CountryByCountryDeclaration.NoOfTaxJurisdictions = numOfCom;\n    //     //return;\n    //     num = 0;\n    //   }\n    //   if (num === 0) {\n\n    //     messageservices.repeatRetirementMessage();\n    //     vm.formData.CountryByCountryDeclaration.NoOfTaxJurisdictions = \"1\";\n    //     num = 1;\n    //   }\n\n\n    //   var repeateTime = 0;\n\n    //   if (Number(num) > numOfCom) {\n\n    //     vm.updateNoOfConstituentEntities();\n    //     if (numOfCom > 0) {\n    //       repeateTime = num - vm.jurisdictionsArr.length\n    //     } else {\n    //       repeateTime = num;\n    //     }\n\n    //     for (index = 0; index < repeateTime; index++) {\n\n    //       vm.jurisdictionsArr.push(vm.addnewObj());\n    //       vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction.push(vm.addTaxJusObj());\n\n    //     }\n\n    //   }\n    //   else {\n    //     var diff = vm.jurisdictionsArr.length - Number(num);\n\n    //     for (index; index < diff; index++) {\n    //       vm.jurisdictionsArr.splice(vm.jurisdictionsArr.length - 1);\n    //       // delete vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports-1;\n\n    //       var arr = vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction;\n    //       arr.splice(arr.length - 1);\n    //     }\n    //   }\n\n\n    //   if (vm.jurisdictionsArr.length > 0) {\n    //     if (angular.isUndefined(vm.formData.CountryByCountryDeclaration.CBC_OECD) || vm.formData.CountryByCountryDeclaration.CBC_OECD == null) {\n    //       var objCB = {};\n    //       vm.formData.CountryByCountryDeclaration.CBC_OECD = objCB;\n    //       var objCbcBody = {};\n    //       vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody = objCbcBody;\n    //       var obj = {};\n    //       vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports = obj;\n    //     }\n\n    //     if (vm.jurisdictionsArr.length > 1) {\n    //       vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports = vm.jurisdictionsArr;\n    //     } else {\n    //       vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports = vm.jurisdictionsArr[0];\n    //     }\n    //   }\n\n    // }\n\n    vm.addRemoveCbcConstituent = function (event, jurisdictions, indx) {\n\n      var index = 0;\n      var num = Number(event.target.value);\n      var numOfCom = jurisdictions.ConstEntities.length;\n\n\n      if (num > 350) {\n        swal(\"Error\", \"The maximum number to be captured is 350\");\n        vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[indx].NoOfConstituentEntities = numOfCom;\n        //return;\n        num = 0;\n\n      }\n\n      if (num === 0) {\n\n        messageservices.repeatRetirementMessage();\n        vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[indx].NoOfConstituentEntities = \"1\";\n        num = 1;\n      }\n\n\n      var repeateTime = 0;\n\n      if (Number(num) > numOfCom) {\n\n        if (numOfCom > 0) {\n          repeateTime = num - numOfCom;\n          //  repeateTime = num - jurisdictions.ConstEntities.length;\n        } else {\n          repeateTime = num;\n        }\n        for (index = 0; index < repeateTime; index++) {\n          jurisdictions.ConstEntities.push(vm.addNewConstituentObj());\n        }\n      }\n      else {\n        var diff = jurisdictions.ConstEntities.length - Number(num);\n        for (index; index < diff; index++) {\n          jurisdictions.ConstEntities.splice(jurisdictions.ConstEntities.length - 1);\n        }\n      }\n\n      vm.$apply();\n\n      if (jurisdictions.ConstEntities.length > 0) {\n\n        if (angular.isUndefined(vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.ConstEntities)\n          || vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.ConstEntities == null) {\n\n          var objCons = {};\n          vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.ConstEntities = objCons;\n        }\n\n        if (jurisdictions.ConstEntities.length > 1) {\n          vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.ConstEntities = jurisdictions.ConstEntities;\n        } else {\n          vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.ConstEntities = jurisdictions.ConstEntities[0];\n        }\n        vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.ConstEntities.ConstEntity.Name = [];\n        vm.initArray();\n      }\n\n    }\n\n    vm.updateCbcReport = function () {\n\n\n      var cbcReportList = [];\n      cbcReportList = vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports;\n      var taxJurisdictions = [];\n      if (cbcReportList) {\n        // if (angular.isUndefined(vm.formData.CountryByCountryDeclaration.TaxJurisdictions)) {\n        //   vm.formData.CountryByCountryDeclaration.TaxJurisdictions = {};\n        //   vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction = []; //[{'NoOfConstituentEntities':0}];\n        //   vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[0].NoOfConstituentEntities = {};\n        //   vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[0].NoOfConstituentEntities = 0;\n        // }\n        if (angular.isArray(cbcReportList)) {\n          var n = cbcReportList.length;\n          vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction = new Array(n);\n          for (var i = 0; i < n; i++) {\n            var cbcReport = cbcReportList[i];\n            // if (angular.isUndefined(vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[i])) {\n            //   vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[i] = {};\n            //   vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[i].NoOfConstituentEntities = {};\n            //   vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[i].NoOfConstituentEntities = 0;\n            // }\n            if (angular.isUndefined(cbcReport.ConstEntities) || cbcReport.ConstEntities == null) {\n              cbcReport.ConstEntities = [\n                {\n                  \"ConstEntity\":\n                    {\n                      \"Name\": [null]\n                    },\n                  \"BizActivities\": [null]\n                }\n\n              ];\n              //cbcReport.isValid = false;\n            }\n            // Check ProfitOrLoss\n            if (angular.isDefined(cbcReport.Summary.ProfitOrLoss) && cbcReport.Summary.ProfitOrLoss !== null) {\n              if (!angular.isObject(cbcReport.Summary.ProfitOrLoss)) {\n                var fieldValue = cbcReport.Summary.ProfitOrLoss;\n                cbcReport.Summary.ProfitOrLoss = {};\n                if (vm.isCurrencyCode(fieldValue)) {\n                  cbcReport.Summary.ProfitOrLoss['@currCode'] = fieldValue;\n                }\n                else {\n                  cbcReport.Summary.ProfitOrLoss['#text'] = fieldValue;\n                }\n              }\n            }\n            // Check Capital\n            if (angular.isDefined(cbcReport.Summary.Capital) && cbcReport.Summary.Capital !== null) {\n              if (!angular.isObject(cbcReport.Summary.Capital)) {\n                var fieldValue = cbcReport.Summary.Capital;\n                cbcReport.Summary.Capital = {};\n                if (vm.isCurrencyCode(fieldValue)) {\n                  cbcReport.Summary.Capital['@currCode'] = fieldValue;\n                }\n                else {\n                  cbcReport.Summary.Capital['#text'] = fieldValue;\n                }\n              }\n            }\n            // Check TaxPaid\n            if (angular.isDefined(cbcReport.Summary.TaxPaid) && cbcReport.Summary.TaxPaid !== null) {\n              if (!angular.isObject(cbcReport.Summary.TaxPaid)) {\n                var fieldValue = cbcReport.Summary.TaxPaid;\n                cbcReport.Summary.TaxPaid = {};\n                if (vm.isCurrencyCode(fieldValue)) {\n                  cbcReport.Summary.TaxPaid['@currCode'] = fieldValue;\n                }\n                else {\n                  cbcReport.Summary.TaxPaid['#text'] = fieldValue;\n                }\n              }\n            }\n            // Check Earnings\n            if (angular.isDefined(cbcReport.Summary.Earnings) && cbcReport.Summary.Earnings !== null) {\n              if (!angular.isObject(cbcReport.Summary.Earnings)) {\n                var fieldValue = cbcReport.Summary.Earnings;\n                cbcReport.Summary.Earnings = {};\n                if (vm.isCurrencyCode(fieldValue)) {\n                  cbcReport.Summary.Earnings['@currCode'] = fieldValue;\n                }\n                else {\n                  cbcReport.Summary.Earnings['#text'] = fieldValue;\n                }\n              }\n            }\n            // Check TaxAccrued\n            if (angular.isDefined(cbcReport.Summary.TaxAccrued) && cbcReport.Summary.TaxAccrued !== null) {\n              if (!angular.isObject(cbcReport.Summary.TaxAccrued)) {\n                var fieldValue = cbcReport.Summary.TaxAccrued;\n                cbcReport.Summary.TaxAccrued = {};\n                if (vm.isCurrencyCode(fieldValue)) {\n                  cbcReport.Summary.TaxAccrued['@currCode'] = fieldValue;\n                }\n                else {\n                  cbcReport.Summary.TaxAccrued['#text'] = fieldValue;\n                }\n              }\n            }\n            // Check Assets\n            if (angular.isDefined(cbcReport.Summary.Assets) && cbcReport.Summary.Assets !== null) {\n              if (!angular.isObject(cbcReport.Summary.Assets)) {\n                var fieldValue = cbcReport.Summary.Assets;\n                cbcReport.Summary.Assets = {};\n                if (vm.isCurrencyCode(fieldValue)) {\n                  cbcReport.Summary.Assets['@currCode'] = fieldValue;\n                }\n                else {\n                  cbcReport.Summary.Assets['#text'] = fieldValue;\n                }\n              }\n            }\n            // Check Revenues.Unrelated\n            if (angular.isDefined(cbcReport.Summary.Revenues.Unrelated) && cbcReport.Summary.Revenues.Unrelated !== null) {\n              if (!angular.isObject(cbcReport.Summary.Revenues.Unrelated)) {\n                var fieldValue = cbcReport.Summary.Revenues.Unrelated;\n                cbcReport.Summary.Revenues.Unrelated = {};\n                if (vm.isCurrencyCode(fieldValue)) {\n                  cbcReport.Summary.Revenues.Unrelated['@currCode'] = fieldValue;\n                }\n                else {\n                  cbcReport.Summary.Revenues.Unrelated['#text'] = fieldValue;\n                }\n              }\n            }\n            // Check Revenues.Related\n            if (angular.isDefined(cbcReport.Summary.Revenues.Related) && cbcReport.Summary.Revenues.Related !== null) {\n              if (!angular.isObject(cbcReport.Summary.Revenues.Related)) {\n                var fieldValue = cbcReport.Summary.Revenues.Related;\n                cbcReport.Summary.Revenues.Related = {};\n                if (vm.isCurrencyCode(fieldValue)) {\n                  cbcReport.Summary.Revenues.Related['@currCode'] = fieldValue;\n                }\n                else {\n                  cbcReport.Summary.Revenues.Related['#text'] = fieldValue;\n                }\n              }\n            }\n            // Check Revenues.Total\n            if (angular.isDefined(cbcReport.Summary.Revenues.Total) && cbcReport.Summary.Revenues.Total !== null) {\n              if (!angular.isObject(cbcReport.Summary.Revenues.Total)) {\n                var fieldValue = cbcReport.Summary.Revenues.Total;\n                cbcReport.Summary.Revenues.Total = {};\n                if (vm.isCurrencyCode(fieldValue)) {\n                  cbcReport.Summary.Revenues.Total['@currCode'] = fieldValue;\n                }\n                else {\n                  cbcReport.Summary.Revenues.Total['#text'] = fieldValue;\n                }\n              }\n            }\n\n            // Check the Docspec\n            if (angular.isDefined(cbcReport.DocSpec.DocTypeIndic) && cbcReport.DocSpec.DocTypeIndic !== null) {\n              if (!angular.isObject(cbcReport.DocSpec.DocTypeIndic)) {\n                var fieldValue = cbcReport.DocSpec.DocTypeIndic;\n                cbcReport.DocSpec.DocTypeIndic={};\n                if (fieldValue.length < 6) {\n                  cbcReport.DocSpec.DocTypeIndic['#text'] = fieldValue;\n                }\n                else {\n                  cbcReport.DocSpec.DocTypeIndic['#text'] = \"OECD1\";\n                }\n            }\n           \n          }\n\n            /* needed to update the Constituent Entities */\n            vm.updateconstEntities(cbcReport);\n            vm.jurisdictionsArr.push(cbcReport);\n            // this is to make sure that the array is updated\n            vm.$apply();\n          }\n\n        }\n        else if (angular.isObject(cbcReportList)) {\n\n          vm.cbcReportList = vm.updateconstEntities(cbcReportList);\n          // Check ProfitOrLoss\n          if (angular.isDefined(cbcReportList.Summary.ProfitOrLoss) && cbcReportList.Summary.ProfitOrLoss !== null) {\n            if (!angular.isObject(cbcReportList.Summary.ProfitOrLoss)) {\n              var fieldValue = cbcReportList.Summary.ProfitOrLoss;\n              cbcReportList.Summary.ProfitOrLoss = {};\n              if (vm.isCurrencyCode(fieldValue)) {\n                cbcReportList.Summary.ProfitOrLoss['@currCode'] = fieldValue;\n              }\n              else {\n                cbcReportList.Summary.ProfitOrLoss['#text'] = fieldValue;\n              }\n            }\n          }\n          // Check Capital\n          if (angular.isDefined(cbcReportList.Summary.Capital) && cbcReportList.Summary.Capital !== null) {\n            if (!angular.isObject(cbcReportList.Summary.Capital)) {\n              var fieldValue = cbcReportList.Summary.Capital;\n              cbcReportList.Summary.Capital = {};\n              if (vm.isCurrencyCode(fieldValue)) {\n                cbcReportList.Summary.Capital['@currCode'] = fieldValue;\n              }\n              else {\n                cbcReportList.Summary.Capital['#text'] = fieldValue;\n              }\n            }\n          }\n          // Check TaxPaid\n          if (angular.isDefined(cbcReportList.Summary.TaxPaid) && cbcReportList.Summary.TaxPaid !== null) {\n            if (!angular.isObject(cbcReportList.Summary.TaxPaid)) {\n              var fieldValue = cbcReportList.Summary.TaxPaid;\n              cbcReportList.Summary.TaxPaid = {};\n              if (vm.isCurrencyCode(fieldValue)) {\n                cbcReportList.Summary.TaxPaid['@currCode'] = fieldValue;\n              }\n              else {\n                cbcReportList.Summary.TaxPaid['#text'] = fieldValue;\n              }\n            }\n          }\n          // Check Earnings\n          if (angular.isDefined(cbcReportList.Summary.Earnings) && cbcReportList.Summary.Earnings !== null) {\n            if (!angular.isObject(cbcReportList.Summary.Earnings)) {\n              var fieldValue = cbcReportList.Summary.Earnings;\n              cbcReportList.Summary.Earnings = {};\n              if (vm.isCurrencyCode(fieldValue)) {\n                cbcReportList.Summary.Earnings['@currCode'] = fieldValue;\n              }\n              else {\n                cbcReportList.Summary.Earnings['#text'] = fieldValue;\n              }\n            }\n          }\n          // Check TaxAccrued\n          if (angular.isDefined(cbcReportList.Summary.TaxAccrued) && cbcReportList.Summary.TaxAccrued !== null) {\n            if (!angular.isObject(cbcReportList.Summary.TaxAccrued)) {\n              var fieldValue = cbcReportList.Summary.TaxAccrued;\n              cbcReportList.Summary.TaxAccrued = {};\n              if (vm.isCurrencyCode(fieldValue)) {\n                cbcReportList.Summary.TaxAccrued['@currCode'] = fieldValue;\n              }\n              else {\n                cbcReportList.Summary.TaxAccrued['#text'] = fieldValue;\n              }\n            }\n          }\n          // Check Assets\n          if (angular.isDefined(cbcReportList.Summary.Assets) && cbcReportList.Summary.Assets !== null) {\n            if (!angular.isObject(cbcReportList.Summary.Assets)) {\n              var fieldValue = cbcReportList.Summary.Assets;\n              cbcReportList.Summary.Assets = {};\n              if (vm.isCurrencyCode(fieldValue)) {\n                cbcReportList.Summary.Assets['@currCode'] = fieldValue;\n              }\n              else {\n                cbcReportList.Summary.Assets['#text'] = fieldValue;\n              }\n            }\n          }\n          // Check Revenues.Unrelated\n          if (angular.isDefined(cbcReportList.Summary.Revenues.Unrelated) && cbcReportList.Summary.Revenues.Unrelated !== null) {\n            if (!angular.isObject(cbcReportList.Summary.Revenues.Unrelated)) {\n              var fieldValue = cbcReportList.Summary.Revenues.Unrelated;\n              cbcReportList.Summary.Revenues.Unrelated = {};\n              if (vm.isCurrencyCode(fieldValue)) {\n                cbcReportList.Summary.Revenues.Unrelated['@currCode'] = fieldValue;\n              }\n              else {\n                cbcReportList.Summary.Revenues.Unrelated['#text'] = fieldValue;\n              }\n            }\n          }\n          // Check Revenues.Related\n          if (angular.isDefined(cbcReportList.Summary.Revenues.Related) && cbcReportList.Summary.Revenues.Related !== null) {\n            if (!angular.isObject(cbcReportList.Summary.Revenues.Related)) {\n              var fieldValue = cbcReportList.Summary.Revenues.Related;\n              cbcReportList.Summary.Revenues.Related = {};\n              if (vm.isCurrencyCode(fieldValue)) {\n                cbcReportList.Summary.Revenues.Related['@currCode'] = fieldValue;\n              }\n              else {\n                cbcReportList.Summary.Revenues.Related['#text'] = fieldValue;\n              }\n            }\n          }\n          // Check Revenues.Total\n          if (angular.isDefined(cbcReportList.Summary.Revenues.Total) && cbcReportList.Summary.Revenues.Total !== null) {\n            if (!angular.isObject(cbcReportList.Summary.Revenues.Total)) {\n              var fieldValue = cbcReportList.Summary.Revenues.Total;\n              cbcReportList.Summary.Revenues.Total = {};\n              if (vm.isCurrencyCode(fieldValue)) {\n                cbcReportList.Summary.Revenues.Total['@currCode'] = fieldValue;\n              }\n              else {\n                cbcReportList.Summary.Revenues.Total['#text'] = fieldValue;\n              }\n            }\n          }\n\n             // Check the Docspec\n             if (angular.isDefined(cbcReportList.DocSpec.DocTypeIndic) && cbcReportList.DocSpec.DocTypeIndic !== null) {\n              if (!angular.isObject(cbcReportList.DocSpec.DocTypeIndic)) {\n                var fieldValue = cbcReportList.DocSpec.DocTypeIndic;\n                cbcReportList.DocSpec.DocTypeIndic={};\n                if (fieldValue.length < 6) {\n                  cbcReportList.DocSpec.DocTypeIndic['#text'] = fieldValue;\n                }\n                else {\n                  cbcReportList.DocSpec.DocTypeIndic['#text'] = \"OECD1\";\n                }\n            }\n           \n          }\n          vm.jurisdictionsArr.push(cbcReportList);\n\n         \n          // this is to make sure that the array is updated\n          vm.$apply();\n        }\n\n\n      }\n      else {\n        vm.showreportDiv = true;\n        //   vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports = {};\n\n        //   vm.jurisdictionsArr = [\n        //     {\n        //       \"ConstEntities\": [\n\n        //         {\n        //           \"ConstEntity\":\n        //             {\n        //               \"Name\": [null]\n        //             },\n        //           \"BizActivities\": [null]\n        //         }\n\n        //       ]\n\n        //     }\n        //   ]\n        //   vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports = vm.jurisdictionsArr;\n\n      }\n      vm.updateNoOfConstituentEntities();\n      //swal.close();\n    }\n\n    vm.isCurrencyCode = function (fieldValue) {\n\n      if (fieldValue && fieldValue !== null) {\n\n        if (fieldValue.length === 3 && !angular.isNumber(fieldValue)) {\n          return true;\n        }\n        else {\n\n          return false;\n        }\n\n      }\n      return false;\n    }\n\n    vm.isIssuedByCode = function (fieldValue) {\n\n      if (fieldValue && fieldValue !== null) {\n\n        if (fieldValue.length === 2 && !angular.isNumber(fieldValue)) {\n          return true;\n        }\n        else {\n\n          return false;\n        }\n\n      }\n      return false;\n    }\n\n    vm.updateconstEntities = function (cbcReport) {\n      var constEntitiesList = [];\n\n      if (angular.isDefined(cbcReport.ConstEntities) && cbcReport.ConstEntities !== null) {\n        constEntitiesList = cbcReport.ConstEntities;\n        if (angular.isArray(constEntitiesList)) {\n          var c = constEntitiesList.length;\n          for (var i = 0; i < c; i++) {\n            var nameArr = [];\n            var constituent = constEntitiesList[i];\n            if (angular.isDefined(constituent) && (constituent !== null)) {\n              if (angular.isDefined(constituent.ConstEntity) && (constituent.ConstEntity !== null)) {//} && angular.isDefined(constEntiti.ConstEntity.Name)) {\n                // Check Name\n                if (angular.isDefined(constituent.ConstEntity.Name) && (constituent.ConstEntity.Name !== null)) {\n                  if (!angular.isArray(constituent.ConstEntity.Name)) {\n                    var nameValue = constituent.ConstEntity.Name;\n                    nameArr.push(nameValue);\n                    constituent.ConstEntity.Name = nameArr;\n                  }\n                }\n                if (angular.isDefined(constituent.ConstEntity.IN) && constituent.ConstEntity.IN !== null) {\n                  if (!angular.isObject(constituent.ConstEntity.IN)) {\n                    var fieldValue = constituent.ConstEntity.IN;\n                    constituent.ConstEntity.IN = {};\n                    if (vm.isIssuedByCode(fieldValue)) {\n                      constituent.ConstEntity.IN['@issuedBy'] = fieldValue;\n                    }\n                    else {\n                      constituent.ConstEntity.IN['#text'] = fieldValue;\n                    }\n                  }\n                }\n                if (angular.isDefined(constituent.ConstEntity.TIN) && constituent.ConstEntity.TIN !== null) {\n                  if (!angular.isObject(constituent.ConstEntity.TIN)) {\n                    var fieldValue = constituent.ConstEntity.TIN;\n                    constituent.ConstEntity.TIN = {};\n                    if (vm.isIssuedByCode(fieldValue)) {\n                      constituent.ConstEntity.TIN['@issuedBy'] = fieldValue;\n                    }\n                    else {\n                      constituent.ConstEntity.TIN['#text'] = fieldValue;\n                    }\n                  }\n                }\n                if (angular.isDefined(constituent.ConstEntity.Address) && constituent.ConstEntity.Address !== null) {\n                  if (!angular.isObject(constituent.ConstEntity.Address)) {\n                    var fieldValue = constituent.ConstEntity.Address;\n                    constituent.ConstEntity.Address = {};\n                    if (vm.isIssuedByCode(fieldValue)) {\n                      constituent.ConstEntity.Address['CountryCode'] = fieldValue;\n                      constituent.ConstEntity.Address['AddressFree'] = fieldValue;\n                    }\n                    else {\n                      constituent.ConstEntity.Address['@legalAddressType'] = fieldValue;\n                    }\n                  }\n                }\n\n              }\n              else if (constituent.ConstEntity == null) {\n                constituent.ConstEntity = {};\n              }\n            }\n            else if (constituent == null) {\n              constituent = {\n                \"ConstEntity\":\n                  {\n                    \"Name\": []\n                  },\n                \"BizActivities\": [null]\n              };\n\n            }\n\n\n\n            if (angular.isDefined(constituent) && (constituent !== null)) {\n              constituent = vm.updateMainBusinessAc(constituent);\n            }\n\n\n          }\n\n        }\n        else if (angular.isObject(constEntitiesList)) {\n          var constEntitiesArr = [];\n          var nameArr = [];\n          if (angular.isDefined(constEntitiesList.ConstEntity) && angular.isDefined(constEntitiesList.ConstEntity.Name)) {\n            if (!angular.isArray(constEntitiesList.ConstEntity.Name)) {\n              var nameValue = constEntitiesList.ConstEntity.Name;\n              nameArr.push(nameValue);\n              constEntitiesList.ConstEntity.Name = nameArr;\n            }\n            if (angular.isDefined(constEntitiesList.ConstEntity.TIN) && constEntitiesList.ConstEntity.TIN !== null) {\n              if (!angular.isObject(constEntitiesList.ConstEntity.TIN)) {\n                var fieldValue = constEntitiesList.ConstEntity.TIN;\n                constEntitiesList.ConstEntity.TIN = {};\n                if (vm.isIssuedByCode(fieldValue)) {\n                  constEntitiesList.ConstEntity.TIN['@issuedBy'] = fieldValue;\n                }\n                else {\n                  constEntitiesList.ConstEntity.TIN['#text'] = fieldValue;\n                }\n              }\n            }\n            if (angular.isDefined(constEntitiesList.ConstEntity.IN) && constEntitiesList.ConstEntity.IN !== null) {\n              if (!angular.isObject(constEntitiesList.ConstEntity.IN)) {\n                var fieldValue = constEntitiesList.ConstEntity.IN;\n                constEntitiesList.ConstEntity.IN = {};\n                if (vm.isIssuedByCode(fieldValue)) {\n                  constEntitiesList.ConstEntity.IN['@issuedBy'] = fieldValue;\n                }\n                else {\n                  constEntitiesList.ConstEntity.IN['#text'] = fieldValue;\n                }\n              }\n            }\n\n            if (angular.isDefined(constEntitiesList.ConstEntity.Address) && constEntitiesList.ConstEntity.Address !== null) {\n              if (!angular.isObject(constEntitiesList.ConstEntity.Address)) {\n                var fieldValue = constEntitiesList.ConstEntity.Address;\n                constEntitiesList.ConstEntity.Address = {};\n                if (vm.isIssuedByCode(fieldValue)) {\n                  constEntitiesList.ConstEntity.Address['CountryCode'] = fieldValue;\n                  constEntitiesList.ConstEntity.Address['AddressFree'] = fieldValue;\n                }\n                else {\n                  constEntitiesList.ConstEntity.Address['@legalAddressType'] = fieldValue;\n                }\n              }\n            }\n\n          }\n\n\n          constEntitiesArr.push(constEntitiesList);\n          cbcReport.ConstEntities = constEntitiesArr;\n          vm.updateMainBusinessAc(constEntitiesList);\n        }\n      }\n      return cbcReport;\n    };\n\n\n    vm.updateMainBusinessAc = function (constEntiti) {\n      var busAccList = [];\n      if (angular.isDefined(constEntiti) && constEntiti !== null) {\n        busAccList = constEntiti.BizActivities;\n        if (busAccList && busAccList !== null) {\n          if (angular.isArray(busAccList)) {\n\n            var n = busAccList.length;\n            for (var i = 0; i < n; i++) {\n              if (busAccList[i] === 'CBC513') {\n                if (angular.isUndefined(constEntiti.OtherEntityInfo) || constEntiti.OtherEntityInfo == null) {\n                  vm.otherBusinessActivityIsRequired = true;\n                }\n              }\n\n            }\n            // do nothig \n            return;\n          }\n          else {\n            var mainBusinessArr = [];\n            mainBusinessArr.push(busAccList);\n            constEntiti.BizActivities = mainBusinessArr;\n          }\n        }\n        else {\n          constEntiti.BizActivities = [null];\n        }\n      }\n\n      return constEntiti;\n    }\n\n\n    vm.addmainBusinessAc = function (constituent) {\n\n      if (constituent.BizActivities.length < 13) {\n\n        constituent.BizActivities.push(vm.addmainBusinessAcObj());\n      }\n      else {\n        swal(\"Error\", \"The maximum number to be captured is 13\");\n      }\n\n\n\n    }\n\n    vm.removeMainBusinessAc = function (constituent, index) {\n\n      if (constituent.BizActivities.length > 1) {\n        constituent.BizActivities.splice(index, 1);\n\n        var n = constituent.BizActivities.length;\n\n        for (var i = 0; i < n; i++) {\n          if (constituent.BizActivities[i] === 'CBC513') {\n            vm.otherBusinessActivityIsRequired = true;\n            return;\n          }\n          else {\n\n            vm.otherBusinessActivityIsRequired = false;\n\n          }\n\n        }\n      }\n\n    }\n\n    vm.addOtherInforMAtionCon = function (e) {\n      if (e) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n      vm.myPromiseOtherInforMAtion = $timeout(function () {\n\n        // var blockOtherInforMAtion = blockUI.instances.get('blockOtherInforMAtion');\n        // blockOtherInforMAtion.start();\n\n        // $timeout(function() {\n        //blockOtherInforMAtion.stop();\n        // }, 4000);\n\n        vm.otherInforArr.push(vm.addadditionalInfor());\n\n        if (angular.isUndefined(vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo)\n          || vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo == null) {\n\n          vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo = {\n\n          };\n\n        }\n\n        if (vm.otherInforArr.length > 1) {\n          vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo = vm.otherInforArr;\n\n        } else {\n          vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo = vm.otherInforArr[0];\n        }\n\n\n\n      }, 4000)\n        .then(function () {\n\n        }).then(function () {\n\n        }).then(function () {\n\n        });\n      return vm.myPromiseOtherInforMAtion;\n\n    }\n\n    vm.removeOtherInforMAtionCon = function (index) {\n\n      if (vm.otherInforArr.length > 1) {\n        vm.otherInforArr.splice(index, 1);\n      }\n      vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo = vm.otherInforArr;\n\n    }\n\n    vm.updateAdditionalInfor = function () {\n      var additionalInforArrs = []\n\n      if (angular.isUndefined(vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo)\n        || vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo == null) {\n\n        vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo = {};\n\n      }\n      additionalInforArrs = vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo;\n\n      if (additionalInforArrs) {\n        if (angular.isArray(additionalInforArrs)) {\n          var a = additionalInforArrs.length;\n          for (var i = 0; i < a; i++) {\n            var additionalInforArr = additionalInforArrs[i];\n            if (!angular.isObject(additionalInforArr.ResCountryCode)) {\n              vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[i].ResCountryCode = [additionalInforArr.ResCountryCode];\n            }\n            if (!angular.isObject(additionalInforArr.DocSpec.DocTypeIndic)) {\n              var fieldValue = additionalInforArr.DocSpec.DocTypeIndic;\n              additionalInforArr.DocSpec.DocTypeIndic={};\n\n              if(fieldValue<6){\n                additionalInforArr.DocSpec.DocTypeIndic[\"#text\"]= fieldValue;\n              }\n              else\n              {\n                additionalInforArr.DocSpec.DocTypeIndic[\"#text\"]= \"OECD1\";\n\n              }\n      \n            }\n\n            if (!angular.isObject(additionalInforArr.SummaryRef)) {\n              vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[i].SummaryRef = [additionalInforArr.SummaryRef];\n            }\n            vm.otherInforArr.push(additionalInforArr);\n\n          }\n        }\n         else if (angular.isObject(additionalInforArrs))\n          {\n          vm.otherInforArr.push(additionalInforArrs);\n          vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo = vm.otherInforArr;\n          if (!angular.isObject(additionalInforArrs.ResCountryCode)) {\n            vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[0].ResCountryCode = [additionalInforArrs.ResCountryCode];\n          }\n\n          if (!angular.isObject(additionalInforArrs.SummaryRef)) {\n            vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[0].SummaryRef = [additionalInforArrs.SummaryRef];\n          }\n\n        }\n      }\n\n    }\n\n    vm.changeIntoAnArr = function () {\n      try {\n\n        var InArrs = []\n        if (angular.isUndefined(vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity) || vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity == null) {\n          if (angular.isUndefined(vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN)\n            || vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN == null) {\n\n            vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN = {};\n\n            InArrs = vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN;\n            if (InArrs) {\n              if (angular.isArray(InArrs)) {\n                return;\n              } else if (angular.isObject(InArrs)) {\n                var newArr = [];\n                newArr.push(InArrs);\n                vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN = newArr;\n\n              }\n            }\n\n          }\n\n        }\n\n\n      } catch (error) {\n\n      }\n\n\n    }\n\n\n    vm.addResidentCountry = function (res) {\n      res.ResCountryCode.push(null);\n\n    }\n\n    vm.RemoveResidentCountry = function (res, index) {\n\n      if (res.ResCountryCode.length > 1) {\n        res.ResCountryCode.splice(index, 1);\n      }\n\n    }\n\n\n    vm.addSummaryRef = function (sum) {\n      sum.SummaryRef.push(null);\n\n    }\n\n    vm.RemoveRSummaryRef = function (sum, index) {\n\n      if (sum.SummaryRef.length > 1) {\n        sum.SummaryRef.splice(index, 1);\n      }\n\n    }\n\n\n\n    rs.getAngularData = function () {\n\n      if (vm.jurisdictionsArr.length < 1) {\n        if (vm.DefaultCBCReport.length == 1 && vm.showreportDiv == true) {\n          if (vm.constituentArr.length >= 0 && vm.constituentArr.length < 351) {\n            if (vm.DefaultCBCReport[0].ConstEntities[0] && vm.DefaultCBCReport[0].ConstEntities.length) {\n              vm.constituentArr.push(vm.DefaultCBCReport[0].ConstEntities[0]);\n            }\n            // vm.constituentArr.push(vm.DefaultCBCReport[0].ConstEntities[0]);\n            vm.DefaultCBCReport[0].ConstEntities = angular.copy(vm.constituentArr);\n\n          }\n          vm.jurisdictionsArr.push(vm.DefaultCBCReport[0]);\n          noOfReports = vm.jurisdictionsArr.length;\n          vm.formData.CountryByCountryDeclaration.NoOfTaxJurisdictions = noOfReports;\n\n          if (angular.isDefined(vm.formData.CountryByCountryDeclaration.TaxJurisdictions) && (vm.formData.CountryByCountryDeclaration.TaxJurisdictions !== null)) {\n            if (angular.isUndefined(vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[noOfReports - 1])) {\n              vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[noOfReports - 1] = {};\n              vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[noOfReports - 1].NoOfConstituentEntities = {};\n              vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[noOfReports - 1].NoOfConstituentEntities = vm.constituentArr.length;\n            }\n          }\n\n          vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports = vm.jurisdictionsArr;\n\n        }\n      }\n      else {\n        if (vm.DefaultCBCReport.length == 1 && vm.showreportDiv == true && vm.reportid == null) {\n\n          if (vm.constituentArr.length >= 0 && vm.constituentArr.length < 351) {\n\n            if (vm.DefaultCBCReport[0].ConstEntities[0] && vm.DefaultCBCReport[0].ConstEntities.length) {\n              vm.constituentArr.push(vm.DefaultCBCReport[0].ConstEntities[0]);\n            }\n\n            vm.DefaultCBCReport[0].ConstEntities = angular.copy(vm.constituentArr);\n\n          }\n\n          var valid = angular.element(CBCReportFormDiv).scope().CBCReportFormValidWithoutMessages();\n          if (valid) {\n            vm.jurisdictionsArr.push(vm.DefaultCBCReport[0]);\n          }\n\n          noOfReports = vm.jurisdictionsArr.length;\n          vm.formData.CountryByCountryDeclaration.NoOfTaxJurisdictions = noOfReports;\n\n          if (angular.isDefined(vm.formData.CountryByCountryDeclaration.TaxJurisdictions) && (vm.formData.CountryByCountryDeclaration.TaxJurisdictions !== null)) {\n            if (angular.isUndefined(vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[noOfReports - 1])) {\n              vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[noOfReports - 1] = {};\n              vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[noOfReports - 1].NoOfConstituentEntities = {};\n              vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[noOfReports - 1].NoOfConstituentEntities = vm.DefaultCBCReport[0].ConstEntities.length;\n            }\n\n          }\n          vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports = vm.jurisdictionsArr;\n\n        }\n        else {\n          if (vm.constituentArr.length >= 0 && vm.constituentArr.length < 351) {\n\n            if (vm.constEntityId == undefined) {\n\n              if (vm.DefaultCBCReport[0].ConstEntities[0] && vm.DefaultCBCReport[0].ConstEntities.length) {\n                vm.constituentArr.push(vm.DefaultCBCReport[0].ConstEntities[0]);\n              }\n            }\n\n            else {\n              vm.constituentArr[vm.constEntityId] = angular.copy(vm.DefaultCBCReport[0].ConstEntities[0]);\n            }\n            vm.DefaultCBCReport[0].ConstEntities = angular.copy(vm.constituentArr);\n          }\n\n          vm.jurisdictionsArr[vm.reportid] = angular.copy(vm.DefaultCBCReport[0]);\n          vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports = vm.jurisdictionsArr;\n        }\n      }\n      vm.showreportDiv = false;\n\n\n\n\n      /** add DocSpec */\n\n\n      var b = vm.jurisdictionsArr.length;\n      if (angular.isUndefined(vm.formData.CountryByCountryDeclaration.NoOfTaxJurisdictions)) {\n        vm.formData.CountryByCountryDeclaration.NoOfTaxJurisdictions = {};\n      }\n      vm.formData.CountryByCountryDeclaration.NoOfTaxJurisdictions = b;\n\n\n      if (b > 0) {\n        for (var i = 0; i < b; i++) {\n          jurisdiction = vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports[i];\n          if (angular.isUndefined(jurisdiction.DocSpec)) {\n            vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports[i].DocSpec = {};\n            vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports[i].DocSpec.DocTypeIndic = {};\n            vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports[i].DocSpec.DocTypeIndic['#text'] = \"OECD1\";\n\n          }\n          else {\n\n            if (vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports[i].DocSpec.DocTypeIndic['#text'] == \"\" ||angular.isUndefined(vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports[i].DocSpec.DocTypeIndic['#text'])) {\n              vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports[i].DocSpec.DocTypeIndic['#text'] = \"OECD1\";\n\n            }\n          }\n\n          if (angular.isUndefined(vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[i]) || vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[i] == null) {\n            vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[i] = {}\n            if (angular.isUndefined(vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[i].NoOfConstituentEntities)) {\n              vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[i].NoOfConstituentEntities = {};\n            }\n          }\n\n          if(angular.isDefined(vm.jurisdictionsArr[i].ConstEntities))\n          {\n\n            vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[i].NoOfConstituentEntities = vm.jurisdictionsArr[i].ConstEntities.length;\n          }\n\n          vm.$apply();\n        }\n      }\n\n\n\n      if (vm.formData.CountryByCountryDeclaration.DeclarationDate != null || vm.formData.CountryByCountryDeclaration.DeclarationDate != undefined) {\n        var declerationDate = vm.formData.CountryByCountryDeclaration.DeclarationDate;\n        var declerationDateFullDate = moment(declerationDate, 'YYYYMMDD').format('YYYY-MM-DD');\n\n\n        if (moment(declerationDateFullDate, 'YYYY-MM-DD').isValid()) {\n\n          vm.formData.CountryByCountryDeclaration.DeclarationDate = declerationDateFullDate;\n        }\n\n      }\n\n      if (vm.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec != null || vm.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec != undefined) {\n        vm.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.TransmittingCountry = \"ZA\";\n        vm.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReceivingCountry = \"ZA\";\n        vm.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.MessageType = \"CBC\";\n\n        /*Sending entity In was defualted to SARS before now to the Entity Name*/\n        vm.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.SendingEntityIN = vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.Name[0];\n      \n        vm.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.Language = \"EN\";\n        vm.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.Warning = \"None\";\n        vm.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.Contact = \"SARS\";\n\n        if (vm.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod != null || vm.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod != undefined) {\n          var reportingPeriodDate = vm.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod;\n          var periodFullDate = moment(reportingPeriodDate, 'YYYYMMDD').format('YYYY-MM-DD');\n\n\n          if (moment(periodFullDate, 'YYYY-MM-DD').isValid()) {\n\n            vm.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod = periodFullDate;\n          }\n          else {\n            vm.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod = \"\";\n            return;\n          }\n\n          if (angular.isUndefined(vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocRefId) ||\n            vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocRefId === null) {\n            vm.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.MessageTypeIndic = \"CBC401\";\n\n          }\n          else {\n            if (vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocTypeIndic['#text'] == \"\") {\n              vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocTypeIndic['#text'] = \"OECD1\";\n\n            }\n            vm.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.MessageTypeIndic = \"CBC402\";\n\n          }\n\n\n        }\n\n      }\n      /*\n      check Docspec indicator is captured after correction\n      \n      */\n      var noOfAdditionalCont = vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo.length;\n      if (noOfAdditionalCont > 0)\n       {\n        for (var i = 0; i < noOfAdditionalCont; i++) \n        {\n          additionaInfo = vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[i];\n          if (angular.isUndefined(additionaInfo.DocSpec)) {\n            vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[i].DocSpec = {};\n            vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[i].DocSpec.DocTypeIndic = {};\n            vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[i].DocSpec.DocTypeIndic['#text'] = \"OECD1\";\n          }\n          else\n           {\n            if (vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[i].DocSpec.DocTypeIndic['#text'] == \"\" || angular.isUndefined(vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[i].DocSpec.DocTypeIndic['#text'])) \n            {\n              vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[i].DocSpec.DocTypeIndic['#text'] = \"OECD1\";\n\n            }\n\n\n          }\n        }\n      }\n\n      vm.$apply();\n\n      return dataService.getData(vm.formData);\n\n    }\n\n\n    vm.checkCompanyReg = function (event) {\n\n      var companyReg = event.target.value;\n      if (companyReg != \"\") {\n        if (!companyregservice.validateCompanyRegNo(companyReg)) {\n          event.target.value = \"\";\n          alert(\"Number Not Correct\");\n          return;\n        }\n\n      }\n\n    }\n\n\n    rs.setFormData = function (data, readOnly, prepop) {\n\n      vm.updateOnloadinitArray();\n      var json = angular.fromJson(data);\n\n\n      vm.formData = json;\n      vm.arrCreationForEntityName();\n      vm.arrCreationForEntityIn();\n      if (vm.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec != null || vm.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec != undefined) {\n        if (vm.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod != null || vm.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod != undefined) {\n\n          if(angular.isObject(vm.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod)){\n\n            vm.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod = vm.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod['#text'];\n          }\n\n          var formReportingPeriod = vm.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod;\n          if (vm.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod.length == 10) {\n            var reportingdate = moment(formReportingPeriod, 'YYYY-MM-DD').format('YYYYMMDD');\n\n\n            if (moment(reportingdate, 'YYYYMMDD').isValid()) {\n\n              vm.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod = reportingdate;\n            }\n            else {\n              vm.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod = \"\";\n\n            }\n\n\n          }\n          else {\n\n\n            if (moment(formReportingPeriod, 'YYYYMMDD').isValid()) {\n\n              var reportingdate = moment(formReportingPeriod, 'YYYY-MM-DD').format('YYYYMMDD');\n\n              vm.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod = reportingdate;\n\n\n            }\n            else {\n\n              swal(\"Error\", \"The Reporting Period (CCYYMMDD) you have entered does not seem to be valid. Please ensure that it is correct.<br/>HINTS:<br/>  Format:CCYYMMDD. <br/> Only numeric digits may be used.\");\n              vm.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod = \"\";\n            }\n          }\n\n        }\n      }\n\n\n\n      if (vm.formData.CountryByCountryDeclaration.DeclarationDate != null || vm.formData.CountryByCountryDeclaration.DeclarationDate != undefined) \n      {\n        var formDeclarationDate = vm.formData.CountryByCountryDeclaration.DeclarationDate;\n        if (vm.formData.CountryByCountryDeclaration.DeclarationDate.length == 10) {\n          var Declarationdate = moment(formDeclarationDate, 'YYYY-MM-DD').format('YYYYMMDD');\n          vm.formData.CountryByCountryDeclaration.DeclarationDate = Declarationdate;\n\n        }\n        else {\n\n\n          if (moment(formDeclarationDate, 'YYYYMMDD').isValid()) {\n\n            var Declarationdate = moment(formDeclarationDate, 'YYYY-MM-DD').format('YYYYMMDD');\n            vm.formData.CountryByCountryDeclaration.DeclarationDate = Declarationdate;\n\n          }\n          else {\n            swal(\"Error\", \"The Declaration Date (CCYYMMDD) you have entered does not seem to be valid. Please ensure that it is correct.<br/>HINTS:<br/>  Format:CCYYMMDD. <br/> Only numeric digits may be used.\");\n            vm.formData.CountryByCountryDeclaration.DeclarationDate = \"\";\n          }\n        }\n\n      }\n\n    \n        if (angular.isDefined(vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.TIN) && vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.TIN !== null) \n        {\n          if (!angular.isObject(vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.TIN)) {\n            var fieldValue = vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.TIN;\n            vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.TIN = {};\n            if (fieldValue.length >2) {\n\n              vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.TIN['#text'] = fieldValue;\n              vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.TIN['@issuedBy'] = \"ZA\";\n            }\n            else {\n              vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.TIN['#text'] = fieldValue;\n              vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.TIN['@issuedBy'] = \"ZA\";\n            }\n          }\n        }\n        if (angular.isDefined(vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN) && vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN !== null) \n        {\n          if (!angular.isObject(vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN)) {\n            var fieldValue = vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN;\n            vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN = [];\n            if (fieldValue.length >2) {\n\n              if(angular.isUndefined(vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN[0]))\n              {\n                vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN[0]={}\n              \n              }\n\n              vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN[0]['#text'] = fieldValue;\n              vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN[0]['@issuedBy'] = \"ZA\";\n            }\n            else {\n              vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN[0]['#text'] = fieldValue;\n              vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN[0]['@issuedBy'] = \"ZA\";\n            }\n          }\n        }\n      \n\n\n      if (angular.isUndefined(vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec)) {\n\n        vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec = {};\n        vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocTypeIndic = {};\n        vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocTypeIndic['#text'] = \"OECD1\";\n      }\n      if (angular.isUndefined(vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocTypeIndic)) {\n        vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocTypeIndic = {};\n        vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocTypeIndic['#text'] = \"OECD1\";\n      }\n     // Check the Docspec\n      else{\n   \n          if (!angular.isObject( vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocTypeIndic)) {\n            var fieldValue = vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocTypeIndic;\n            vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocTypeIndic={};\n            if (fieldValue.length < 6) {\n              vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocTypeIndic['#text'] = fieldValue;\n            }\n            else {\n              vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocTypeIndic = \"OECD1\";\n            }\n        \n      }\n\n      }\n\n      // if (angular.isUndefined(vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports)) {\n      //   vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports = vm.addnewObj();\n\n      // }\n      // //Create Constituent Entity if not Provided\n      // if (angular.isUndefined(vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.ConstEntities)) {\n      //   vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.ConstEntities = vm.addNewConstituentObj();\n\n      // }\n\n\n\n      //      if (angular.isUndefined(vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports)) {\n      //       var b;\n      //         var jurisdictionsArr = vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports;\n      //         if(angular.isUndefined(jurisdictionsArr)){\n\n      // b=0;\n      //         }\n      //         else{\n\n      //           b= jurisdictionsArr.length;\n      //         }\n\n      //         if (b > 0) {\n      //           for (var i = 0; i < b; i++) {\n      //             jurisdictionsArr = vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports[i];\n      //             if (angular.isUndefined(jurisdictionsArr.DocSpec)) {\n      //               vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports[i].DocSpec = {};\n      //               vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports[i].DocSpec.DocTypeIndic = {};\n      //               vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports[i].DocSpec.DocTypeIndic['#text'] = \"OECD1\";\n      //               vm.$apply();\n      //             }\n\n      //           }\n      //         }\n      //         else {\n      //           jurisdictionsArr = vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports;\n      //           if (angular.isUndefined(jurisdictionsArr.DocSpec)) {\n      //             vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.DocSpec = {};\n      //             vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.DocSpec.DocTypeIndic = {};\n      //             vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.DocSpec.DocTypeIndic['#text'] = \"OECD1\";\n      //             vm.$apply();\n\n      //           }\n\n\n      //         }\n      //      }\n\n\n\n      if (angular.isUndefined(vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo)) {\n        vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo = vm.addadditionalInfor();\n      }\n\n\n      if (angular.isUndefined(vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo.DocSpec)) {\n\n        var additionalInforArrs = [];\n        additionalInforArrs = vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo;\n        if(angular.isArray(additionalInforArrs))\n        {\n         \n        var a = additionalInforArrs.length;\n        if (a > 0) \n        {\n          for (var i = 0; i < a; i++) {\n            var additionalInforArr = additionalInforArrs[i];\n            if (!angular.isObject(additionalInforArr.DocSpec)) {\n              vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[i].DocSpec = {};\n              // vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[i].DocSpec = [additionalInforArr.DocSpec];\n              vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[i].DocSpec.DocTypeIndic = {};\n              vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[i].DocSpec.DocTypeIndic['#text'] = \"OECD1\";\n              vm.$apply();\n            }\n          }\n        }\n        else \n        {\n          vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo.DocSpec = {};\n          vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo.DocSpec.DocTypeIndic = {};\n          vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo.DocSpec.DocTypeIndic['#text'] = \"OECD1\";\n          vm.$apply();\n        }\n      }\n      else if(angular.isObject(additionalInforArrs))\n      {\n\n        if (angular.isDefined(additionalInforArrs.DocSpec.DocTypeIndic) && additionalInforArrs.DocSpec.DocTypeIndic !== null) {\n          if (!angular.isObject(additionalInforArrs.DocSpec.DocTypeIndic)) {\n            var fieldValue = additionalInforArrs.DocSpec.DocTypeIndic;\n            additionalInforArrs.DocSpec.DocTypeIndic={};\n            if (fieldValue.length < 6) {\n              additionalInforArrs.DocSpec.DocTypeIndic['#text'] = fieldValue;\n            }\n            else {\n              additionalInforArrs.DocSpec.DocTypeIndic['#text'] = \"OECD1\";\n            }\n        }\n       \n      }\n\n    }\n\n  }\n\n  else\n\n  {\n    var additionalInforArrs = [];\n    additionalInforArrs = vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo;\n    if(angular.isArray(additionalInforArrs))\n    {\n    var a = additionalInforArrs.length;\n    if (a > 0) {\n      for (var i = 0; i < a; i++) {\n        var additionalInforArr = additionalInforArrs[i];\n        if (!angular.isObject(additionalInforArr.DocSpec)) {\n          vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[i].DocSpec = {};\n          // vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[i].DocSpec = [additionalInforArr.DocSpec];\n          vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[i].DocSpec.DocTypeIndic = {};\n          vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[i].DocSpec.DocTypeIndic['#text'] = \"OECD1\";\n          vm.$apply();\n        }\n      }\n    }\n    else {\n      vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo.DocSpec = {};\n      vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo.DocSpec.DocTypeIndic = {};\n      vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo.DocSpec.DocTypeIndic['#text'] = \"OECD1\";\n      vm.$apply();\n    }\n  }\n    else if(angular.isObject(additionalInforArrs)){\n\n        if (angular.isDefined(additionalInforArrs.DocSpec.DocTypeIndic) && additionalInforArrs.DocSpec.DocTypeIndic !== null) {\n          if (!angular.isObject(additionalInforArrs.DocSpec.DocTypeIndic)) {\n            var fieldValue = additionalInforArrs.DocSpec.DocTypeIndic;\n            additionalInforArrs.DocSpec.DocTypeIndic={};\n            if (fieldValue.length < 6) {\n              additionalInforArrs.DocSpec.DocTypeIndic['#text'] = fieldValue;\n            }\n            else {\n              additionalInforArrs.DocSpec.DocTypeIndic['#text'] = \"OECD1\";\n            }\n        }\n       \n      }\n\n    }\n\n  }\n     \n\n\n      vm.readOnly = readOnly;\n      vm.prepop = prepop;\n\n      vm.changeIntoAnArr();\n      vm.updateCbcReport();\n      //vm.$apply();\n      //vm.updateNoOfConstituentEntities();\n      vm.updateAdditionalInfor();\n\n      // vm.addedIitmes();\n      \n      vm.$apply();\n\n    }\n\n\n    vm.addnewObj = function () {\n\n      vm.cbcreportModel = {\n        \"ConstEntities\": [{\n          \"BizActivities\": [null]\n        }],\n        \"DocSpec\": {\n          \"DocTypeIndic\": {\n            \"#text\": \"OECD1\"\n          }\n        }\n      };\n\n      return vm.cbcreportModel;\n    }\n\n    vm.addNewConstituentObj = function () {\n\n      vm.constituentModel = {\n        \"ConstEntity\":\n          {\n            \"Name\": []\n          },\n        \"BizActivities\": [null],\n\n      };\n\n      return vm.constituentModel;\n    }\n\n    vm.addTaxJusObj = function () {\n      vm.cbcreportModel = {\n        \"NoOfConstituentEntities\": null\n      };\n      return vm.cbcreportModel;\n    }\n\n    vm.addadditionalInfor = function () {\n\n      vm.otherInforObj = {\n        'ResCountryCode': [null],\n        'SummaryRef': [null],\n        \"DocSpec\": {\n          \"DocTypeIndic\": {\n            \"#text\": \"OECD1\" //new \n          }\n        }\n\n      };\n\n      return vm.otherInforObj;\n    }\n\n    vm.addmainBusinessAcObj = function () {\n      vm.mainBusAccobj = null;\n\n      return vm.mainBusAccobj\n    }\n\n\n    vm.initArray = function () {\n      if (angular.isUndefined(vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ConstEntities)\n        || vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ConstEntities == null) {\n        vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.ConstEntities = {};\n        vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.ConstEntities.ConstEntity = {};\n        vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.ConstEntities.ConstEntity.Name = []\n      }\n    }\n    vm.updateOnloadinitArray = function () {\n\n      vm.formData.CountryByCountryDeclaration.CBC_OECD = {};\n      vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody = {};\n      vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity = {};\n      vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity = {};\n      vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.Name = [];\n      vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN = [];\n\n    }\n\n    vm.arrCreationForEntityName = function () {\n      try {\n        var list = vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.Name;\n        var newArr = [];\n        if (list) {\n          if (angular.isArray(list)) {\n\n          } else {\n\n            newArr.push(list);\n            vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.Name = newArr;\n          }\n        }\n\n      } catch (error) {\n\n      }\n\n    }\n\n    vm.arrCreationForEntityIn = function () {\n      try {\n        var newArr = [];\n        var list = vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN\n        if (list) {\n          if (angular.isArray(list)) {\n\n          } else {\n            if (vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN['#text'].indexOf(\"/\") == -1) {\n              newArr.push(null);\n            }\n            newArr.push(list);\n            vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN = newArr;\n          }\n        }\n\n      } catch (error) {\n\n      }\n\n    }\n\n    vm.updateNoOfConstituentEntities = function () {\n\n      if (angular.isUndefined(vm.formData.CountryByCountryDeclaration.TaxJurisdictions) || vm.formData.CountryByCountryDeclaration.TaxJurisdictions == null) {\n\n        vm.formData.CountryByCountryDeclaration.TaxJurisdictions = {};\n        vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction = {};\n      }\n      var TaxJurisdictionList = [];\n      TaxJurisdictionList = vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction;\n      if (TaxJurisdictionList) {\n        if (angular.isArray(TaxJurisdictionList)) {\n          return;\n        } else if (angular.isObject(TaxJurisdictionList)) {\n\n          vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction = vm.constEntitiesOnJusArr;\n          //vm.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction.push(TaxJurisdictionList);\n\n        }\n\n      }\n\n    }\n\n\n    vm.taxNumberValidation = function (event) {\n\n      if (event) {\n\n        var fieldValue = event.target.value;\n\n        if (fieldValue != \"\") {\n\n          fieldtypeservevices.taxReferenceNumberVAlidation(fieldValue).then(null, function () {\n            messageservices.taxRefNumberMessage();\n            vm.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.ConstEntities.ConstEntity.TIN['#text'] = \"\";\n          });\n        }\n\n      }\n\n    }\n    vm.mandatoryErrorMessage = \"Please ensure that you complete the following mandatory fields before submitting the form:<br/><br/>\";\n    vm.isFormValid = function () {\n\n      if (!vm.CBCForm.$valid) {\n        var errorMessage = vm.mandatoryErrorMessage\n        var counter = 0;\n        var requiredElements = angular.element('input,textarea,select,checkbox,.ng-empty').filter('[required]');\n\n        var n = 0;\n\n        n = requiredElements.length;\n\n        //  var n = vm.CBCForm.$error.required.length;\n\n        var uniqueArr = [];\n        for (var i = 0; i < n; i++) {\n\n          var elmntID = requiredElements[i].id;\n          var fieldName = angular.element('#' + elmntID).attr(\"data-fieldlabel\");\n\n\n\n          if (fieldName !== '' && fieldName !== undefined && fieldName !== null && uniqueArr.indexOf(fieldName) == -1) {\n\n\n            var additionalInfo = \"Additional Info\";\n            if (fieldName.indexOf(additionalInfo) == -1) {\n              uniqueArr.push(fieldName);\n              counter++;\n              if (counter <= 10) {\n                // errorMessage += \"- \" + rs.ITR12Form.$error.required[i].$name + \"<br/>\";\n                errorMessage += \"- \" + uniqueArr[uniqueArr.length - 1] + \"<br/>\";\n              }\n\n            }\n\n\n          }\n        }\n        if (counter > 10) {\n          errorMessage += \"<br/>Note that you have more than 10 fields that need to be completed. These fields will be displayed once the above mentioned fields have been corrected.\";\n        }\n        if (uniqueArr.length > 0) {\n\n          swal('Error', errorMessage);\n          return false;\n        }\n\n      }\n      if (vm.jurisdictionsArr.length > 0) {\n        var len = vm.jurisdictionsArr.length\n        for (var i = 0; i < len; i++) {\n          var jurisdiction = vm.jurisdictionsArr[i];\n          if (!vm.reportSummaryIsValid(jurisdiction)) {\n            var errorMsg = 'Please complete all the required fields for CBC Report ' + (i + 1);\n            swal('Error', errorMsg);\n            return false;\n          }\n          else if (!vm.reportConstEntitiesValid(jurisdiction, i)) {\n            return false;\n          }\n        }\n      }\n\n      if (vm.otherInforArr.length > 0) {\n\n        var additionalInfoLenght = vm.otherInforArr.length;\n        for (var j = 0; j < additionalInfoLenght; j++) {\n          var additionalInfor = vm.otherInforArr[j];\n          if (!vm.isAdditionalInfoValid(additionalInfor)) {\n            var errorMsg = 'Please complete all the required fields for Additional Information ' + (j + 1);\n            swal('Error', errorMsg);\n            return false;\n          }\n\n\n        }\n\n        return true;\n\n      }\n      return true;\n    }\n    vm.isAdditionalInfoValid = function (additionalInfor) {\n      if (angular.isUndefined(additionalInfor.OtherInfo) || additionalInfor.OtherInfo === null || angular.isUndefined(additionalInfor.ResCountryCode) ||\n        additionalInfor.ResCountryCode === null || angular.isUndefined(additionalInfor.SummaryRef)\n        || additionalInfor.SummaryRef === null || !vm.isObjectRepeatingPropValid(additionalInfor.SummaryRef) || !vm.isObjectRepeatingPropValid(additionalInfor.ResCountryCode)) {\n        return false;\n      }\n\n      return true;\n    }\n    vm.isObjectRepeatingPropValid = function (repeatinProp) {\n\n      var n = repeatinProp.length;\n      if (n == 0) {\n        return false;\n      }\n      for (var i = 0; i < n; i++) {\n        var summary = repeatinProp[i];\n        if (angular.isUndefined(summary) || summary == null) {\n          return false;\n        }\n      }\n      return true;\n\n\n    }\n\n    vm.reportSummaryIsValid = function (jurisdiction) {\n      // TODO - check if necessary to check for empty fields, as this might be unnecessary\n      if (angular.isUndefined(jurisdiction.Summary) || angular.isUndefined(jurisdiction.Summary.ProfitOrLoss) ||\n        angular.isUndefined(jurisdiction.Summary.ProfitOrLoss['@currCode']) || jurisdiction.Summary.ProfitOrLoss['@currCode'] === '' ||\n        angular.isUndefined(jurisdiction.Summary.ProfitOrLoss['#text']) || jurisdiction.Summary.ProfitOrLoss['#text'] === '' ||\n        angular.isUndefined(jurisdiction.ResCountryCode) || angular.isUndefined(jurisdiction.Summary.Capital) || jurisdiction.Summary.Capital === null ||\n        angular.isUndefined(jurisdiction.Summary.Capital['#text']) || jurisdiction.Summary.Capital['#text'] === '' ||\n        angular.isUndefined(jurisdiction.Summary.Capital['@currCode']) || jurisdiction.Summary.Capital['@currCode'] === '' ||\n        angular.isUndefined(jurisdiction.Summary.TaxPaid) || jurisdiction.Summary.TaxPaid['#text'] === '' || jurisdiction.Summary.TaxPaid === null ||\n        angular.isUndefined(jurisdiction.Summary.TaxPaid['#text']) || jurisdiction.Summary.TaxPaid['@currCode'] === '' ||\n        angular.isUndefined(jurisdiction.Summary.TaxPaid['@currCode']) || angular.isUndefined(jurisdiction.Summary.Earnings) || jurisdiction.Summary.Earnings === null ||\n        angular.isUndefined(jurisdiction.Summary.Earnings['#text']) || jurisdiction.Summary.Earnings['#text'] === '' ||\n        angular.isUndefined(jurisdiction.Summary.Earnings['@currCode']) || jurisdiction.Summary.Earnings['@currCode'] === '' ||\n        angular.isUndefined(jurisdiction.Summary.TaxAccrued) || jurisdiction.Summary.TaxAccrued['#text'] === '' || jurisdiction.Summary.TaxAccrued === null ||\n        angular.isUndefined(jurisdiction.Summary.TaxAccrued['#text']) || jurisdiction.Summary.TaxAccrued['@currCode'] === '' ||\n        angular.isUndefined(jurisdiction.Summary.TaxAccrued['@currCode']) || angular.isUndefined(jurisdiction.Summary.Assets) ||\n        angular.isUndefined(jurisdiction.Summary.Assets['#text']) || jurisdiction.Summary.Assets['#text'] === '' ||\n        angular.isUndefined(jurisdiction.Summary.Assets['@currCode']) || jurisdiction.Summary.Assets['@currCode'] === '' || jurisdiction.Summary.Assets === null ||\n        angular.isUndefined(jurisdiction.Summary.NbEmployees) || jurisdiction.Summary.NbEmployees === '' || jurisdiction.Summary.NbEmployees === null ||\n        angular.isUndefined(jurisdiction.Summary.Revenues) || angular.isUndefined(jurisdiction.Summary.Revenues.Unrelated) || jurisdiction.Summary.Revenues.Unrelated === null ||\n        angular.isUndefined(jurisdiction.Summary.Revenues.Unrelated['#text']) || jurisdiction.Summary.Revenues.Unrelated['#text'] === '' ||\n        angular.isUndefined(jurisdiction.Summary.Revenues.Unrelated['@currCode']) || jurisdiction.Summary.Revenues.Unrelated['@currCode'] === '' ||\n        angular.isUndefined(jurisdiction.Summary.Revenues.Related) || jurisdiction.Summary.Revenues.Related['#text'] === '' || jurisdiction.Summary.Revenues.Related === null ||\n        angular.isUndefined(jurisdiction.Summary.Revenues.Related['#text']) || jurisdiction.Summary.Revenues.Related['@currCode'] === '' ||\n        angular.isUndefined(jurisdiction.Summary.Revenues.Related['@currCode'])) {\n        return false;\n      }\n      return true;\n    }\n\n    vm.onEditreportConstEntitiesValid = function () {\n      if (angular.isUndefined(vm.constituentArr) || vm.constituentArr.length == 0) {\n        swal('Error', 'Please complete at least one Constituent Entity for the CBC Report ');\n        return false;\n      }\n      else {\n        var constEntities = vm.constituentArr;\n        var n = constEntities.length;\n        for (var i = 0; i < n; i++) {\n          var entity = constEntities[i];\n          if (!vm.reportEntityIsValid(entity)) {\n            var errorMsg = 'Please complete all the required fields for Constituent Entity ' + (i + 1) + ' in CBC Report ' + (vm.reportid + 1);\n            swal('Error', errorMsg);\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    vm.reportConstEntitiesValid = function (jurisdiction, reportIndex) {\n      if (angular.isUndefined(jurisdiction.ConstEntities) || jurisdiction.ConstEntities.length == 0) {\n        swal('Error', 'Please complete at least one Constituent Entity for the CBC Report ');\n        return false;\n      }\n      else {\n        var constEntities = jurisdiction.ConstEntities\n        var n = constEntities.length;\n        for (var i = 0; i < n; i++) {\n          var entity = constEntities[i];\n          if (!vm.reportEntityIsValid(entity) || entity == null) {\n            var errorMsg = 'Please complete all the required fields for Constituent Entity ' + (i + 1) + ' in CBC Report ' + (reportIndex + 1);\n            swal('Error', errorMsg);\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    vm.reportEntityIsValid = function (constituent) {\n      if (angular.isDefined(constituent) && constituent !== null) {\n        if (angular.isDefined(constituent.ConstEntity) && constituent.ConstEntity !== null) {\n          if (angular.isUndefined(constituent.ConstEntity.Name) || angular.isUndefined(constituent.ConstEntity.Name[0]) || constituent.ConstEntity.Name === null ||\n            angular.isUndefined(constituent.ConstEntity.IN) || angular.isUndefined(constituent.ConstEntity.IN['#text']) || constituent.ConstEntity.IN === null ||\n            angular.isUndefined(constituent.ConstEntity.IN['@issuedBy']) || angular.isUndefined(constituent.ConstEntity.TIN) || constituent.ConstEntity.TIN === null ||\n            angular.isUndefined(constituent.ConstEntity.TIN['#text']) || angular.isUndefined(constituent.ConstEntity.TIN['@issuedBy']) ||\n            angular.isUndefined(constituent.ConstEntity.ResCountryCode) || angular.isUndefined(constituent.ConstEntity.Address) || constituent.ConstEntity.ResCountryCode === null ||\n            angular.isUndefined(constituent.ConstEntity.Address['@legalAddressType']) || angular.isUndefined(constituent.ConstEntity.Address.AddressFree) || constituent.ConstEntity.Address === null ||\n            angular.isUndefined(constituent.BizActivities) || constituent.BizActivities == null || !vm.isBusinessActivitiesValid(constituent.BizActivities)) {\n            return false;\n          }\n        }\n        else if (angular.isUndefined(constituent.ConstEntity)) {\n          return false;\n        }\n      }\n      else if (angular.isUndefined(constituent) || constituent == null) {\n        return false;\n      }\n\n      return true;\n    }\n\n    vm.isBusinessActivitiesValid = function (buzActivities) {\n      var n = buzActivities.length;\n      if (n == 0) {\n        return false;\n      }\n      for (var i = 0; i < n; i++) {\n        var buzActivity = buzActivities[i];\n        if (angular.isUndefined(buzActivity) || buzActivity == null) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    vm.runEmailAddressValidationOnExitRules = function (event) {\n      if (event.target.value === \"\" || event.target.value === \"null\") {\n        return;\n      }\n\n      var emailField = event.target;//.value;\n      fieldtypeservevices.isEmailAddressField(emailField).then(null, function (name) {\n        messageservices.emailAddressMsg(name);\n\n        //delete vm.formData.CountryByCountryDeclaration.ContactDetails.EmailAddress;\n        vm.formData.CountryByCountryDeclaration.ContactDetails.EmailAddress = \"\";\n      });\n\n    }\n    vm.runDateValidationOnExitRules = function (event) {\n      if (event.target.value === \"\" || event.target.value === \"null\") {\n        return;\n      }\n\n      var dateField = event.target.value;//.value;\n      var name = event.target.tagName;//.value;\n      dateservices.isValidPeriodDate(dateField).then(null, function (name) {\n        messageservices.ReportingPeriodMessage();\n\n        //delete vm.formData.CountryByCountryDeclaration.ContactDetails.EmailAddress;\n        vm.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod = \"\";\n      });\n\n    }\n\n    vm.runDeclarationDateValidationOnExit = function (event) {\n      if (event.target.value === \"\" || event.target.value === \"null\") {\n        return;\n      }\n\n      var dateField = event.target.value;//.value;\n      var name = event.target.tagName;//.value;\n      dateservices.isValidDate(dateField).then(null, function (name) {\n        messageservices.declarationDateMessage();\n\n\n        vm.formData.CountryByCountryDeclaration.DeclarationDate = \"\";\n      });\n\n    }\n\n    vm.initNameArry = function (constituent) {\n      try {\n        if (constituent.ConstEntity.Name == null) {\n          constituent.ConstEntity.Name = [null];\n        }\n      } catch (error) {\n\n      }\n    }\n\n    vm.deletionMessage = function (otherInfor, event) {\n\n      var fieldValue = event.target.value;\n\n      if (fieldValue == \"on\" || fieldValue == \"OECD3\") {\n        messageservices.deletingRecordMessage().then(function () {\n\n          //otherInfor.DocSpec.DocTypeIndic = \"OECD3\";\n        }, function () {\n\n          otherInfor.DocSpec.DocTypeIndic = \"\";\n          vm.$apply();\n\n        });\n      }\n\n    }\n\n    vm.deletionReportMessage = function (jurisdiction, event) {\n\n      var fieldValue = event.target.value;\n\n      if (fieldValue == \"on\" || fieldValue == \"OECD3\") {\n        messageservices.deletingRecordMessage().then(function () {\n\n          // jurisdiction.DocSpec.DocTypeIndic = \"OECD3\";\n        }, function () {\n\n          jurisdiction.DocSpec.DocTypeIndic = \"\";\n          vm.$apply();\n\n        });\n      }\n\n    }\n\n    vm.deletionEntityMessage = function (entity, event) {\n\n      var fieldValue = event.target.value;\n\n      if (fieldValue == \"on\" || fieldValue == \"OECD3\") {\n        messageservices.deletingRecordMessage().then(function () {\n\n          // entity.DocSpec.DocTypeIndic = \"OECD3\";\n        }, function () {\n\n          entity.DocSpec.DocTypeIndic = \"\";\n          vm.$apply();\n\n        });\n      }\n\n    }\n\n    vm.prepopValueWhenNotEmpty = function (event) {\n\n      var fieldValue = event.target.value;\n\n      if (fieldValue !== \"\") {\n        vm.prepopValue = \"US\";\n      } else {\n        vm.prepopValue = \"\";\n      }\n\n    }\n\n    vm.telNumberValidation = function (event) {\n      var fieldValue = event.target.value;\n      if (fieldValue != \"\") {\n        fieldtypeservevices.isMinNineTelPhone(event.target.value).then(null, function () {\n          messageservices.NumericCheckTelNumberMessage(event.target.name);\n          event.target.value = \"\";\n\n        });\n\n      }\n\n    }\n    vm.validateGIINNoField = function (event) {\n      if (event.target.value === \"\" || event.target.value === null || event.target.value === \"null\") {\n        return;\n      }\n      var fieldVal = event.target.value;\n      var isValid = fieldtypeservevices.isGIINNoField(fieldVal);\n      if (!isValid) {\n        messageservices.giinNumberCheckMsg();\n        event.target.value = \"\";\n      }\n    }\n    /* CBC Report form Validation Function */\n\n    vm.CBCReportFormValid = function () {\n\n      if (!vm.CBCReportFormDiv.$valid) {\n        var errorMessage = vm.mandatoryErrorMessage\n        var counter = 0;\n        var requiredElements = vm.CBCReportFormDiv.$error.required;\n        var n = 0;\n        n = requiredElements.length;\n\n        var uniqueArr = [];\n        for (var i = 0; i < n; i++) {\n\n\n          var fieldName = requiredElements[i].$name;\n\n          if (fieldName !== '' && fieldName !== undefined && fieldName !== null && uniqueArr.indexOf(fieldName) == -1) {\n            uniqueArr.push(fieldName);\n            counter++;\n            if (counter <= 10) {\n              errorMessage += \"- \" + uniqueArr[uniqueArr.length - 1] + \"<br/>\";\n            }\n          }\n        }\n        if (counter > 10) {\n          errorMessage += \"<br/>Note that you have more than 10 fields that need to be completed. These fields will be displayed once the above mentioned fields have been corrected.\";\n        }\n\n        swal('Error', errorMessage);\n        return false;\n      }\n\n      return true;\n    }\n\n    vm.ConstituentFormValid = function () {\n\n      if (!vm.CBCReportFormDiv.ConstituentEntity.$valid) {\n        var errorMessage = vm.mandatoryErrorMessage\n        var counter = 0;\n        var requiredElements = vm.CBCReportFormDiv.ConstituentEntity.$error.required;\n        var n = 0;\n        n = requiredElements.length;\n\n        var uniqueArr = [];\n        for (var i = 0; i < n; i++) {\n\n          var fieldName = requiredElements[i].$name;\n\n          if (fieldName !== '' && fieldName !== undefined && fieldName !== null && uniqueArr.indexOf(fieldName) == -1) {\n            uniqueArr.push(fieldName);\n            counter++;\n            if (counter <= 10) {\n              errorMessage += \"- \" + uniqueArr[uniqueArr.length - 1] + \"<br/>\";\n            }\n          }\n        }\n        if (counter > 10) {\n          errorMessage += \"<br/>Note that you have more than 10 fields that need to be completed. These fields will be displayed once the above mentioned fields have been corrected.\";\n        }\n\n        swal('Error', errorMessage);\n        return false;\n      }\n      return true;\n    }\n\n    vm.onResCountryCodeSelect = function (item) {\n      vm.resCountryName = item.name;\n    }\n\n    vm.onSelectedBizActivity = function (constituent) {\n      var n = constituent.BizActivities.length;\n\n      for (var i = 0; i < n; i++) {\n        if (constituent.BizActivities[i] === 'CBC513') {\n          vm.otherBusinessActivityIsRequired = true;\n          return;\n\n        }\n        else {\n\n          vm.otherBusinessActivityIsRequired = false;\n\n        }\n\n      }\n    }\n\n    vm.onEntityResCodeSelect = function (item) {\n      vm.entityResCountryName = item.name;\n    }\n\n    vm.getNameOfSelectedCountryCode = function (code) {\n      var countryName = \"\";\n      for (var i = 0; i < vm.countrycodes.length; i++) {\n        var countryObj = vm.countrycodes[i];\n        if (countryObj.code === code) {\n          countryName = countryObj.name;\n          break;\n        }\n      }\n      return countryName;\n    }\n\n\n    /**cbc without validation */\n\n    vm.CBCReportFormValidWithoutMessages = function () {\n\n      if (!vm.CBCReportFormDiv.$valid) {\n        var errorMessage = vm.mandatoryErrorMessage\n        var counter = 0;\n        var requiredElements = vm.CBCReportFormDiv.$error.required;\n        var n = 0;\n        n = requiredElements.length;\n\n        if (n <= 8) {\n          return true;\n\n        }\n\n        var uniqueArr = [];\n        for (var i = 0; i < n; i++) {\n\n\n          var fieldName = requiredElements[i].$name;\n\n          if (fieldName !== '' && fieldName !== undefined && fieldName !== null && uniqueArr.indexOf(fieldName) == -1) {\n            uniqueArr.push(fieldName);\n            counter++;\n            if (counter <= 10) {\n              errorMessage += \"- \" + uniqueArr[uniqueArr.length - 1] + \"<br/>\";\n\n            }\n          }\n        }\n        if (counter > 10) {\n          errorMessage += \"<br/>Note that you have more than 10 fields that need to be completed. These fields will be displayed once the above mentioned fields have been corrected.\";\n        }\n\n        return false;\n      }\n\n      return true;\n    }\n\n  }\n})();\n\n(function () {\r\n\r\n    angular.module('cbcproject').directive('uppercase', function () {\r\n\r\n        return {\r\n            require: 'ngModel',\r\n            link: function (scope, element, attrs, modelCtrl) {\r\n                var capitalize = function (inputValue) {\r\n                    if (inputValue == undefined) inputValue = '';\r\n                    var capitalized = inputValue.toUpperCase();\r\n                    if (capitalized !== inputValue) {\r\n                       // var selection = element[0].selectionStart;\r\n                        modelCtrl.$setViewValue(capitalized);\r\n                        modelCtrl.$render();\r\n\r\n                      //  element[0].selectionStart = selection;\r\n                      //  element[0].selectionEnd = selection;\r\n                    }\r\n                    return capitalized;\r\n                }\r\n                modelCtrl.$parsers.push(capitalize);\r\n                capitalize(scope[attrs.ngModel]); // capitalize initial value\r\n            }\r\n        }\r\n    })\r\n\r\n})();\n(function () {\r\n    angular.module('cbcproject').directive('telePhone', function () {\r\n        return {\r\n            require: 'ngModel',\r\n            link: function (scope, element, attrs, control) {\r\n                control.$parsers.push(function (viewValue) {\r\n                    var newEmail = control.$viewValue;\r\n                    control.$setValidity(\"invalidEmail\", true);\r\n                    if ( angular.isObject(newEmail)|| newEmail == \"\") return newEmail;  // pass through if we clicked date from popup  typeof newEmail === \"object\" \r\n                    if (!newEmail.match(/^(([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5}){1,25})+([;,.](([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5}){1,25})+)*$/))\r\n                        control.$setValidity(\"invalidEmail\", false);\r\n                    return viewValue;\r\n                });\r\n            }\r\n        };\r\n    });\r\n})();\n(function () {\r\n\r\n    angular.module('cbcproject').directive('taxReference', function () {\r\n        return {\r\n            restrict: 'A',\r\n            require: 'ngModel',\r\n            link: function (scope, element, attr, ctrl) {\r\n\r\n                scope.$watch(attr['ngModel'], function (newValue) {\r\n                    // the value is empty going out of the function \r\n                    if (newValue === \"\" ||  newValue == undefined) {\r\n                        return;\r\n                    }\r\n\r\n\r\n\r\n                    if (newValue.length > 0) {\r\n                        // check that the given number is ten digits long\r\n                        if (newValue.length != 10) {\r\n                            ctrl.$setValidity('invalidLength', false);\r\n                            return;\r\n                        }\r\n\r\n                        // check that the first digit is either 0, 1, 2 or 3\r\n                        var firstDigitString = newValue.substr(0, 1);\r\n                        var firstDigitNumber = Number(firstDigitString);\r\n\r\n                        if (firstDigitNumber != 9) {\r\n\r\n                            ctrl.$setValidity('invalidLength', false);\r\n                            return;\r\n                        }\r\n\r\n\r\n                        var s = newValue;\r\n                        var i = \".\"\r\n\r\n                        if (s.indexOf(i) > -1) {\r\n                            //trace(\"contains fullstop\");\r\n                            ctrl.$setValidity('invalidTaxReference', false);\r\n                            return;\r\n                        }\r\n\r\n                        if (newValue == \"2222222222\" || newValue == \"0000000000\" || newValue == \"9999999999\") {\r\n\r\n                            ctrl.$setValidity('invalidTaxReference', false);\r\n                            return;\r\n                        }\r\n\r\n                        // finally check that the control digit is valid\r\n                        var firstNineDigits = newValue.substr(0, 9);\r\n                        var tenthDigit = newValue.substr(9, 1);\r\n                        var controlDigit = generateControlDigit(firstNineDigits);\r\n\r\n                        if ((controlDigit + Number(tenthDigit)) % 10 != 0) {\r\n\r\n                            ctrl.$setValidity('invalidTaxReference', false);\r\n                            return;\r\n                        }\r\n\r\n\r\n                    } \r\n\r\n                    function generateControlDigit(firstNineDigits){\r\n\r\n                        var controlDigit = 0;\r\n\r\n                        var totalA = addDigits((Number(firstNineDigits.substring(0, 1)) * 2).toString()) + addDigits((Number(firstNineDigits.substring(2, 3)) * 2).toString()) + addDigits((Number(firstNineDigits.substring(4, 5)) * 2).toString()) + addDigits((Number(firstNineDigits.\r\n                            substring(6,7)) *2). toString()) + addDigits((Number(firstNineDigits.substring(8, 9)) * 2).toString());\r\n                        var totalB = Number(firstNineDigits.substring(1, 2)) + Number(firstNineDigits.substring(3, 4)) + Number(firstNineDigits.substring(5, 6)) + Number(firstNineDigits.substring(7, 8));\r\n\r\n                        controlDigit = totalA + totalB;\r\n\r\n                        return controlDigit;\r\n                            \r\n\r\n                    }\r\n                    function addDigits(number) {\r\n                        var total = 0;\r\n                        \r\n                        for (var i = 0; i < number.length; i++) {\r\n                            total += Number(number.substring(i, (i + 1)));\r\n                        }\r\n                        \r\n                        return total;\r\n                    }\r\n\r\n                })\r\n            }\r\n        };\r\n    })\r\n})();\n(function () {\r\n    angular.module('cbcproject').directive('specialCharacter', function () {\r\n\r\n        return {\r\n            restrict: 'A',\r\n            require: 'ngModel',\r\n            link: function (scope, element, attrs, ngModel) {\r\n                ngModel.$parsers.push(function(viewValue) {\r\n\r\n            \r\n                   // var reg = /^[^`~!@#$%\\^&*()_+={}|[]]*$/;\r\n                    var reg = /^[^|¦ĀāĂăĄąĆćĈĉĊēĔĖėĘęĚĜĜħħĨĩĪīĬĭĮįİİıĲĳĴĵĶķĸĹĺĻļĽľĿŀŁłŃńņŇňŉŊŋōŎŏŐőŔŖŗŘŚśŜŝŞşŠŢţŤťŦŧŨŪūŬŭŮůŰŲųŴŵŶŷŹźŻżŽſƀƁƂƃƄƅƇƈƉƊƋƌƎƏƐƑƒƓƕƖƗƥƦƺƼƽƾƿǀǁǃǄǅǆǇǉǊǋǌǍǎǏǔǕǖǗǘǙǛǜǝǞǟǠǡǢǤǥǦǧǨǩǪǫǬǭǮǰǱǲǳǴɘəɚɜɮɯɰɲ]*$/;\r\n                    //  var reg = /^[|¦ĀāĂăĄąĆćĈĉĊēĔĖėĘęĚĜĜħħĨĩĪīĬĭĮįİİıĲĳĴĵĶķĸĹĺĻļĽľĿŀŁłŃńņŇňŉŊŋōŎŏŐőŔŖŗŘŚśŜŝŞşŠŢţŤťŦŧŨŪūŬŭŮůŰŲųŴŵŶŷŹźŻżŽſƀƁƂƃƄƅƇƈƉƊƋƌƎƏƐƑƒƓƕƖƗƥƦƺƼƽƾƿǀǁǃǄǅǆǇǉǊǋǌǍǎǏǔǕǖǗǘǙǛǜǝǞǟǠǡǢǤǥǦǧǨǩǪǫǬǭǮǰǱǲǳǴɘəɚɜɮɯɰɲ]*$/;\r\n                    // if view values matches regexp, update model value\r\n                    if (viewValue.match(reg)) {\r\n                      return viewValue;\r\n                    }\r\n                    // keep the model value as it is\r\n                    var transformedValue = ngModel.$modelValue;\r\n                    ngModel.$setViewValue(transformedValue);\r\n                    ngModel.$render();\r\n                    return transformedValue;\r\n                  });\r\n            }\r\n        };\r\n\r\n    })\r\n\r\n})();\n(function(){\r\n    \r\n        angular.module('cbcproject').directive('sarsMinlength', function () {\r\n            return {\r\n                require: 'ngModel',\r\n                link: function (scope, element, attrs, ngModelCtrl) {\r\n                  var minlength = Number(attrs.sarsMinlength);\r\n                  function fromUser(text) {\r\n                      if (text.length < minlength) {\r\n                        var transformedInput = text.substring(0, minlength);\r\n                        ngModelCtrl.$setViewValue(transformedInput);\r\n                        ngModelCtrl.$render();\r\n                        return transformedInput;\r\n                      } \r\n                      return text;\r\n                  }\r\n                  ngModelCtrl.$parsers.push(fromUser);\r\n                }\r\n              }; \r\n        });\r\n    \r\n    })();\n(function(){\r\n\r\n    angular.module('cbcproject').directive('sarsMaxlength', function () {\r\n        return {\r\n            require: 'ngModel',\r\n            link: function (scope, element, attrs, ngModelCtrl) {\r\n              var maxlength = Number(attrs.sarsMaxlength);\r\n              function fromUser(text) {\r\n                  if (text.length > maxlength) {\r\n                    var transformedInput = text.substring(0, maxlength);\r\n                    ngModelCtrl.$setViewValue(transformedInput);\r\n                    ngModelCtrl.$render();\r\n                    return transformedInput;\r\n                  } \r\n                  return text;\r\n              }\r\n              ngModelCtrl.$parsers.push(fromUser);\r\n            }\r\n          }; \r\n    });\r\n\r\n})();\r\n\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('cbcproject').directive('runOnLoad', function () {\r\n        return {\r\n            restrict: 'A',\r\n            require: '?ngModel',\r\n            link: function (scope, element, attributes) {\r\n                scope.$watch(attributes.ngModel, function (newVal, oldVal) {\r\n                   \r\n                    if (newVal !== \"\" && newVal !== undefined) {\r\n                        element.triggerHandler(\"blur\");\r\n                    }\r\n                        //console.log(\"value -> \" + newVal);\r\n                     \r\n                });\r\n            }\r\n        };\r\n    });\r\n\r\n})();\r\n\n(function () {\r\n    angular.module('cbcproject').directive('requiredEmpty', function () {\r\n        return {\r\n            restrict: 'AE',\r\n            require: 'ngModel',\r\n            link: function (scope, element, attr, ctrl) {\r\n\r\n                scope.$watch(attr['ngModel'], function (newValue) {\r\n                    if (newValue === \"\") {\r\n                        ctrl.$setValidity('required', true);\r\n                        attr.$set(\"required\", true);\r\n                        element.css('box-shadow', '0 0 1.5px 2px red');\r\n                    } else {\r\n                        if (newValue != '' && newValue != undefined) {\r\n                            ctrl.$setValidity('required', false);\r\n                            attr.$set(\"required\", false);\r\n                            element.css('box-shadow', '0 0 1.5px 2px white');\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        };\r\n    });\r\n})();\n(function(){\r\n    angular.module('cbcproject').directive('oneMandatory', function () {\r\n\r\n\r\n        return{\r\n            require: \"ngModel\",\r\n\r\n            link: function(scope, element, attrs, ngModelCtrl){\r\n\r\n                angular.array.forEach(element,function(el) {\r\n\r\n                    if(el.value != \"\"){\r\n\r\n\r\n                    }\r\n                    \r\n                });\r\n            }\r\n        }\r\n    })\r\n\r\n}());\n(function(){\r\n\r\nangular.module('cbcproject').directive('numbersOnly', function () {\r\n    return {\r\n        restrict: 'A',\r\n        require: '?ngModel',\r\n        link: function (scope, element, attr, ngModelCtrl) {\r\n            ngModelCtrl.$parsers.push(function (inputValue) {\r\n             \r\n                if (inputValue == undefined) return '';\r\n                var transformedInput = inputValue.replace(/[^0-9]/g, '');\r\n                if (transformedInput !== inputValue) {\r\n                    ngModelCtrl.$setViewValue(transformedInput);\r\n                    ngModelCtrl.$render();\r\n                }\r\n                return transformedInput;\r\n            });\r\n        }\r\n    };\r\n});\r\n\r\n})();\n(function () {\r\n    angular.module('cbcproject').directive('validNumber', function () {\r\n        return {\r\n            require: \"ngModel\",\r\n\r\n            link: function (scope, element, attrs, ngModelCtrl) {\r\n\r\n                element.on('keydown', function (event) {\r\n                    var keyCode = []\r\n                    if (attrs.allowNegative == \"true\") {\r\n                        keyCode = [8, 9, 36, 35, 37, 39, 46, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 109, 110, 173, 190, 189];\r\n                    }\r\n                    else {\r\n                        var keyCode = [8, 9, 36, 35, 37, 39, 46, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 110, 173, 190];\r\n                    }\r\n\r\n\r\n                    if (attrs.allowDecimal == \"false\") {\r\n\r\n                        var index = keyCode.indexOf(190);\r\n                        if (index > -1) {\r\n                            keyCode.splice(index, 1);\r\n                        }\r\n\r\n                    }\r\n\r\n                    if ($.inArray(event.which, keyCode) == -1) event.preventDefault();\r\n                    else {\r\n                        // console.log(2);\r\n                        var oVal = ngModelCtrl.$modelValue || '';\r\n                        if ($.inArray(event.which, [109, 173]) > -1 && oVal.indexOf('-') > -1) event.preventDefault();\r\n                        // else if ($.inArray(event.which, [110, 190]) > -1 && oVal.indexOf('.') > -1) event.preventDefault();\r\n                    }\r\n                })\r\n                   /* .on('blur', function () {\r\n\r\n                        if (element.val() == '' || parseFloat(element.val()) == 0.0 || element.val() == '-') {\r\n                            ngModelCtrl.$setViewValue('0.00');\r\n                        }\r\n                        else if (attrs.allowDecimal == \"false\") {\r\n                            ngModelCtrl.$setViewValue(element.val());\r\n                        }\r\n                        else {\r\n                            if (attrs.decimalUpto) {\r\n                                var fixedValue = parseFloat(element.val()).toFixed(attrs.decimalUpto);\r\n                            }\r\n                            else { var fixedValue = parseFloat(element.val()).toFixed(2); }\r\n                            ngModelCtrl.$setViewValue(fixedValue);\r\n                        }\r\n\r\n\r\n\r\n                        ngModelCtrl.$render();\r\n                        scope.$apply();\r\n                    }); */\r\n\r\n                ngModelCtrl.$parsers.push(function (text) {\r\n                    var oVal = ngModelCtrl.$modelValue;\r\n                    var nVal = ngModelCtrl.$viewValue;\r\n                  //  console.log(nVal);\r\n                    if (parseFloat(nVal) != nVal) {\r\n\r\n                        if (nVal === null || nVal === undefined || nVal == '' || nVal == '-') oVal = nVal;\r\n\r\n                        ngModelCtrl.$setViewValue(oVal);\r\n                        ngModelCtrl.$render();\r\n                        return oVal;\r\n                    }\r\n                    else {\r\n                        var decimalCheck = nVal.split('.');\r\n                        if (!angular.isUndefined(decimalCheck[1])) {\r\n                            if (attrs.decimalUpto)\r\n                                decimalCheck[1] = decimalCheck[1].slice(0, attrs.decimalUpto);\r\n                            else\r\n                                decimalCheck[1] = decimalCheck[1].slice(0, 2);\r\n                            nVal = decimalCheck[0] + '.' + decimalCheck[1];\r\n                        }\r\n\r\n                        ngModelCtrl.$setViewValue(nVal);\r\n                        ngModelCtrl.$render();\r\n                        return nVal;\r\n                    }\r\n                });\r\n                /*\r\n                ngModelCtrl.$formatters.push(function (text) {\r\n                    if (text == '0' || text == null && attrs.allowDecimal == \"false\") return '0';\r\n                    else if (text == '0' || text == null && attrs.allowDecimal != \"false\" && attrs.decimalUpto == undefined) return '0.00';\r\n                    else if (text == '0' || text == null && attrs.allowDecimal != \"false\" && attrs.decimalUpto != undefined) return parseFloat(0).toFixed(attrs.decimalUpto);\r\n                    else if (attrs.allowDecimal != \"false\" && attrs.decimalUpto != undefined) return parseFloat(text).toFixed(attrs.decimalUpto);\r\n                    else return parseFloat(text).toFixed(2);\r\n                });\r\n                */\r\n            }\r\n        };\r\n    });\r\n}());\r\n\r\n\r\n\n(function(){\r\n    angular.module('cbcproject').directive('modelDataSetter', function () {\r\n        return {\r\n            require: \"ngModel\",\r\n            \r\n            link:  function(scope, element, attrs, ngModelCtrl){\r\n                var setExpression = attrs.modelDataSetter;\r\n                function updateModelValue(e)\r\n                {\r\n                    scope.$value = ngModelCtrl.$viewValue;\r\n                    scope.$eval(setExpression);\r\n                    delete scope.$value;\r\n                }                 \r\n                scope.$watch(attrs.ngModel, updateModelValue);\r\n            }\r\n        };\r\n\r\n    })\r\n\r\n}());\n(function(){\r\n    angular.module('cbcproject').directive('modelDataGetter', function () {\r\n        return {\r\n            require: \"ngModel\",\r\n          \r\n            link:  function(scope, element, attrs, ngModelCtrl)\r\n            {\r\n                var getExpression = attrs.modelDataGetter;\r\n        \r\n                function updateViewValue(newValue, oldValue)\r\n                {\r\n                    if (newValue != ngModelCtrl.$viewValue)\r\n                    {\r\n                        ngModelCtrl.$setViewValue(newValue);\r\n                        ngModelCtrl.$render();\r\n                    }\r\n                    \r\n                    var updateExpression = attrs.ngModel + \"=\" + getExpression;\r\n                    scope.$eval(updateExpression);\r\n                }\r\n                                    \r\n                updateViewValue();    \r\n                \r\n                scope.$watch(getExpression, updateViewValue);\r\n            }\r\n        };\r\n\r\n    })\r\n\r\n}());\n(function () {\r\n    angular.module('cbcproject').directive('emailvalidator', function () {\r\n        return {\r\n            require: 'ngModel',\r\n            link: function (scope, element, attrs, control) {\r\n                control.$parsers.push(function (viewValue) {\r\n                    var newEmail = control.$viewValue;\r\n                    control.$setValidity(\"invalidEmail\", true);\r\n                    if ( angular.isObject(newEmail)|| newEmail == \"\") return newEmail;  // pass through if we clicked date from popup  typeof newEmail === \"object\" \r\n                    if (!newEmail.match(/^(([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5}){1,25})+([;,.](([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5}){1,25})+)*$/))\r\n                        control.$setValidity(\"invalidEmail\", false);\r\n                    return viewValue;\r\n                });\r\n            }\r\n        };\r\n    });\r\n})();\n(function () {\r\n    angular.module('cbcproject').directive('cbcMoneyFieldValidator', function () {\r\n        return {\r\n//cbc-money-field-validator\r\n            restrict: 'A',\r\n            require: 'ngModel',\r\n            link: function (scope, element, attr, ngModel) {\r\n                scope.$watch(attr['ngModel'], function (newVal, oldVal) {\r\n\r\n                    pattern=/^-?[0-9]*$/g;\r\n\r\n                    if(element.val().match(pattern) != null){\r\n                       \r\n                    }\r\n                    else\r\n                  {\r\n                    element.val() === \"\";\r\n                   ngModel.$setViewValue(undefined);\r\n                   \r\n                        //ngModel.$processModelValue();\r\n                        ngModel.$render();\r\n                         scope.ngModel = undefined;\r\n                    }\r\n                  \r\n                });\r\n            }\r\n        }\r\n    })\r\n})();\r\n\nvar formDataModule = (function () {\r\n    'use strict';\r\n\r\n    var loadFormData = function (data, dataType, readOnly) {\r\n\r\n        if (angular.isUndefined(data) || data === \"\" || data === null || data === \"null\") {\r\n            return;\r\n        }\r\n\r\n        if (angular.isUndefined(dataType) || dataType === \"\" || dataType === null || dataType === \"null\") {\r\n            return;\r\n        }\r\n        angular.element(mainForm).scope().setFormData(data, readOnly, true);\r\n\r\n\r\n        // if (readOnly === \"true\") {\r\n        //     $(\"#fieldSet\").prop(\"disabled\", true);\r\n\r\n        // }\r\n    };\r\n\r\n    var loadForm = function (data, dataType, readOnly) {\r\n        loadFormData(data, dataType, readOnly);\r\n    };\r\n\r\n    var isFormValid = function () {\r\n        // var json = angular.element('mainForm').scope().getAngularData();\r\n        var isValid =  mandatoryIsValid(); \r\n        return isValid;\r\n    };\r\n\r\n    var getFormData = function () {\r\n        var dataObject = angular.element(mainForm).scope().getAngularData();\r\n\r\n        var dataString = \"\";\r\n        if (dataObject) {\r\n       \r\n            //dataString = JSON.stringify(dataObject);\r\n            dataString = angular.toJson(dataObject);\r\n\r\n        } else {\r\n            dataString = \"No data found\";\r\n        }\r\n        return dataString;\r\n    }\r\n\r\n\r\n    var mandatoryIsValid = function(){\r\n\r\n        var valid = angular.element(mainForm).scope().isFormValid();\r\n\r\n        return valid;\r\n\r\n     };\r\n\r\n     var isEverythingValid= function  () {\r\n        //var isValid = sumThreeTotalFieldsOnAllIRP5() && runValidationFringeBenefitForEPVOperatingLease() && runLocalFarmingOperationsValidation() && runLocalFarmingOperationsAllowableExpenseValidation() && runLocalFarmingOperationsCapitalImprovementsValidation() && runLocalFarmingOperationsTotalExpensesValidation() && runFarmingPartnershipValidation() && sumRetirementAnnuityContributions();\r\n       var isValid  =  mandatoryIsValid();\r\n        return isValid;\r\n    }\r\n\r\n    return {\r\n        loadForm: loadForm,\r\n        isFormValid: isFormValid,\r\n        getFormData: getFormData,\r\n        loadFormData: loadFormData,\r\n        mandatoryIsValid: mandatoryIsValid,\r\n        isEverythingValid:isEverythingValid\r\n    }\r\n})();\r\n\r\n\nvar  formTestApi = (function(){\r\n    'use strict';\r\n    function getLocalFormData() {\r\n        var data = formDataModule.getFormData();\r\n        angular.element(results).val(data);\r\n    }\r\n    \r\n    function setAngularFormData() {\r\n        var data = angular.element(request).val();\r\n        formDataModule.loadFormData(data, \"xml\", false);\r\n    }\r\n    \r\n    function setFormData(data, datatype, readyOnly) {\r\n        sessionStorage.clear();\r\n        if (datatype === \"json\") {\r\n           formDataModule.loadFormData(data, 'json', false);  \r\n        } \r\n        \r\n        else {\r\n            if (datatype === \"xml\") {\r\n                formDataModule.loadFormData(data, 'xml', false);\r\n            }\r\n        }\r\n    }\r\n\r\n    return{\r\n        setFormDataTest:setFormData,\r\n        setAngularFormData:setAngularFormData,\r\n        getLocalFormData:getLocalFormData\r\n    }\r\n    \r\n})();\r\n\n(function() {\n // 'use strict';\n\n  angular\n    .module('cbcproject')\n    .run(runBlock);\n\n  function runBlock($log) {\n\n    $log.debug('runBlock end');\n  }\n\n})();\n\n/* global malarkey:false, moment:false */\n(function() {\n//  'use strict';\n\n  angular\n    .module('cbcproject')\n    .constant('malarkey', malarkey)\n    .constant('moment', moment);\n\n})();\n\n\n\n(function() {\n  //'use strict';\n\n  angular\n    .module('cbcproject')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig, uiSelectConfig) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = true;\n    \n    uiSelectConfig.theme = 'selectize';\n    uiSelectConfig.theme = 'bootstrap';\n    uiSelectConfig.resetSearchInput = true;\n    uiSelectConfig.appendToBody = true;\n  }\n\n})();\n\nangular.module(\"cbcproject\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/components/addressView/address.html\",\"<div><label class=SubContainerHeader><strong>Address</strong></label><div class=row><div class=col-sm-12><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Address type</label><div class=col-sm-4><input type=number class=form-control></div></div></div></div><div class=row><div class=col-sm-12><div class=formGroup><div class=col-sm-10><input type=number class=form-control></div><div class=col-sm-10><input type=number class=form-control></div><div class=col-sm-10><input type=number class=form-control></div><div class=col-sm-10><input type=number class=form-control></div><div class=col-sm-10><input type=number class=form-control></div></div></div></div><div class=row><div class=col-sm-8><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Country Code</label><div class=col-sm-2><input type=number class=form-control></div></div></div></div></div>\");\n$templateCache.put(\"app/components/contactPersonDetailsView/contactPerson.html\",\"<div><label class=SubContainerHeader><strong>Contact Person Details</strong></label><div class=row><div class=col-sm-12><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">First Names</label><div class=col-sm-11><input type=number class=form-control></div></div></div></div><div class=row><div class=col-sm-12><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Surname</label><div class=col-sm-11><input type=number class=form-control></div></div></div></div><div class=row><div class=col-sm-12><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Bus Tel No. 1</label><div class=col-sm-3><input type=number class=form-control></div></div><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Bus Tel No. 2</label><div class=col-sm-3><input type=number class=form-control></div></div><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Cell No.</label><div class=col-sm-3><input type=number class=form-control></div></div></div></div></div><div class=row><div class=col-sm-12><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Email Address</label><div class=col-sm-11><input type=number class=form-control></div></div></div></div>\");\n$templateCache.put(\"app/components/reportEntltyViews/reportView.html\",\"<div><div class=header><div class=row><img class=\\\"pull-left col-sm-2\\\" ng-src=assets/images/SarsLogo.png><div class=col-sm-6><label class=PageHeaderLabel>Country by Country Reporting (CbC)</label></div><div class=col-sm-4><div class=form-group><label class=\\\"label3 control-label col-sm-3\\\">Reporting Period (CCYYMMDD)</label><div class=col-sm-6><input id=reportingperiod placeholder=CCYYMMDD ng-disabled=false type=text class=form-control ng-model=formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod></div></div></div></div></div><div class=row><label class=ContainerHeader><strong>Reporting Entlty</strong></label><div class=col-sm-12><div class=formGroup><label class=\\\"control-label col-sm-1 label3\\\">Registered Name</label><div class=col-sm-11><input id=registeredname ng-disabled=true type=text class=form-control ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity[0].Name></div></div></div></div><br><div class=row><div class=col-sm-12><div class=formGroup><label class=\\\"control-label col-sm-1 label3\\\">Trading Name</label><div class=col-sm-11><input id=tradingname ng-disabled=true type=text class=form-control ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity[1].Name></div></div></div></div><br><div class=row><div class=col-sm-12><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Company Reg No.</label><div class=col-sm-3><input id=companyregno ng-disabled=true type=text class=form-control ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity[0].IN></div></div><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Issued by Country</label><div class=col-sm-1><input class=form-control ng-disabled=true type=text ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN></div></div><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Tax Ref No</label><div class=col-sm-3><input class=form-control ng-disabled=true type=text ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.TIN numbers-only></div></div><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Issued by Country</label><div class=col-sm-1><input class=form-control ng-disabled=true ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.TIN></div></div></div></div><br><div class=row><div class=col-sm-12><div><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">GIIN No</label><div class=col-sm-5><input type=text class=form-control ng-disabled=true ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN></div></div></div><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Issued by Country</label><div class=col-sm-1><input class=form-control ng-disabled=true ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN></div></div></div></div><br><div class=row><div class=col-sm-12><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Reporting Role</label><div class=col-sm-2><!--<input class=\\\"form-control\\\" type=\\\"text\\\"  ng-required=\\\"formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.ReportingRole ==\\'\\' || formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.ReportingRole == angular.isUndefined\\\" ng-model=\\\"formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.ReportingRole\\\"\\r\\n          />--><ui-select ng-required=true ng-disabled=disabled ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.ReportingRole><ui-select-match placeholder=Select>{{$select.selected.code}}</ui-select-match><ui-select-choices repeat=\\\"report in reportingRole | propsFilter: {name: $select.search}\\\" position=auto><div ng-bind-html=\\\"country.name | highlight: $select.search\\\"></div><small>{{report.name}}</small></ui-select-choices></ui-select></div></div><div class=formGroup><label class=\\\"control-label label3 col-sm-2\\\">Resident Country code (e.g. South Africa = ZA)</label><div class=col-sm-1><ui-select ng-required=true ng-disabled=disabled ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.ResCountryCode><ui-select-match placeholder=Select>{{$select.selected.code}}</ui-select-match><ui-select-choices repeat=\\\"country in countrycodes | propsFilter: {name: $select.search}\\\" position=auto><div ng-bind-html=\\\"country.name | highlight: $select.search\\\"></div><small>{{country.name}}</small></ui-select-choices></ui-select></div></div><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Unique No.</label><div class=col-sm-2><input type=text class=form-control ng-disabled=true type=text ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec></div></div><div class=formGroup><label class=\\\"control-label label3\\\">Record Status:</label><label class=\\\"control-label label3\\\">Correction<input type=checkbox ng-disabled=true type=text ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocTypeIndic></label><label class=\\\"control-label label3\\\">Deletion<input type=checkbox ng-disabled=true type=text ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocTypeIndic></label></div></div></div></div>\");\n$templateCache.put(\"app/components/cbcReportsView/additionalInfornView.html\",\"<div><label class=ContainerHeader><strong>Additional Information</strong></label><div class=row><div class=col-sm-12><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Unique No.</label><div class=col-sm-2><input type=number class=form-control></div></div><div class=formGroup><label class=\\\"control-label label3 col-sm-2\\\">Record Status:</label><label class=\\\"control-label label3\\\">Correction<input type=checkbox></label><label class=\\\"control-label label3\\\">Deletion<input type=checkbox></label></div></div></div><label class=SubContainerHeader><strong>Other Information</strong></label><div class=row><div class=col-sm-12><label class=\\\"control-label label3 col-sm-8\\\">Please include any further brief information or explanation you consider necessary or that would facilitate the understanding of the compulsory information provided in the Country-by-Country Report.</label><div class=formGroup><div class=col-sm-8><textarea type=number class=form-control></textarea></div></div><div><div class=formGroup><!--  <label class=\\\"SubContainerHeader col-sm-1\\\"><strong>Other Information</strong> </label>--><label class=\\\"control-label label3 col-sm-1\\\">Address type</label><div class=col-sm-1><input type=number class=form-control></div></div><div class=formGroup><!--  <label class=\\\"SubContainerHeader col-sm-1\\\"><strong>Other Information</strong> </label>--><label class=\\\"control-label label3 col-sm-1\\\">Summary Ref.Code</label><div class=col-sm-1><input type=number class=form-control></div></div></div></div></div></div>\");\n$templateCache.put(\"app/components/cbcReportsView/cbcReportCon.html\",\"<!--cbc main--><div ng-repeat=\\\"jurisdiction in jurisdictionsArr track by $index\\\"><label class=ContainerHeader><strong>CbC Reports:</strong></label><div class=row><div class=col-sm-12><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Currency Code</label><div class=col-sm-2><input type=text class=form-control></div></div><div class=formGroup><label class=\\\"control-label label3 col-sm-2\\\">Resident Country code (e.g. South Africa = ZA)</label><div class=col-sm-1><input type=text class=form-control ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.ResCountryCode></div></div><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Unique No.</label><div class=col-sm-2><input type=text class=form-control ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.DocSpec></div></div><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Record Status:</label><label class=control-label>Correction<input type=checkbox ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.DocSpec.DocTypeIndic></label><label class=control-label>Deletion<input type=checkbox ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.DocSpec.DocTypeIndic></label></div></div></div><label class=SubContainerHeader><strong>Summary</strong></label><div class=row><div class=col-sm-12><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Profit/Loss before Income Tax</label><div class=col-sm-3><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary[0].TaxPaid></div></div><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Currency Code</label><div class=col-sm-1><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary[1].TaxPaid></div></div><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Stated Capital</label><div class=col-sm-3><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary[0].Capital></div></div><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Currency Code</label><div class=col-sm-1><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary[1].Capital></div></div></div></div><div class=row><div class=col-sm-12><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Income Tax Paid</label><div class=col-sm-3><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary[0].TaxPaid></div></div><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Currency Code</label><div class=col-sm-1><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary[1].TaxPaid></div></div><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Accumulated Earnings</label><div class=col-sm-3><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary[0].Earnings></div></div><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Currency Code</label><div class=col-sm-1><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary[1].Earnings></div></div></div></div><div class=row><div class=col-sm-12><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Income Tax Accrued</label><div class=col-sm-3><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary[0].TaxAccrued></div></div><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Currency Code</label><div class=col-sm-1><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary[0].TaxAccrued></div></div><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Assets</label><div class=col-sm-3><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary[0].Assets></div></div><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Currency Code</label><div class=col-sm-1><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary[1].Assets></div></div></div></div><div class=row><div class=col-sm-12><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">No. of Employees</label><div class=col-sm-3><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary.NbEmployees></div></div></div></div><div><label class=SubContainerHeader><strong>Revenues</strong></label><div class=row><div class=col-sm-12><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Unrelated</label><div class=col-sm-3><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary.Revenues[0].Unrelated></div></div><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Currency Code</label><div class=col-sm-1><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary.Revenues[1].Unrelated></div></div></div></div></div><div class=row><div class=col-sm-12><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Related</label><div class=col-sm-3><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary.Revenues[0].Related></div></div><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Currency Code</label><div class=col-sm-1><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary.Revenues[1].Related></div></div></div></div><div class=row><div class=col-sm-12><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Total</label><div class=col-sm-3><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary.Revenues[0].Total></div></div><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Currency Code</label><div class=col-sm-1><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary.Revenues[1].Total></div></div></div></div><div><label class=SubContainerHeader><strong>Selection for Constituent Entities</strong></label><div class=row><div class=col-sm-12><div><div class=formGroup><label class=\\\"control-label label3 col-sm-2\\\">Number of Tax Jurisdictions to report</label><div class=col-sm-1><input type=text class=form-control ng-model=formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction.NoOfConstituentEntities></div></div></div></div></div></div><div><label class=SubContainerHeader><strong>Constituent Entity:</strong></label><div class=row><div class=col-sm-12><div><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Registered Name</label><div class=col-sm-11><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.ConstEntities.ConstEntity.Name></div></div></div></div></div><div class=row><div class=col-sm-12><div><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Trading Name</label><div class=col-sm-11><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.ConstEntities.ConstEntity.Name></div></div></div></div></div><div class=row><div class=col-sm-12><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Company Reg No.</label><div class=col-sm-3><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.ConstEntities.ConstEntity[0].IN></div></div><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Issued by Country</label><div class=col-sm-1><input class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.ConstEntities.ConstEntity[1].IN></div></div><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Tax Ref No</label><div class=col-sm-3><input class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.ConstEntities.ConstEntity[0].TIN></div></div><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Issued by Country</label><div class=col-sm-1><input class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.ConstEntities.ConstEntity[0].TIN></div></div></div></div><div><label class=SubContainerHeader><strong>Address</strong></label><div class=row><div class=col-sm-12><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Address type</label><div class=col-sm-4><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.ReportingEntity.Entity[0].Address></div></div></div></div><div class=row><div class=col-sm-12><div class=formGroup><div class=col-sm-10><textarea class=form-control name=\\\"\\\" cols=30 rows=10 ng-model=formData.CBC_OECD.CbcBody.ReportingEntity.Entity.Address[1].AddressFree></textarea></div></div></div></div><div class=row><div class=col-sm-8><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Country Code</label><div class=col-sm-2><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.ConstEntities.ConstEntity.Address.CountryCode></div></div></div></div></div><div><label class=SubContainerHeader><strong>Business Activities</strong></label><div class=row><div class=col-sm-12><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Address type</label><div class=col-sm-4><input type=text class=form-control ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.ConstEntities.BizActivities></div></div></div></div><div class=row><div class=col-sm-12><label class=\\\"control-label label3 col-sm-3\\\">Main Business Activities</label><div class=formGroup><div class=col-sm-12><textarea type=text class=form-control ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.ConstEntities.OtherEntityInfo></textarea></div></div></div></div><div class=row><div class=col-sm-8><div class=formGroup><label class=\\\"control-label label3 col-sm-1\\\">Country Code</label><div class=col-sm-2><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.ConstEntities.ConstEntity.Address.CountryCode></div></div></div></div></div></div></div>\");\n$templateCache.put(\"app/components/cbcReportsView/cbcReportHeader.html\",\"<div><label class=SubContainerHeader><strong>Selection for Tax Jurisdictions</strong></label><div class=row><div class=col-sm-12><div><div class=formGroup><label class=\\\"control-label label3 col-sm-2\\\">Number of Tax Jurisdictions to report</label><div class=col-sm-2><input type=number class=form-control></div></div></div></div></div></div>\");}]);"],"sourceRoot":"/source/"}