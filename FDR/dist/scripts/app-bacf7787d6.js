!function(){angular.module("cbcproject",["ui.bootstrap","toastr","ui.select","19degrees.ngSweetAlert2","ngSanitize","cgBusy"]),angular.module("cbcproject").filter("propsFilter",function(){return function(e,t){var n=[];if(angular.isArray(e)){var o=Object.keys(t);e.forEach(function(e){for(var r=!1,a=0;a<o.length;a++){var i=o[a],s=t[i].toLowerCase();if(-1!==e[i].toString().toLowerCase().indexOf(s)){r=!0;break}}r&&n.push(e)})}else n=e;return n}})}(),function(){angular.module("cbcproject").factory("pagerservice",function(){function e(e){return currentIndex=1,c=1,s=10,filteredItems=e,pageNumber=parseInt(""+filteredItems.length/l),filteredItems.length%l!=0&&pageNumber++,pageNumber<s&&(s=pageNumber),n(),{items:items,pagesIndex:pagesIndex,pageNumber:pageNumber,currentIndex:currentIndex}}function t(){for(var e=new Array,t=c;c+s>t;t++)e.push(t);return e}function n(){items=o().slice((currentIndex-1)*l,currentIndex*l),pagesIndex=t()}function o(){return filteredItems}function r(){return currentIndex>1&&currentIndex--,currentIndex<c&&(c=currentIndex),n(),{items:items,currentIndex:currentIndex,pagesIndex:pagesIndex,pageNumber:pageNumber}}function a(){return currentIndex<pageNumber&&currentIndex++,currentIndex>=c+s&&(c=currentIndex-s+1),n(),{items:items,currentIndex:currentIndex,pagesIndex:pagesIndex,pageNumber:pageNumber}}function i(e){return currentIndex=e,n(),{items:items,currentIndex:currentIndex,pagesIndex:pagesIndex,pageNumber:pageNumber}}var s=100,l=10,c=1;return{init:e,prevPage:r,nextPage:a,setPage:i}})}(),function(){function e(){function e(e){swal("Error",e)}function t(e){swal("Warning",e)}function n(e){swal("Information",e)}function o(e,t){angular.isNumber(t)&&0>t&&swal(e+" with value "+t+" may not be less than 0")}function r(e,t){return swal({title:"Warning",text:"By selecting the Deletion option your record will be deleted, do you want to continue? Yes or No?",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",allowOutsideClick:!1})}function a(){var e="Please update your email address and telephone numbers and confirm that it is correct before submitting your return.";n(e)}function i(t){var n="The "+t+" you have entered does not seem to be valid. Please ensure that it is correct. <br><br><b>HINTS:</b><br>- Ensure that it has an @ sign and a .domain at the end.";e(n)}function s(t){var n="The "+t+" you have entered does not seem to be valid. Please ensure that it is correct.<br><br><b>HINTS:</b><br>- Only alphanumeric digits may be used.";e(n)}function l(t){var n="The Source Code you have entered does not seem to be valid. Please ensure that it is correct.<br><br>HINTS:<br>";n+="Only numeric digits may be used.<br>",n+="Ensure that the source code falls between the following ranges:<br>",Number(t)>=2017&&(n+="3601 – 3621, 3651 – 3670, 3701 - 3721, 3751 – 3771, 3801 – 3810, 3813, 3815, 3816, 3817, 3820,3821,3822, 3825, 3828, 3851 – 3860, 3863, 3865, 3866, 3867, 3870, 3871, 3872, 3875, 3878, 3901 – 3909, 3915, 3920 – 3923, 3951 – 3957"),Number(t)>=2014&&(n+="3601 – 3617, 3651 – 3667, 3701 - 3718, 3751 – 3768, 3801 – 3810, 3813, 3815, 3816, 3820, 3821, 3822, 3851 – 3860, 3863, 3865, 3866, 3870, 3871, 3872, 3901 – 3909, 3915, 3920 – 3922, 3951 – 3957"),Number(t)<2014&&(n+="3601 – 3617, 3651 – 3667, 3701 - 3718, 3751 – 3768, 3801 – 3810, 3813, 3815, 3851 – 3860, 3863, 3865, 3901 – 3909, 3915, 3920 – 3922, 3951 – 3957"),e(n)}function c(t){var n="The Source Code you have entered does not seem to be valid. Please ensure that it is correct.<br><br>HINTS:<br>";n+="Only numeric digits may be used.<br>",n+="Ensure that the source code falls between the following ranges:<br>",Number(t)>=2017&&(n+="4001, 4003 – 4006, 4024 – 4026, 4030, 4472 – 4476, 4485 – 4487, 4493, 4582, 4583"),Number(t)>=2015&&(n+="4001 – 4007, 4018, 4024 – 4026, 4030, 4472 – 4476, 4485 – 4487, 4493"),Number(t)<2014&&(n+="4001 – 4007, 4018, 4024 – 4026, 4030, 4472 – 4476, 4485 – 4487, 4493"),e(n)}function u(){var t="The Reason code you have entered does not seem to be valid. Please ensure that is is correct.<br><br>HINTS:<br>Only numeric digits may be used.<br>Ensure the reason code falls between 01 and 09";e(t)}function d(t,n){var o="The "+n+" you have entered does not seem to be valid. Please ensure that it is correct.";o+="<br><br>",o+="<br>HINTS:",o+="Only numeric digits may be used.<br>",o+="The date may not be in the future.<br>",o+="This date cannot be earlier that the 1st of March "+(t-1),o+=".<br>The date cannot be later than the last day of February "+t,e(o)}function C(t,n,o){var r="The "+n+" you have entered does not seem to be valid. Please ensure that it is correct.";r+="<br><br>",r+="<br>HINTS:<br>",r+="The date must fall within the current year of assessment<br>",r+="or in one of the previous "+o+" years of assessments<br>",r+="The date must not be earlier that the 1st of March "+(t-1-o),r+=".<br>The date may not be in the future",e(r)}function m(){var t="The period Employed to you have entered does not seem to be valid. Please ensure that it is correct,";t+="<br><br>",t+="<br>HINTS:<br>",t+="Only numeric digits may be used.<br>",t+="The value cannot be greater than the Periods in Year of Assessment value.<br>",t+="The number specified should include decimals.<br>",t+="The value should be greater than 0.",e(t)}function y(t){e("The "+t+" you have entered does not seem to be valid.  Please ensure that it is correct.<br><br>HINTS:<br>The “Unemployed to” date may not be prior to the “Unemployed from” Date")}function D(){e("The Date you have entered does not seem to be valid.  Please ensure that it is correct.<br><br>HINTS:<br>The date must fall within the Year of Assessment of this return")}function f(){e("Please select the type of income accrued / received by answering the applicable question in the wizard.")}function p(t){e("The "+t+" you have entered does not seem to be valid.  Please ensure that it is correct.<br><br>HINTS:<br>- The period of unemployment must fall within the current tax period")}function A(){t("Please ensure that you have not included the annual inclusion rate as the applicable inclusion rate will be applied by SARS.")}function b(){swal("Info","As the primary residence is held jointly it will be considered to be held in equal shares.")}function E(){swal("Warning","As the proceeds on the disposal of the primary residence does not exceed R2 million and it resulted in a capital gain, the transaction is disregarded.")}function v(){e("The claim can only be calculated based on a logbook")}function B(){swal("INFORMATION MESSAGE","Please note that you must complete all Fringe Benefit fields with a value and the total should match the amount from your employer.")}function g(){e("The number you have entered does not seem to be valid. Please ensure that it is correct. <br/><br/><b>HINTS:</b><br/><br/>- Only numeric digits may be used <br/>-The number must be greater than zero.")}function R(t){e("The "+t+" you have entered does not seem to be valid. Please ensure that it is correct.<br>HINTS:<br>Only numeric digits may be used.")}function I(t){e("The "+t+" you have entered does not seem to be valid. Please ensure that it is correct.<br>HINTS:<br>Only numeric digits may be used.")}function S(t){e("The "+t+" you have entered does not seem to be valid. Please ensure that it is correct.<br>HINTS:<br>Only numeric digits may be used.<br><br>Ensure that the source code falls in the following ranges:<br>3601 – 3606<br>3616, 3617 and 3667")}function N(t){e("The "+t+" you have entered does not seem to be valid. Please ensure that it is correct.<br>HINTS:<br>Only numeric digits may be used.<br><br>Ensure that the source code falls in the following ranges:<br>3610 or 3611")}function O(t){e("The "+t+" you have entered does not seem to be valid. Please ensure that it is correct.<br>HINTS:<br>Only numeric digits may be used.<br><br>Ensure that the source code falls in the following ranges:<br>4250 or 4250")}function T(t){e("The "+t+" you have entered does not seem to be valid. Please ensure that it is correct.<br>HINTS:<br>Only numeric digits may be used.<br><br>Ensure that a profit source code is entered and falls within the respective ranges (refer to guide).")}function h(t){e("The "+t+" you have entered does not seem to be valid. Please ensure that it is correct.<br>HINTS:<br>Only numeric digits may be used.<br><br>Ensure that a profit source code is entered and falls within the respective ranges (refer to guide).")}function M(t){e("The "+t+" you have entered does not seem to be valid. Please ensure that it is correct.<br>HINTS:<br>Only numeric digits may be used.<br><br>Ensure that the source code falls in the following ranges:<br>4212 or 4214")}function U(t){e("The "+t+" you have entered does not seem to be valid. Please ensure that it is correct.<br>HINTS:<br>Only numeric digits may be used.<br><br>Ensure that the source code falls in the following ranges:<br>4252 or 4253")}function x(){e("Please ensure that the amount entered is the total amount in respect of all policies that you yourself will derive a taxable benefit from, including the amount represented on your employees’ tax certificate.")}function L(){e("The Number of Dependants you have entered does not seem to be valid. Please ensure that it is correct.<br/><br/>HINTS: <br/>- Only numeric digits may be used At least one value must be greater than 0")}function P(){e("The option “Yourself ” may only be selected once")}function G(t){var n="The "+t+" you have entered does not seem to be valid. Please ensure that it is correct,";n+="<br><br>",n+="<br>HINTS:<br>",n+="Only numeric digits may be used.<br>",n+="Ensure that the percentage is not greater than 100%.<br>",n+="Amount specified should include decimals.",e(n)}function w(e){swal("WARNING","The "+e+" you have entered does not seem to be valid. Please ensure that it is correct.<br/><br/><b>HINTS:</b><br/>- The field length must be 9 or 10 or 13")}function _(e){swal("WARNING","The "+e+" you have entered does not seem to be valid. Please ensure that it is correct.")}function F(t,n){var o="The "+t+" you have entered does not seem to be valid. Please ensure that it is correct,";o+="<br><br>",o+="<br>HINTS:<br>",o+="Only numeric digits may be used.<br>",o+="All "+n+"digits must be completed.",e(o)}function Y(){var t="The source code you have entered does not seem to be valid. Please ensure that it is correct.";t+="<br>",t+="<br>HINTS:<br>",t+="Only numeric digits may be used.<br>",t+="Ensure that the source code falls within the respective ranges (refer to Source Code Booklet available on the SARS website)",e(t)}function H(){var t="The profit/loss percentage you have entered does not seem to be valid. Please ensure that it is correct.";t+="<br>",t+="<br>HINTS:<br>",t+="Only numeric digits may be used.<br>",t+="Ensure that the percentage is not less than 0.01 and not greater or equals to 100%.<br>",t+="Amount specified should include decimal values.",e(t)}function V(){var t="Amount completed doesn’t seem to be valid. Please correct.";t+="<br>",t+="<br>HINTS:<br>",t+="This amount cannot be more than the contributions made by the partnership.",e(t)}function j(t){var n=" The "+t+" you have entered does not seem to be valid Please ensure that it is correct<br> Hints:<br> The date cannot be if future and may not be greater than year of assessment";e(n)}function J(t){var n=" The "+t+" you have entered does not seem to be valid Please ensure that it is correct<br> Hints:<br> Only numeric digits may be used. <br>Only numeric digits may be used";e(n)}function $(t){var n=" The "+t+" (Less: Amount deducted) > cannot be larger than the <fieldname (SUB-TOTAL (ii))> above.";e(n)}function K(t,n){var o=" The value of "+t+" must be the same as the value of "+n;e(o)}function Z(t){var n="The "+t+" be larger than the sum of the Balance b/f Previous Year – Subsequent Year and the Deductions i.r.o. Purchases Current Year – Subsequent Year";e(n)}function k(t,n){var o=" The value of "+t+" cannot be larger than "+n;e(o)}function W(){var t="This field cannot be greater than the “Balance b/f from Previous Year: field.";e(t)}function X(t,n){var o="The "+t+" cannot be greater than the "+n;e(o)}function z(){e("The Cell No. you have entered does not seem to be valid. Please ensure that it is correct.<br/>HINTS:<br/><br/>- Only numeric digits may be used.<br/>At least 10 digits must be completed.")}function q(){e(message)}function Q(){var t="The Declaration Date you have entered does not seem to be valid. Please ensure that it is correct.<br/><br/>HINTS:<br/><br/>- Only numeric digits may be used.<br/>- The date may not be in the future.";e(t)}function ee(){var t="The ID No. you have entered does not seem to be valid. Please ensure that it is correct.<br><br><b>HINTS:</b><br>- Only numeric digits may be used.";e(t)}function te(t){var n="The "+t+" you have entered does not seem to be valid. Please ensure that it is correct.<br> <b>HINTS:</b><br>Only alphanumeric digits may be used.<br> At least 4 digits must be completed.";e(n)}function ne(){var t="The Tax Ref No. you have entered does not seem to be valid. Please ensure that it is correct.<br/>HINTS:<br/>Only numeric digits may be used.";e(t)}function oe(){var t="The Reporting Period (CCYYMMDD) you have entered does not seem to be valid. Please ensure that it is correct.<br/>HINTS:<br/>  Format:CCYYMMDD. <br/> Only numeric digits may be used.";e(t)}function re(){return r()}function ae(t){var n="The "+t+" you have entered does not seem to be valid. Please ensure that it is correct.<br/>HINTS:<br/> Only numeric digits may be used. 3 or 4 digits must be completed for the area code.<br/>6 or 7 digits must be completed for the telephone number.";e(n)}function ie(){var t="The GIIN No. you have entered does not seem to be valid. Please ensure that is is correct.<br><br>HINTS:<br>Only alphanumeric digits may be used.<br>Ensure the format is XXXXXX.XXXXX.XX.XXX";e(t)}function ie(){var t="The GIIN No. you have entered does not seem to be valid. Please ensure that is is correct.<br><br>HINTS:<br>Only alphanumeric digits may be used.<br>Ensure the format is XXXXXX.XXXXX.XX.XXX";e(t)}return{negativeNumberMsg:o,alphaNumericMsg:s,maskPITRIncomeSourceCodeMsg:l,maskPITRDeductionSourceCodeMsg:c,crossReasonCodeCheckMsg:u,crossEmploymentDatesMsg:d,DisabilitySeverity_Date_CheckMsg:C,crossPayPeriodsAssessmentYearMsg:m,dateRangeMsg:y,residenceCeaseMsg:D,crossUnemployedContainerChange:f,unemploymentUnbrokenPeriodsMsg:p,autoCalcAnnualExclusionsMessage:A,crossLockNonPrimaryResFieldsMessage:b,crossCheckProceedsAmountR2mLessMessage:E,crossTravelLogBookMessage:v,exitFieldMessage:B,repeatRetirementMessage:g,mask_Modulus10CheckPAYENo:R,mask_Modulus10CheckTrustNo:I,localRemunerationSourceCode:S,localAnnuitiesSourceCode:N,localCapitalSourceCode:O,localBusinessTradingSourceCode:T,localFarmingOperationsSourceCode:h,localOtherIncomeSourceCode:M,foreignCapitalGainLossSourceCode:U,CrossIncomeProtectionMsg:x,Cross_MedicalSchemePerMonthMsg:L,Allow_MainMember_SelectMsg:P,percentageGreaterThan100Percent:G,donationRef_Validation2015:w,donationRef_Validation2016:_,notAllDigitsProvidedMessage:F,invalidSourceCodeEnteredMessage:Y,invalidProfitLossPercentageMessage:H,displayFringeBenefitMoreThanContributionMessage:V,disabilityDate_ValidationMessage:j,check_UniqueIdentifierMessage:J,check_LessAmountDeductedMessage:$,crossAllowance_DeductionMessage:K,cross_CheckMessage:Z,cross_RuleMessage:k,check_LessReoupmentsMessage:W,check_AllowableDeductionsMessage:X,cellNumberMessage:z,passportNumberMessage:q,declarationDateMessage:Q,idNumberMessage:ee,postalCodeMessage:te,emailAddressTelephoneMsg:a,emailAddressMsg:i,taxRefNumberMessage:ne,ReportingPeriodMessage:oe,deletingRecordMessage:re,numericCheckTelNumberMessage:ae,giinNumberCheckMsg:ie}}angular.module("cbcproject").factory("messageservices",e)}(),function(){function e(e){function n(t){var n=e(function(e,n){var o=/^(?:(?:19\d{2}|18[89]\d|20[0-4]\d)([-\/\\.\s]?)(?:(?:0[13578]|1[02])(?:\1)31|(?:0[13456789]|1[012])(?:\1)(?:30|29)|(?:0[1-9]|1[012])(?:\1)(?:0[1-9]|1\d|2[0-8])))|(?:18(?:8[048]|9[26])|19(?:0[48]|[2468][048]|[13579][26])|20(?:0[048]|[24][048]|[13][26]))([-\/\\.\s]?)02(?:\2)29$/,r=t.match(o);r?e(t):n(t)});return n}function r(t){var n=e(function(e,n){var o=RegExp("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,3}$"),r=o.test(t.value);r?e(t):n(t.name)});return n}function a(t){var n=e(function(e,n){var o=RegExp("^[ a-zA-Z0-9-]*$"),r=o.test(t.value);r?e(t):n(t.name)});return n}function i(t){var n=e(function(e,n){var o=RegExp("^[a-zA-Z]*$"),r=o.test(t);r?e(t):n(t)});return n}function s(t){var n=e(function(e,n){var o=RegExp("^[ a-zA-Z0-9]{4,10}$"),r=o.test(t.value);r?e(t):n(t.name)});return n}function l(t){var n=e(function(e,n){var o=RegExp("^[0-9]*$"),r=o.test(t);r?e(t):n(t)});return n}function c(t){var n=e(function(e,n){var o=t,r=!0;if(""!==t){13!==o.length&&(r=!1);var a=new Date(o.substring(0,2),o.substring(2,4)-1,o.substring(4,6)),i=a.getDate(),s=a.getMonth();s=Number(s)+1,(a.getYear()!==Number(o.substring(0,2))||s!==Number(o.substring(2,4))||i!==Number(o.substring(4,6)))&&(r=!1);for(var l=0,c=0,u=1,d=0;13>d;++d)l=parseInt(o.charAt(d))*u,l>9&&(l=parseInt(l.toString().charAt(0))+parseInt(l.toString().charAt(1))),c+=l,u=u%2===0?1:2;c%10!==0&&(r=!1)}r?e(t):n(t)});return n}function u(t){var n=e(function(e,n){var o=RegExp("^[a-zA-Z0-9]{8,18}$"),r=o.test(t);r?e(t):n(t)});return n}function d(n){var o=e(function(e,o){if(n.length>0){if(10!=n.length)return void o();var r=n.substr(0,1),a=Number(r);if(9!=a)return void o();var i=n,s=".";if(i.indexOf(s)>-1)return void o();if("2222222222"==n||"0000000000"==n||"9999999999"==n)return void o();var l=n.substr(0,9),c=n.substr(9,1),u=t(l);if((u+Number(c))%10!=0)return void o()}else e()});return o}function C(t){var n=e(function(e,n){var o=RegExp("^[0-9]{10,15}$"),r=o.test(t);r?e():n()});return n}return{isAlphaNumericField:a,isAlphaField:i,isMinFourPostalCode:s,isCurrencyFieldValidation:l,IdNumberFieldValidation:c,PassportNoNoSpacesDashesField:u,isEmailAddressField:r,taxReferenceNumberVAlidation:d,isValidDate:n,isMinNineTelPhone:C,isGIINNoField:o}}function t(e){var t=0,o=n((2*Number(e.substring(0,1))).toString())+n((2*Number(e.substring(2,3))).toString())+n((2*Number(e.substring(4,5))).toString())+n((2*Number(e.substring(6,7))).toString())+n((2*Number(e.substring(8,9))).toString()),r=Number(e.substring(1,2))+Number(e.substring(3,4))+Number(e.substring(5,6))+Number(e.substring(7,8));return t=o+r}function n(e){for(var t=0,n=0;n<e.length;n++)t+=Number(e.substring(n,n+1));return t}function o(e){var t=!1;if(e.length>0&&19===e.length&&e.indexOf(".")>=6){var n=e.split(".");if(6===n[0].length&&5===n[1].length&&2===n[2].length&&3===n[3].length&&(t=!0),t){var o=RegExp("^([A-Z0-9]{6})+.([A-Z0-9]{5})+.([A-Z0-9]{2})+.([A-Z0-9]{3})$");return o.test(e)}}return!1}e.$inject=["$q"],angular.module("cbcproject").factory("fieldtypeservevices",e)}(),function(){function e(e){function n(t){var n=e(function(e,t){var n=Number(n),o=n%100===0?n%400===0:n%4===0;o?e(n):t(n)});return n}function o(n){var o=e(function(e,o){var r=(n.substr(0,4),n.substr(4,2),n.substr(6,2),new Date),a=t(n);a>r?e(n):o(parameter)});return o}function r(n,o){var r=e(function(e,o){var r=new Date(Number(n)-1,2,1),a=new Date(Number(n),2,1),i=!0,s=t(s);r>s&&o(),s>a&&o(),i&&e()});return r}function a(n,o){var r=e(function(e,o){var r=(new Date(Number(n)-1,2,1),new Date(Number(n),2,1)),a=t(a);a>r?o():e()});return r}function i(n,o,r){var a=e(function(e,a){var i=(new Date(Number(n)-1,2,1),new Date(Number(n-r)-1,2,1)),s=new Date(Number(n),2,1),l=!0;o=t(o),i>o&&a(),o>s&&a(),l&&e()});return a}function s(n,o){var r=e(function(e,r){n||o||r(),(8!==n.length||8!==o.length)&&r(),n=t(n),o=t(o),e(o>n)});return r}function l(t,n){var o=e(function(e,o){("null"===t||""===t||void 0===t||"undefined"===t)&&o(),("null"===n||""===n||void 0===n||"undefined"===n)&&o(),e(Number(t)<=Number(n))});return o}function c(t){var n=e(function(e,n){var o=/^(?:(?:19\d{2}|18[89]\d|20[0-4]\d)([-\/\\.\s]?)(?:(?:0[13578]|1[02])(?:\1)31|(?:0[13456789]|1[012])(?:\1)(?:30|29)|(?:0[1-9]|1[012])(?:\1)(?:0[1-9]|1\d|2[0-8])))|(?:18(?:8[048]|9[26])|19(?:0[48]|[2468][048]|[13579][26])|20(?:0[048]|[24][048]|[13][26]))([-\/\\.\s]?)02(?:\2)29$/,r=t.match(o);r?e(t):n(t)});return n}function u(t){var n=e(function(e,n){var r=/^(?:(?:19\d{2}|18[89]\d|20[0-4]\d)([-\/\\.\s]?)(?:(?:0[13578]|1[02])(?:\1)31|(?:0[13456789]|1[012])(?:\1)(?:30|29)|(?:0[1-9]|1[012])(?:\1)(?:0[1-9]|1\d|2[0-8])))|(?:18(?:8[048]|9[26])|19(?:0[48]|[2468][048]|[13579][26])|20(?:0[048]|[24][048]|[13][26]))([-\/\\.\s]?)02(?:\2)29$/,a=t.match(r)&&!o(t);a?e(t):n(t)});return n}return{isLeapYear:n,isFutureDate:o,isWithinTaxYear:r,disabilityDateNotGreaterThanTaxYear:a,isModerateSevere_Date_Check:i,isStartLessThanEndDate:s,isPeriodWorkedLessThanAssessment:l,isValidDate:u,isValidPeriodDate:c}}function t(e){if(null!==e){if(8==e.length){var t=e.substr(0,4),n=e.substr(4,2),o=e.substr(6,2);return new Date(t,n-1,o)}if(10==e.length){var t=e.substr(0,4),n=e.substr(5,2),o=e.substr(8,2);return new Date(t,n-1,o)}return new Date(1900,1,1,12,0,0,0)}return new Date(1900,1,1,12,0,0,0)}e.$inject=["$q"],angular.module("cbcproject").factory("dateservices",e)}(),function(){angular.module("cbcproject").factory("dataService",function(){return{getData:function(e){return e?(function t(e){angular.forEach(e,function(n,o){""===n||"null"===n||null===n?delete e[o]:angular.isObject(n)?t(n):angular.isArray(n)&&angular.forEach(n,function(e,n){t(e)})})}(e),e):""}}})}(),function(){angular.module("cbcproject").factory("companyregservice",function(){function e(e){var t=["06","07","08","09","10","11","20","21","22","23","24","25","26","30","31"];return t.contains(e)}return{validateCompanyRegNo:function(t){if(9==t.length)return"K"!=registeredNo.data.substring(0,1)?!1:isNaN(Number(t.substring(1)))?!1:!0;var n=new Date,o=n.getFullYear(),r=1800,a=(t.toString().substr(0,1),t.toString().substr(0,4)),i=t.toString().substr(4,1),s=t.toString().substr(5,6),l=t,c=l.substr(11,1),u=t.toString().substr(12,2);return isNaN(Number(a))||isNaN(Number(s))?!1:Number(a)>o||Number(a)<r?!1:"/"!=i?!1:"/"!=c?!1:registeredNo.data.length>14?!1:e(u)}}})}(),function(){function e(e,t,n,o,r,a,i,s,l){var c=e,u=t;c.jurisdictionsArr=[],c.constituentArr=[],c.DefaultCBCReport=[{ConstEntities:[{ConstEntity:{Name:[]},BizActivities:[null]}]}],c.save=function(e){$("#test").find("input").each(function(e,t){console.log("nkm",$(t).attr("disabled","disabled"))})},c.delay=0,c.minDuration=0,c.templateUrl="",c.message="Please Wait...",c.backdrop=!0,c.myPromiseReport=null,c.myPromiseConstituent=null,c.myPromiseOtherInforMAtion=null,c.otherInforArr=[],c.formData={},c.constEntitiesOnJusArr=[],c.disabled=void 0,c.searchEnabled=void 0,c.setInputFocus=function(){c.$broadcast("uiSelectDemo1")},c.enable=function(){c.disabled=!1},c.disable=function(){c.disabled=!0},c.enableSearch=function(){c.searchEnabled=!0},c.disableSearch=function(){c.searchEnabled=!1},c.status={isFivmtOpen:!0,isFivmtDisabled:!1},c.statusCon={isFivmtOpen:!0,isFivmtDisabled:!1},c.statusAdd={isFivmtOpen:!0,isFivmtDisabled:!1},c.reportid=null,c.showreportDiv=!1,c.showConstEntityDiv=!0,c.constEntityId,c.oneAtATime=!0,c.otherBusinessActivityIsRequired=!1,c.countrycodes=[{code:"AF",name:"AFGHANISTAN"},{code:"AX",name:"ALAND ISLANDS"},{code:"AL",name:"ALBANIA"},{code:"DZ",name:"ALGERIA"},{code:"AS",name:"AMERICAN SAMOA"},{code:"AD",name:"ANDORRA"},{code:"AO",name:"ANGOLA"},{code:"AI",name:"ANGUILLA"},{code:"AQ",name:"ANTARCTICA"},{code:"AG",name:"ANTIGUA AND BARBUDA"},{code:"AR",name:"ARGENTINA"},{code:"AM",name:"ARMENIA"},{code:"AW",name:"ARUBA"},{code:"AU",name:"AUSTRALIA"},{code:"AT",name:"AUSTRIA"},{code:"AZ",name:"AZERBAIJAN"},{code:"BS",name:"BAHAMAS"},{code:"BH",name:"BAHRAIN"},{code:"BD",name:"BANGLADESH"},{code:"BB",name:"BARBADOS"},{code:"BY",name:"BELARUS"},{code:"BE",name:"BELGIUM"},{code:"BZ",name:"BELIZE"},{code:"BJ",name:"BENIN"},{code:"BM",name:"BERMUDA"},{code:"BT",name:"BHUTAN"},{code:"BO",name:"BOLIVIA, PLURINATIONAL STATE OF"},{code:"BQ",name:"BONAIRE, SINT EUSTATIUS AND SABA"},{code:"BA",name:"BOSNIA AND HERZEGOVINA"},{code:"BW",name:"BOTSWANA"},{code:"BV",name:"BOUVET ISLAND"},{code:"BR",name:"BRAZIL"},{code:"IO",name:"BRITISH INDIAN OCEAN TERRITORY"},{code:"BN",name:"BRUNEI DARUSSALAM"},{code:"BG",name:"BULGARIA"},{code:"BF",name:"BURKINA FASO"},{code:"BI",name:"BURUNDI"},{code:"KH",name:"CAMBODIA"},{code:"CM",name:"CAMEROON"},{code:"CA",name:"CANADA"},{code:"CV",name:"CAPE VERDE"},{code:"KY",name:"CAYMAN ISLANDS"},{code:"CF",name:"CENTRAL AFRICAN REPUBLIC"},{code:"TD",name:"CHAD"},{code:"CL",name:"CHILE"},{code:"CN",name:"CHINA"},{code:"CX",name:"CHRISTMAS ISLAND"},{code:"CC",name:"COCOS (KEELING) ISLANDS"},{code:"CO",name:"COLOMBIA"},{code:"KM",name:"COMOROS"},{code:"CG",name:"CONGO"},{code:"CD",name:"CONGO, THE DEMOCRATIC REPUBLIC OF THE"},{code:"CK",name:"COOK ISLANDS"},{code:"CR",name:"COSTA RICA"},{code:"CI",name:"COTE D'IVOIRE"},{code:"HR",name:"CROATIA"},{code:"CU",name:"CUBA"},{code:"CW",name:"CURACAO"},{code:"CY",name:"CYPRUS"},{code:"CZ",name:"CZECH REPUBLIC"},{code:"DK",name:"DENMARK"},{code:"DJ",name:"DJIBOUTI"},{code:"DM",name:"DOMINICA"},{code:"DO",name:"DOMINICAN REPUBLIC"},{code:"EC",name:"ECUADOR"},{code:"EG",name:"EGYPT"},{code:"SV",name:"EL SALVADOR"},{code:"GQ",name:"EQUATORIAL GUINEA"},{code:"ER",name:"ERITREA"},{code:"EE",name:"ESTONIA"},{code:"ET",name:"ETHIOPIA"},{code:"FK",name:"FALKLAND ISLANDS (MALVINAS)"},{code:"FO",name:"FAROE ISLANDS"},{code:"FJ",name:"FIJI"},{code:"FI",name:"FINLAND"},{code:"FR",name:"FRANCE"},{code:"GF",name:"FRENCH GUIANA"},{code:"PF",name:"FRENCH POLYNESIA"},{code:"TF",name:"FRENCH SOUTHERN TERRITORIES"},{code:"GA",name:"GABON"},{code:"GM",name:"GAMBIA"},{code:"GE",name:"GEORGIA"},{code:"DE",name:"GERMANY"},{code:"GH",name:"GHANA"},{code:"GI",name:"GIBRALTAR"},{code:"GR",name:"GREECE"},{code:"GL",name:"GREENLAND"},{code:"GD",name:"GRENADA"},{code:"GP",name:"GUADELOUPE"},{code:"GU",name:"GUAM"},{code:"GT",name:"GUATEMALA"},{code:"GG",name:"GUERNSEY"},{code:"GN",name:"GUINEA"},{code:"GW",name:"GUINEA-BISSAU"},{code:"GY",name:"GUYANA"},{code:"HT",name:"HAITI"},{code:"HM",name:"HEARD ISLAND AND MCDONALD ISLANDS"},{code:"VA",name:"HOLY SEE (VATICAN CITY STATE)"},{code:"HN",name:"HONDURAS"},{code:"HK",name:"HONG KONG"},{code:"HU",name:"HUNGARY"},{code:"IS",name:"ICELAND"},{code:"IN",name:"INDIA"},{code:"ID",name:"INDONESIA"},{code:"IR",name:"IRAN, ISLAMIC REPUBLIC OF"},{code:"IQ",name:"IRAQ"},{code:"IE",name:"IRELAND"},{code:"IM",name:"ISLE OF MAN"},{code:"IL",name:"ISRAEL"},{code:"IT",name:"ITALY"},{code:"JM",name:"JAMAICA"},{code:"JP",name:"JAPAN"},{code:"JE",name:"JERSEY"},{code:"JO",name:"JORDAN"},{code:"KZ",name:"KAZAKHSTAN"},{code:"KE",name:"KENYA"},{code:"KI",name:"KIRIBATI"},{code:"KP",name:"KOREA, DEMOCRATIC PEOPLE'S REPUBLIC OF"},{code:"KR",name:"KOREA, REPUBLIC OF"},{code:"KW",name:"KUWAIT"},{code:"KG",name:"KYRGYZSTAN"},{code:"LA",name:"LAO PEOPLE'S DEMOCRATIC REPUBLIC"},{code:"LV",name:"LATVIA"},{code:"LB",name:"LEBANON"},{code:"LS",name:"LESOTHO"},{code:"LR",name:"LIBERIA"},{code:"LY",name:"LIBYA"},{code:"LI",name:"LIECHTENSTEIN"},{code:"LT",name:"LITHUANIA"},{code:"LU",name:"LUXEMBOURG"},{code:"MO",name:"MACAO"},{code:"MK",name:"MACEDONIA, THE FORMER YUGOSLAV REPUBLIC OF"},{code:"MG",name:"MADAGASCAR"},{code:"MW",name:"MALAWI"},{code:"MY",name:"MALAYSIA"},{code:"MV",name:"MALDIVES"},{code:"ML",name:"MALI"},{code:"MT",name:"MALTA"},{code:"MH",name:"MARSHALL ISLANDS"},{code:"MQ",name:"MARTINIQUE"},{code:"MR",name:"MAURITANIA"},{code:"MU",name:"MAURITIUS"},{code:"YT",name:"MAYOTTE"},{code:"MX",name:"MEXICO"},{code:"FM",name:"MICRONESIA, FEDERATED STATES OF"},{code:"MD",name:"MOLDOVA, REPUBLIC OF"},{code:"MC",name:"MONACO"},{code:"MN",name:"MONGOLIA"},{code:"ME",name:"MONTENEGRO"},{code:"MS",name:"MONTSERRAT"},{code:"MA",name:"MOROCCO"},{code:"MZ",name:"MOZAMBIQUE"},{code:"MM",name:"MYANMAR"},{code:"NA",name:"NAMIBIA"},{code:"NR",name:"NAURU"},{code:"NP",name:"NEPAL"},{code:"NL",name:"NETHERLANDS"},{code:"NC",name:"NEW CALEDONIA"},{code:"NZ",name:"NEW ZEALAND"},{code:"NI",name:"NICARAGUA"},{code:"NE",name:"NIGER"},{code:"NG",name:"NIGERIA"},{code:"NU",name:"NIUE"},{code:"NF",name:"NORFOLK ISLAND"},{code:"MP",name:"NORTHERN MARIANA ISLANDS"},{code:"NO",name:"NORWAY"},{code:"OM",name:"OMAN"},{code:"PK",name:"PAKISTAN"},{code:"PW",name:"PALAU"},{code:"PS",name:"PALESTINE, STATE OF"},{code:"PA",name:"PANAMA"},{code:"PG",name:"PAPUA NEW GUINEA"},{code:"PY",name:"PARAGUAY"},{code:"PE",name:"PERU"},{code:"PH",name:"PHILIPPINES"},{code:"PN",name:"PITCAIRN"},{code:"PL",name:"POLAND"},{code:"PT",name:"PORTUGAL"},{code:"PR",name:"PUERTO RICO"},{code:"QA",name:"QATAR"},{code:"RE",name:"REUNION"},{code:"RO",name:"ROMANIA"},{code:"RU",name:"RUSSIAN FEDERATION"},{code:"RW",name:"RWANDA"},{code:"BL",name:"SAINT BARTHELEMY"},{code:"SH",name:"SAINT HELENA, ASCENSION AND TRISTAN DA CUNHA"},{code:"KN",name:"SAINT KITTS AND NEVIS"},{code:"LC",name:"SAINT LUCIA"},{code:"MF",name:"SAINT MARTIN (FRENCH PART)"},{code:"PM",name:"SAINT PIERRE AND MIQUELON"},{code:"VC",name:"SAINT VINCENT AND THE GRENADINES"},{code:"WS",name:"SAMOA"},{code:"SM",name:"SAN MARINO"},{code:"ST",name:"SAO TOME AND PRINCIPE"},{code:"SA",name:"SAUDI ARABIA"},{code:"SN",name:"SENEGAL"},{code:"RS",name:"SERBIA"},{code:"SC",name:"SEYCHELLES"},{code:"SL",name:"SIERRA LEONE"},{code:"SG",name:"SINGAPORE"},{code:"SX",name:"SINT MAARTEN (DUTCH PART)"},{code:"SK",name:"SLOVAKIA"},{code:"SI",name:"SLOVENIA"},{code:"SB",name:"SOLOMON ISLANDS"},{code:"SO",name:"SOMALIA"},{code:"ZA",name:"SOUTH AFRICA"},{code:"GS",name:"SOUTH GEORGIA AND THE SOUTH SANDWICH ISLANDS"},{code:"SS",name:"SOUTH SUDAN"},{code:"ES",name:"SPAIN"},{code:"LK",name:"SRI LANKA"},{code:"SD",name:"SUDAN"},{code:"SR",name:"SURIname:"},{code:"SJ",name:"SVALBARD AND JAN MAYEN"},{code:"SZ",name:"SWAZILAND"},{code:"SE",name:"SWEDEN"},{code:"CH",name:"SWITZERLAND"},{code:"SY",name:"SYRIAN ARAB REPUBLIC"},{code:"TW",name:"TAIWAN, PROVINCE OF CHINA"},{code:"TJ",name:"TAJIKISTAN"},{code:"TZ",name:"TANZANIA, UNITED REPUBLIC OF"},{code:"TH",name:"THAILAND"},{code:"TL",name:"TIMOR-LESTE"},{code:"TG",name:"TOGO"},{code:"TK",name:"TOKELAU"},{code:"TO",name:"TONGA"},{code:"TT",name:"TRINIDAD AND TOBAGO"},{code:"TN",name:"TUNISIA"},{code:"TR",name:"TURKEY"},{code:"TM",name:"TURKMENISTAN"},{code:"TC",name:"TURKS AND CAICOS ISLANDS"},{code:"TV",name:"TUVALU"},{code:"UG",name:"UGANDA"},{code:"UA",name:"UKRAINE"},{code:"AE",name:"UNITED ARAB EMIRATES"},{code:"GB",name:"UNITED KINGDOM"},{code:"US",name:"UNITED STATES"},{code:"UM",name:"UNITED STATES MINOR OUTLYING ISLANDS"},{code:"UY",name:"URUGUAY"},{code:"UZ",name:"UZBEKISTAN"},{code:"VU",name:"VANUATU"},{code:"VE",name:"VENEZUELA, BOLIVARIAN REPUBLIC OF"},{code:"VN",name:"VIET NAM"},{code:"VG",name:"VIRGIN ISLANDS, BRITISH"},{code:"VI",name:"VIRGIN ISLANDS, U.S."},{code:"WF",name:"WALLIS AND FUTUNA"},{code:"EH",name:"WESTERN SAHARA"},{code:"YE",name:"YEMEN"},{code:"ZM",name:"ZAMBIA"},{code:"ZW",name:"ZIMBABWE"},{code:"XK",name:"KOSOVO"},{code:"X5",name:"STATELESS"}],c.BusinessActivity=[{name:"CBC601- Revenues - Unrelated",code:"CBC601"},{name:"CBC602- Revenues – Related",code:"CBC602"},{name:"CBC603- Revenues – Total",code:"CBC603"},{name:"CBC604- Profit or Loss",code:"CBC604"},{name:"CBC605- Tax Paid",code:"CBC605"},{name:"CBC606- Tax Accrued",code:"CBC606"},{name:"CBC607- Capital",code:"CBC607"},{name:"CBC608- Earnings",code:"CBC608"},{name:"CBC609- Number of Employees",code:"CBC609"},{name:"CBC610- Assets",code:"CBC610"},{name:"CBC611- Name of MNE Group",code:"CBC611"}],c.mainBusinessActivitys=[{name:"CBC501- Research and Development",code:"CBC501"},{name:"CBC502- Holding or Managing intellectual property",code:"CBC502"},{name:"CBC503- Purchasing or Procurement",code:"CBC503"},{name:"CBC504- Manufacturing or Production",code:"CBC504"},{name:"CBC505- Sales, Marketing or Distribution",
code:"CBC505"},{name:"CBC506- Administrative, Management or Support Services",code:"CBC506"},{name:"CBC507- Provision of Services to unrelated parties",code:"CBC507"},{name:"CBC508- Internal Group Finance",code:"CBC508"},{name:"CBC509- Regulated Financial Services",code:"CBC509"},{name:"CBC510- Insurance",code:"CBC510"},{name:"CBC511- Holding shares or other equity instruments",code:"CBC511"},{name:"CBC512- Dormant",code:"CBC512"},{name:"CBC513- Other",code:"CBC513"}],c.addresstypes=[{name:"OECD301- Residential Or Business",code:"OECD301"},{name:"OECD302- Residential",code:"OECD302"},{name:"OECD303- Business",code:"OECD303"},{name:"OECD304- Registered Office",code:"OECD304"}],c.reportingRole=[{name:"CBC701- Ultimate Parent Entity",code:"CBC701"},{name:"CBC702- Surrogate Parent Entity",code:"CBC702"},{name:"CBC703- Local Filing",code:"CBC703"}],c.currencyCodes=[{code:"AED",name:"UAE Dirham: UNITED ARAB EMIRATES"},{code:"AFN",name:"Afghani: AFGHANISTAN"},{code:"ALL",name:"Lek: ALBANIA"},{code:"AMD",name:"Armenian Dram: ARMENIA	"},{code:"ANG",name:"Netherlands Antillean Guilder: CURACAO; SINT MAARTEN (DUTCH PART)"},{code:"AOA",name:"Kwanza: ANGOLA"},{code:"ARS",name:"Argentine Peso: ARGENTINA"},{code:"AUD",name:"Australian Dollar: AUSTRALIA; CHRISTMAS ISLAND; COCOS (KEELING) ISLANDS; HEARD ISLAND AND McDONALD ISLANDS; KIRIBATI; NAURU; NORFOLK ISLAND; TUVALU"},{code:"AWG",name:"Aruban Florin: ARUBA"},{code:"AZN",name:"Azerbaijanian Manat: AZERBAIJAN"},{code:"BAM",name:"Convertible Mark: BOSNIA AND HERZEGOVINA"},{code:"BBD",name:"Barbados Dollar: BARBADOS"},{code:"BDT",name:"Taka: BANGLADESH"},{code:"BGN",name:"Bulgarian Lev: BULGARIA"},{code:"BHD",name:"Bahraini Dinar: BAHRAIN"},{code:"BIF",name:"Burundi Franc: BURUNDI"},{code:"BMD",name:"Bermudian Dollar: BERMUDA"},{code:"BND",name:"Brunei Dollar: BRUNEI DARUSSALAM"},{code:"BOB",name:"Boliviano: BOLIVIA, PLURINATIONAL STATE OF"},{code:"BOV",name:"Mvdol: BOLIVIA, PLURINATIONAL STATE OF"},{code:"BRL",name:"Brazilian Real: BRAZIL"},{code:"BSD",name:"Bahamian Dollar: BAHAMAS"},{code:"BTN",name:"Ngultrum: BHUTAN"},{code:"BWP",name:"Pula: BOTSWANA"},{code:"BYR",name:"Belarussian Ruble: BELARUS"},{code:"BZD",name:"Belize Dollar: BELIZE"},{code:"CAD",name:"Canadian Dollar: CANADA"},{code:"CDF",name:"Congolese Franc: CONGO, THE DEMOCRATIC REPUBLIC OF"},{code:"CHE",name:"WIR Euro: SWITZERLAND"},{code:"CHF",name:"Swiss Franc: LIECHTENSTEIN; SWITZERLAND"},{code:"CHW",name:"WIR Franc: SWITZERLAND"},{code:"CLF",name:"Unidades de fomento: CHILE"},{code:"CLP",name:"Chilean Peso: CHILE"},{code:"CNY",name:"Yuan Renminbi: CHINA"},{code:"COP",name:"Colombian Peso: COLOMBIA"},{code:"COU",name:"Unidad de Valor Real: COLOMBIA"},{code:"CRC",name:"Costa Rican Colon: COSTA RICA"},{code:"CUC",name:"Peso Convertible: CUBA"},{code:"CUP",name:"Cuban Peso: CUBA"},{code:"CVE",name:"Cape Verde Escudo: CAPE VERDE"},{code:"CZK",name:"Czech Koruna: CZECH REPUBLIC"},{code:"DJF",name:"Djibouti Franc: DJIBOUTI"},{code:"DKK",name:"Danish Krone: DENMARK; FAROE ISLANDS; GREENLAND"},{code:"DOP",name:"Dominican Peso: DOMINICAN REPUBLIC"},{code:"DZD",name:"Algerian Dinar: ALGERIA"},{code:"EGP",name:"Egyptian Pound: EGYPT"},{code:"ERN",name:"Nakfa: ERITREA"},{code:"ETB",name:"Ethiopian Birr: ETHIOPIA"},{code:"EUR",name:"Euro: ALAND ISLANDS; ANDORRA; AUSTRIA; BELGIUM; CYPRUS; ESTONIA; EUROPEAN UNION; FINLAND; FRANCE; FRENCH GUIANA; FRENCH SOUTHERN TERRITORIES; GERMANY; GREECE; GUADELOUPE; HOLY SEE (VATICAN CITY STATE); IRELAND; ITALY; LUXEMBOURG; MALTA; MARTINIQUE; MAYOTTE; MONACO; MONTENEGRO; NETHERLANDS; PORTUGAL; REUNION; SAINT BARTHELEMY; SAINT MARTIN (FRENCH PART); SAINT PIERRE AND MIQUELON; SAN MARINO; SLOVAKIA; SLOVENIA; SPAIN; Vatican City State (HOLY SEE)"},{code:"FJD",name:"Fiji Dollar: FIJI"},{code:"FKP",name:"Falkland Islands Pound: FALKLAND ISLANDS (MALVINAS)"},{code:"GBP",name:"Pound Sterling: GUERNSEY; ISLE OF MAN; JERSEY; UNITED KINGDOM"},{code:"GEL",name:"Lari: GEORGIA"},{code:"GHS",name:"Ghana Cedi: GHANA"},{code:"GIP",name:"Gibraltar Pound: GIBRALTAR"},{code:"GMD",name:"Dalasi: GAMBIA"},{code:"GNF",name:"Guinea Franc: GUINEA"},{code:"GTQ",name:"Quetzal: GUATEMALA"},{code:"GYD",name:"Guyana Dollar: GUYANA"},{code:"HKD",name:"Hong Kong Dollar: HONG KONG"},{code:"HNL",name:"Lempira: HONDURAS"},{code:"HRK",name:"Croatian Kuna: CROATIA"},{code:"HTG",name:"Gourde: HAITI"},{code:"HUF",name:"Forint: HUNGARY"},{code:"IDR",name:"Rupiah: INDONESIA"},{code:"ILS",name:"New Israeli Sheqel: ISRAEL"},{code:"INR",name:"Indian Rupee: BHUTAN; INDIA"},{code:"IQD",name:"Iraqi Dinar: IRAQ"},{code:"IRR",name:"Iranian Rial: IRAN, ISLAMIC REPUBLIC OF"},{code:"ISK",name:"Iceland Krona: ICELAND"},{code:"JMD",name:"Jamaican Dollar: JAMAICA"},{code:"JOD",name:"Jordanian Dinar: JORDAN"},{code:"JPY",name:"Yen: JAPAN"},{code:"KES",name:"Kenyan Shilling: KENYA"},{code:"KGS",name:"Som: KYRGYZSTAN"},{code:"KHR",name:"Riel: CAMBODIA"},{code:"KMF",name:"Comoro Franc: COMOROS"},{code:"KPW",name:"North Korean Won: KOREA, DEMOCRATIC PEOPLE’S REPUBLIC OF"},{code:"KRW",name:"Won: KOREA, REPUBLIC OF"},{code:"KWD",name:"Kuwaiti Dinar: KUWAIT"},{code:"KYD",name:"Cayman Islands Dollar: CAYMAN ISLANDS"},{code:"KZT",name:"Tenge: KAZAKHSTAN"},{code:"LAK",name:"Kip: LAO PEOPLE’S DEMOCRATIC REPUBLIC"},{code:"LBP",name:"Lebanese Pound: LEBANON"},{code:"LKR",name:"Sri Lanka Rupee: SRI LANKA"},{code:"LRD",name:"Liberian Dollar: LIBERIA"},{code:"LSL",name:"Loti: LESOTHO"},{code:"LTL",name:"Lithuanian Litas: LITHUANIA"},{code:"LVL",name:"Latvian Lats: LATVIA"},{code:"LYD",name:"Libyan Dinar: LIBYA"},{code:"MAD",name:"Moroccan Dirham: MOROCCO; WESTERN SAHARA"},{code:"MDL",name:"Moldovan Leu: MOLDOVA, REPUBLIC OF"},{code:"MGA",name:"Malagasy Ariary: MADAGASCAR"},{code:"MKD",name:"Denar: MACEDONIA, THE FORMER YUGOSLAV REPUBLIC OF"},{code:"MMK",name:"Kyat: MYANMAR"},{code:"MNT",name:"Tugrik: MONGOLIA"},{code:"MOP",name:"Pataca: MACAO"},{code:"MRO",name:"Ouguiya: MAURITANIA"},{code:"MUR",name:"Mauritius Rupee: MAURITIUS"},{code:"MVR",name:"Rufiyaa: MALDIVES"},{code:"MWK",name:"Kwacha: MALAWI"},{code:"MXN",name:"Mexican Peso: MEXICO"},{code:"MXV",name:"Mexican Unidad de Inversion (UDI): MEXICO"},{code:"MYR",name:"Malaysian Ringgit: MALAYSIA"},{code:"MZN",name:"Mozambique Metical: MOZAMBIQUE"},{code:"NAD",name:"Namibia Dollar: NAMIBIA"},{code:"NGN",name:"Naira: NIGERIA"},{code:"NIO",name:"Cordoba Oro: NICARAGUA"},{code:"NOK",name:"Norwegian Krone: BOUVET ISLAND; NORWAY; SVALBARD AND JAN MAYEN"},{code:"NPR",name:"Nepalese Rupee: NEPAL"},{code:"NZD",name:"New Zealand Dollar: COOK ISLANDS; NEW ZEALAND; NIUE; PITCAIRN; TOKELAU"},{code:"OMR",name:"Rial Omani: OMAN"},{code:"PAB",name:"Balboa: PANAMA"},{code:"PEN",name:"Nuevo Sol: PERU"},{code:"PGK",name:"Kina: PAPUA NEW GUINEA"},{code:"PHP",name:"Philippine Peso: PHILIPPINES"},{code:"PKR",name:"Pakistan Rupee: PAKISTAN"},{code:"PLN",name:"Zloty: POLAND"},{code:"PYG",name:"Guarani: PARAGUAY"},{code:"QAR",name:"Qatari Rial: QATAR"},{code:"RON",name:"New Romanian Leu: ROMANIA"},{code:"RSD",name:"Serbian Dinar: SERBIA"},{code:"RUB",name:"Russian Ruble: RUSSIAN FEDERATION"},{code:"RWF",name:"Rwanda Franc: RWANDA"},{code:"SAR",name:"Saudi Riyal: SAUDI ARABIA"},{code:"SBD",name:"Solomon Islands Dollar: SOLOMON ISLANDS"},{code:"SCR",name:"Seychelles Rupee: SEYCHELLES"},{code:"SDG",name:"Sudanese Pound: SUDAN"},{code:"SEK",name:"Swedish Krona: SWEDEN"},{code:"SGD",name:"Singapore Dollar: SINGAPORE"},{code:"SHP",name:"Saint Helena Pound: SAINT HELENA, ASCENSION AND TRISTAN DA CUNHA"},{code:"SLL",name:"Leone: SIERRA LEONE"},{code:"SOS",name:"Somali Shilling: SOMALIA"},{code:"SRD",name:"Surinam Dollar: SURINAME"},{code:"SSP",name:"South Sudanese Pound: SOUTH SUDAN"},{code:"STD",name:"Dobra: SAO TOME AND PRINCIPE"},{code:"SVC",name:"El Salvador Colon: EL SALVADOR"},{code:"SYP",name:"Syrian Pound: SYRIAN ARAB REPUBLIC"},{code:"SZL",name:"Lilangeni: SWAZILAND"},{code:"THB",name:"Baht: THAILAND"},{code:"TJS",name:"Somoni: TAJIKISTAN"},{code:"TMT",name:"Turkmenistan New Manat: TURKMENISTAN"},{code:"TND",name:"Tunisian Dinar: TUNISIA"},{code:"TOP",name:"Pa’anga: TONGA"},{code:"TRY",name:"Turkish Lira: TURKEY"},{code:"TTD",name:"Trinidad and Tobago Dollar: TRINIDAD AND TOBAGO"},{code:"TWD",name:"New Taiwan Dollar: TAIWAN, PROVINCE OF CHINA"},{code:"TZS",name:"Tanzanian Shilling: TANZANIA, UNITED REPUBLIC OF"},{code:"UAH",name:"Hryvnia: UKRAINE"},{code:"UGX",name:"Uganda Shilling: UGANDA"},{code:"USD",name:"US Dollar: AMERICAN SAMOA; BONAIRE; SINT EUSTATIUS AND SABA; BRITISH INDIAN OCEAN TERRITORY; ECUADOR; EL SALVADOR; GUAM; HAITI; MARSHALL ISLANDS; MICRONESIA, FEDERATED STATES OF; NORTHERN MARIANA ISLANDS; PALAU; PANAMA; PUERTO RICO; TIMOR-LESTE; TURKS AND CAICOS ISLANDS, UNITED STATES; UNITED STATES MINOR OUTLYING ISLANDS; VIRGIN ISLANDS (BRITISH); VIRGIN ISLANDS (US)"},{code:"USN",name:"US Dollar (Next day): UNITED STATES"},{code:"USS",name:" US Dollar (Same day): UNITED STATES"},{code:"UYI",name:"Uruguay Peso en Unidades Indexadas (URUIURUI): URUGUAY"},{code:"UYU",name:"Peso Uruguayo: URUGUAY"},{code:"UZS",name:"Uzbekistan Sum: UZBEKISTAN"},{code:"VEF",name:"Bolivar: VENEZUELA, BOLIVARIAN REPUBLIC OF"},{code:"VND",name:"Dong: VIET NAM"},{code:"VUV",name:"Vatu: VANUATU"},{code:"WST",name:"Tala: SAMOA"},{code:"XAF",name:"CFA Franc BEAC: CAMEROON; CENTRAL AFRICAN REPUBLIC; CHAD; CONGO; EQUATORIAL GUINEA; GABON"},{code:"XAG",name:"Silver: ZZ11_Silver"},{code:"XAU",name:"Gold: ZZ08_Gold"},{code:"XBA",name:"Bond Markets Unit European Composite Unit (EURCO):  ZZ01_Bond Markets Unit European_EURCO"},{code:"XBB",name:"Bond Markets Unit European Monetary Unit (E.M.U.-6): ZZ02_Bond Markets Unit European_EMU-6"},{code:"XBC",name:"Bond Markets Unit European Unit of Account 9 (E.U.A.-9): ZZ03_Bond Markets Unit European_EUA-9"},{code:"XBD",name:"Bond Markets Unit European Unit of Account 17 (E.U.A.-17): ZZ04_Bond Markets Unit European_EUA-17"},{code:"XCD",name:"East Caribbean Dollar: ANGUILLA; ANTIGUA AND BARBUDA; DOMINICA; GRENADA; MONTSERRAT; SAINT KITTS AND NEVIS; SAINT LUCIA; SAINT VINCENT AND THE GRENADINES"},{code:"XDR",name:"SDR (Special Drawing Right): INTERNATIONAL MONETARY FUND (IMF)"},{code:"XFU",name:"UIC-Franc: ZZ05_UIC-Franc"},{code:"XOF",name:"CFA Franc BCEAO: BENIN; BURKINA FASO; COTE D'IVOIRE; GUINEA-BISSAU; MALI; NIGER; SENEGAL; TOGO"},{code:"XPD",name:"Palladium: ZZ09_Palladium"},{code:"XPF",name:"CFP Franc: FRENCH POLYNESIA; NEW CALEDONIA; WALLIS AND FUTUNA"},{code:"XPT",name:"Platinum: ZZ10_Platinum"},{code:"XSU",name:"Sucre: SISTEMA UNITARIO DE COMPENSACION REGIONAL DE PAGOS 'SUCRE'"},{code:"XUA",name:"ADB Unit of Account: MEMBER COUNTRIES OF THE AFRICAN DEVELOPMENT BANK GROUP"},{code:"XXX",name:"The codes assigned for transactions where no currency is involved: ZZ07_No_Currency"},{code:"YER",name:"Yemeni Rial: YEMEN"},{code:"ZAR",name:"Rand: SOUTH AFRICA; LESOTHO; NAMIBIA"},{code:"ZMW",name:"Zambian Kwacha: ZAMBIA"},{code:"ZWL",name:"Zimbabwe Dollar: ZIMBABWE"}],c.CancelReport=function(){swal({title:"Are you sure?",text:"You will not be able to recover this CBC Report and its Constituent Entities!",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",allowOutsideClick:!1}).then(function(e){e&&(c.showreportDiv=!1,c.reportid=null,c.$apply(),c.DefaultCBCReport=[{ConstEntities:[{ConstEntity:{Name:[],ResCountryCode:""},BizActivities:[null]}]}],c.constituentArr=[])},function(e){})},c.updateCBCReportOnEdit=function(){var e=angular.element(CBCReportFormDiv).scope().CBCReportFormValid();if(e){if(c.jurisdictionsArr[c.reportid].Summary=angular.copy(c.DefaultCBCReport[0].Summary),c.jurisdictionsArr[c.reportid].DocSpec=angular.copy(c.DefaultCBCReport[0].DocSpec),c.jurisdictionsArr[c.reportid].ResCountryCode=angular.copy(c.DefaultCBCReport[0].ResCountryCode),c.DefaultCBCReport[0].ConstEntities[0]){var t=angular.element(CBCReportFormDiv).scope().ConstituentFormValid();t&&(c.constituentArr.push(c.DefaultCBCReport[0].ConstEntities[0]),c.jurisdictionsArr[c.reportid].ConstEntities=angular.copy(c.constituentArr))}c.showConstEntityDiv=!1,c.showreportDiv=!1,c.constituentArr=[],c.reportid=null}},c.CompletetedReport=function(){if(c.jurisdictionsArr.length<249){if(1==c.DefaultCBCReport.length&&1==c.showConstEntityDiv&&null!==c.reportid&&void 0==c.constEntityId){if(c.jurisdictionsArr[c.reportid].Summary=angular.copy(c.DefaultCBCReport[0].Summary),c.jurisdictionsArr[c.reportid].ResCountryCode=angular.copy(c.DefaultCBCReport[0].ResCountryCode),c.jurisdictionsArr[c.reportid].DocSpec=angular.copy(c.DefaultCBCReport[0].DocSpec),c.DefaultCBCReport[0].ConstEntities[0]){var e=angular.element(CBCReportFormDiv).scope().ConstituentFormValid();e&&(c.constituentArr.push(c.DefaultCBCReport[0].ConstEntities[0]),c.jurisdictionsArr[c.reportid].ConstEntities=angular.copy(c.constituentArr))}}else if(1==c.DefaultCBCReport.length&&1==c.showreportDiv&&null==c.reportid&&void 0==c.constEntityId&&c.DefaultCBCReport[0].ConstEntities[0]){angular.isUndefined(c.DefaultCBCReport[0].DocSpec)&&(c.DefaultCBCReport[0].DocSpec={},c.DefaultCBCReport[0].DocSpec.DocTypeIndic={},c.DefaultCBCReport[0].DocSpec.DocTypeIndic["#text"]="OECD1");var t=angular.element(CBCReportFormDiv).scope().CBCReportFormValid();if(!t)return;c.jurisdictionsArr.push(c.DefaultCBCReport[0]);var n=c.jurisdictionsArr.length-1;c.constituentArr.push(c.DefaultCBCReport[0].ConstEntities[0]),c.DefaultCBCReport[0].ConstEntities=angular.copy(c.constituentArr),c.jurisdictionsArr[n]=angular.copy(c.DefaultCBCReport[0])}c.showreportDiv=!1,c.showConstEntityDiv=!1,c.DefaultCBCReport=[{ConstEntities:[{ConstEntity:{Name:[],ResCountryCode:""},BizActivities:[null]}]}],c.constituentArr=[],c.reportid=null}else swal("Error","The maximum number to be captured is 249"),c.showreportDiv=!1,c.reportid=null},c.ShowCBCContainer=function(){if(c.jurisdictionsArr.length<249){if(1==c.DefaultCBCReport.length&&1==c.showConstEntityDiv&&null!==c.reportid&&void 0==c.constEntityId){if(c.jurisdictionsArr[c.reportid].Summary=angular.copy(c.DefaultCBCReport[0].Summary),c.jurisdictionsArr[c.reportid].DocSpec=angular.copy(c.DefaultCBCReport[0].DocSpec),c.jurisdictionsArr[c.reportid].ResCountryCode=angular.copy(c.DefaultCBCReport[0].ResCountryCode),c.DefaultCBCReport[0].ConstEntities[0]){var e=angular.element(CBCReportFormDiv).scope().ConstituentFormValid();e&&(c.constituentArr.push(c.DefaultCBCReport[0].ConstEntities[0]),c.jurisdictionsArr[c.reportid].ConstEntities=angular.copy(c.constituentArr))}}else if(1==c.DefaultCBCReport.length&&1==c.showreportDiv&&null==c.reportid&&void 0==c.constEntityId&&c.DefaultCBCReport[0].ConstEntities[0]){angular.isUndefined(c.DefaultCBCReport[0].DocSpec)&&(c.DefaultCBCReport[0].DocSpec={},c.DefaultCBCReport[0].DocSpec.DocTypeIndic={},c.DefaultCBCReport[0].DocSpec.DocTypeIndic["#text"]="OECD1");var t=angular.element(CBCReportFormDiv).scope().CBCReportFormValid();if(!t)return;c.jurisdictionsArr.push(c.DefaultCBCReport[0]);var n=c.jurisdictionsArr.length-1;c.constituentArr.push(c.DefaultCBCReport[0].ConstEntities[0]),c.DefaultCBCReport[0].ConstEntities=angular.copy(c.constituentArr),c.jurisdictionsArr[n]=angular.copy(c.DefaultCBCReport[0])}c.showreportDiv=!0,c.showConstEntityDiv=!0,c.DefaultCBCReport=[{ConstEntities:[{ConstEntity:{Name:[],ResCountryCode:""},BizActivities:[null]}]}],c.constituentArr=[],c.reportid=null}else swal("Error","The maximum number to be captured is 249"),c.showreportDiv=!1,c.reportid=null},e.tableRowExpanded=!1,e.tableRowIndexExpandedCurr="",e.tableRowIndexExpandedPrev="",e.storeIdExpanded="",e.dayDataCollapseFn=function(){e.dayDataCollapse=[];for(var t=0;t<c.jurisdictionsArr.length;t+=1)e.dayDataCollapse.push(!1)},e.selectTableRow=function(t){"undefined"==typeof e.dayDataCollapse&&e.dayDataCollapseFn(),e.tableRowExpanded===!1&&""===e.tableRowIndexExpandedCurr?(e.tableRowIndexExpandedPrev="",e.tableRowExpanded=!0,e.tableRowIndexExpandedCurr=t,e.dayDataCollapse[t]=!0):e.tableRowExpanded===!0&&(e.tableRowIndexExpandedCurr===t?(e.tableRowExpanded=!1,e.tableRowIndexExpandedCurr="",e.dayDataCollapse[t]=!1):(e.tableRowIndexExpandedPrev=e.tableRowIndexExpandedCurr,e.tableRowIndexExpandedCurr=t,e.dayDataCollapse[e.tableRowIndexExpandedPrev]=!1,e.dayDataCollapse[e.tableRowIndexExpandedCurr]=!0))},c.addCBCReport=function(e){var t=angular.element(CBCReportFormDiv).scope().CBCReportFormValid();return t?(c.myPromiseReport=n(function(){if(null==c.reportid)angular.isUndefined(e.DocSpec)&&(e.DocSpec={},e.DocSpec.DocTypeIndic={},e.DocSpec.DocTypeIndic["#text"]="OECD1"),c.jurisdictionsArr.length<249?(c.constituentArr.length>0&&1==c.showreportDiv&&(c.constituentArr.push(e.ConstEntities[0]),e.ConstEntities=c.constituentArr),c.jurisdictionsArr.push(e),noOfReports=c.jurisdictionsArr.length,c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports=c.jurisdictionsArr,c.formData.CountryByCountryDeclaration.NoOfTaxJurisdictions=noOfReports,angular.isUndefined(c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[noOfReports-1])?(c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[noOfReports-1]={},c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[noOfReports-1].NoOfConstituentEntities={},c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[noOfReports-1].NoOfConstituentEntities=c.constituentArr.length):angular.isUndefined(c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[noOfReports-1].NoOfConstituentEntities)&&(c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[noOfReports-1].NoOfConstituentEntities={},c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[noOfReports-1].NoOfConstituentEntities=c.constituentArr.length),c.$apply(),c.showreportDiv=!1,c.DefaultCBCReport=[{ConstEntities:[{ConstEntity:{Name:[],ResCountryCode:""},BizActivities:[null]}]}],c.constituentArr=[]):swal("Error","The maximum number to be captured is 249");else{if(c.jurisdictionsArr.length<249){var t=c.onEditreportConstEntitiesValid();if(!t)return;c.constituentArr.length>0&&1==c.showreportDiv&&(e.ConstEntities&&e.ConstEntities.length&&c.constituentArr.push(e.ConstEntities[0]),c.DefaultCBCReport[0].ConstEntities=angular.copy(c.constituentArr))}if(c.jurisdictionsArr[c.reportid]=angular.copy(c.DefaultCBCReport[0]),angular.isUndefined(c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[c.reportid])&&(c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[c.reportid]={},c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[c.reportid].NoOfConstituentEntities={}),!(e.ConstEntities&&e.ConstEntities.length>=0))return c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[c.reportid].NoOfConstituentEntities=0,void swal("Error","Please complete at least one Constituent Entity for this report before proceeding.");c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[c.reportid].NoOfConstituentEntities=c.constituentArr.length,c.$apply(),c.showreportDiv=!0,c.reportid=null,c.constObj=c.addNewConstituentObj(),c.DefaultCBCReport=[{ConstEntities:[{ConstEntity:{Name:[]},BizActivities:[null]}]}],c.constituentArr=[]}},2e3).then(function(){}).then(function(){}).then(function(){}),c.myPromiseReport):t},c.EditCBCReport=function(e,t){c.showreportDiv=!0,t&&(t.preventDefault(),t.stopPropagation()),c.reportid=e,c.DefaultCBCReport[0]=angular.copy(c.jurisdictionsArr[e]),angular.isDefined(c.DefaultCBCReport[0].ResCountryCode)&&(c.resCountryName=c.getNameOfSelectedCountryCode(c.DefaultCBCReport[0].ResCountryCode)),c.jurisdictionsArr[e].ConstEntities&&(c.constituentArr=angular.copy(c.jurisdictionsArr[e].ConstEntities)),c.DefaultCBCReport[0].ConstEntities=[]},c.EditConstituentEntity=function(e,t){c.showConstEntityDiv=!0,c.reportid=e,c.constEntityId=t,null==c.jurisdictionsArr[e].ConstEntities[t]&&(c.jurisdictionsArr[e].ConstEntities[t]={}),c.DefaultCBCReport[0].ConstEntities[0]=angular.copy(c.jurisdictionsArr[e].ConstEntities[t]),angular.isDefined(c.DefaultCBCReport[0].ConstEntities[0].ConstEntity.ResCountryCode)&&(c.entityResCountryName=c.getNameOfSelectedCountryCode(c.DefaultCBCReport[0].ConstEntities[0].ConstEntity.ResCountryCode))},c.updateConstituentEntity=function(e,t){var n=angular.element(CBCReportFormDiv).scope().ConstituentFormValid();n&&(c.constituentArr[t]=angular.copy(c.DefaultCBCReport[0].ConstEntities[0]),c.jurisdictionsArr[c.reportid].ConstEntities[t]=angular.copy(c.constituentArr[t]),c.DefaultCBCReport[0].ConstEntities=[],c.showConstEntityDiv=!1,c.constEntityId=void 0)},c.cancelUpdateConstituentEntity=function(e,t){swal({title:"Are you sure?",text:"You will not be able to recover the Changes to the Constituent Entity!",type:"warning",showCancelButton:!0,confirmButtonText:"Yes,Delete",cancelButtonText:"No, Cancel",confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",allowOutsideClick:!1}).then(function(e){e&&(c.showConstEntityDiv=!1,c.$apply(),c.DefaultCBCReport[0].ConstEntities=[]),c.constEntityId=void 0},function(e){})},c.RemoveConstituentEntity=function(e,t){swal({title:"Are you sure?",text:"You will not be able to recover the contents of this Constituent Entity!",type:"warning",showCancelButton:!0,confirmButtonText:"Yes,Delete",cancelButtonText:"No, Cancel",confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",allowOutsideClick:!1}).then(function(n){n&&(c.jurisdictionsArr[e].ConstEntities.length>1?(c.constituentArr.splice(t,1),c.jurisdictionsArr[e].ConstEntities.splice(t,1),c.$apply(),swal("Deleted!","The Constituent Entity has been deleted.","success")):swal(" ","Your should have atleast one Constituent Entity","warning"),angular.isUndefined(c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[e])&&(c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[e]={},c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[e].NoOfConstituentEntities={}),c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[e].NoOfConstituentEntities=c.constituentArr.length)},function(e){})},c.constObj={},c.addConstituentEntity=function(e,t){if(t&&(t.preventDefault(),t.stopPropagation()),c.constituentArr.length>=350)return void swal("Error","The maximum number to be captured is 350");if(null==!c.reportid){var o=c.onEditreportConstEntitiesValid();if(!o)return}var r=angular.element(CBCReportFormDiv).scope().CBCReportFormValid();return r?e.ConstEntities&&e.ConstEntities.length?(c.myPromiseConstituent=n(function(){if(c.constituentArr.length<350){if(e.ConstEntities&&e.ConstEntities.length>0&&null!==c.reportid)c.constituentArr.push(e.ConstEntities[0]),c.jurisdictionsArr[c.reportid].ConstEntities=angular.copy(c.constituentArr);else{angular.isUndefined(e.DocSpec)&&(e.DocSpec={},e.DocSpec.DocTypeIndic={},e.DocSpec.DocTypeIndic["#text"]="OECD1"),c.jurisdictionsArr.push(e);var t=c.jurisdictionsArr.length-1;c.constituentArr.push(e.ConstEntities[0]),c.DefaultCBCReport[0].ConstEntities=angular.copy(c.constituentArr),c.jurisdictionsArr[t]=angular.copy(c.DefaultCBCReport[0]),c.reportid=t}c.showConstEntityDiv=!0,c.DefaultCBCReport[0].ConstEntities=[{ConstEntity:{Name:[]},BizActivities:[null]}]}else swal("Error","The maximum number to be captured is 350")},1e3).then(function(){}).then(function(){}).then(function(){}),c.myPromiseConstituent):(c.showConstEntityDiv=!0,c.DefaultCBCReport[0].ConstEntities=[{ConstEntity:{Name:[]},BizActivities:[null]}],!1):(c.showConstEntityDiv=!0,void(c.DefaultCBCReport[0].ConstEntities=[{ConstEntity:{Name:[]},BizActivities:[null]}]))},c.RemoveCBCReport=function(e,t){swal({title:"Are you sure?",text:"You will not be able to recover this CBC Report and its Constituent Entities!",type:"warning",showCancelButton:!0,confirmButtonText:"Yes,Delete",cancelButtonText:"No, Cancel",confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",allowOutsideClick:!1}).then(function(t){t&&(c.jurisdictionsArr.length>1?(c.jurisdictionsArr.splice(e,1),noOfReports=c.jurisdictionsArr.length,c.formData.CountryByCountryDeclaration.NoOfTaxJurisdictions=noOfReports,c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction.splice(e,1),c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports=c.jurisdictionsArr,swal("Deleted!","Your CBC Report has been deleted.","success"),c.$apply()):swal(" ","Your should Have atleast one report","warning"))},function(e){})},c.addRemoveCbcConstituent=function(e,t,n){var o=0,r=Number(e.target.value),i=t.ConstEntities.length;r>350&&(swal("Error","The maximum number to be captured is 350"),c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[n].NoOfConstituentEntities=i,r=0),0===r&&(a.repeatRetirementMessage(),c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[n].NoOfConstituentEntities="1",r=1);var s=0;if(Number(r)>i)for(s=i>0?r-i:r,o=0;s>o;o++)t.ConstEntities.push(c.addNewConstituentObj());else{var l=t.ConstEntities.length-Number(r);for(o;l>o;o++)t.ConstEntities.splice(t.ConstEntities.length-1)}if(c.$apply(),t.ConstEntities.length>0){if(angular.isUndefined(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.ConstEntities)||null==c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.ConstEntities){var u={};c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.ConstEntities=u}t.ConstEntities.length>1?c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.ConstEntities=t.ConstEntities:c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.ConstEntities=t.ConstEntities[0],c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.ConstEntities.ConstEntity.Name=[],c.initArray()}},c.updateCbcReport=function(){var e=[];e=c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports;if(e){if(angular.isArray(e)){var t=e.length;c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction=new Array(t);for(var n=0;t>n;n++){var o=e[n];if((angular.isUndefined(o.ConstEntities)||null==o.ConstEntities)&&(o.ConstEntities=[{ConstEntity:{Name:[null]},BizActivities:[null]}]),angular.isDefined(o.Summary.ProfitOrLoss)&&null!==o.Summary.ProfitOrLoss&&!angular.isObject(o.Summary.ProfitOrLoss)){var r=o.Summary.ProfitOrLoss;o.Summary.ProfitOrLoss={},c.isCurrencyCode(r)?o.Summary.ProfitOrLoss["@currCode"]=r:o.Summary.ProfitOrLoss["#text"]=r}if(angular.isDefined(o.Summary.Capital)&&null!==o.Summary.Capital&&!angular.isObject(o.Summary.Capital)){var r=o.Summary.Capital;o.Summary.Capital={},c.isCurrencyCode(r)?o.Summary.Capital["@currCode"]=r:o.Summary.Capital["#text"]=r}if(angular.isDefined(o.Summary.TaxPaid)&&null!==o.Summary.TaxPaid&&!angular.isObject(o.Summary.TaxPaid)){var r=o.Summary.TaxPaid;o.Summary.TaxPaid={},c.isCurrencyCode(r)?o.Summary.TaxPaid["@currCode"]=r:o.Summary.TaxPaid["#text"]=r}if(angular.isDefined(o.Summary.Earnings)&&null!==o.Summary.Earnings&&!angular.isObject(o.Summary.Earnings)){var r=o.Summary.Earnings;o.Summary.Earnings={},c.isCurrencyCode(r)?o.Summary.Earnings["@currCode"]=r:o.Summary.Earnings["#text"]=r}if(angular.isDefined(o.Summary.TaxAccrued)&&null!==o.Summary.TaxAccrued&&!angular.isObject(o.Summary.TaxAccrued)){var r=o.Summary.TaxAccrued;o.Summary.TaxAccrued={},c.isCurrencyCode(r)?o.Summary.TaxAccrued["@currCode"]=r:o.Summary.TaxAccrued["#text"]=r}if(angular.isDefined(o.Summary.Assets)&&null!==o.Summary.Assets&&!angular.isObject(o.Summary.Assets)){var r=o.Summary.Assets;o.Summary.Assets={},c.isCurrencyCode(r)?o.Summary.Assets["@currCode"]=r:o.Summary.Assets["#text"]=r}if(angular.isDefined(o.Summary.Revenues.Unrelated)&&null!==o.Summary.Revenues.Unrelated&&!angular.isObject(o.Summary.Revenues.Unrelated)){var r=o.Summary.Revenues.Unrelated;o.Summary.Revenues.Unrelated={},c.isCurrencyCode(r)?o.Summary.Revenues.Unrelated["@currCode"]=r:o.Summary.Revenues.Unrelated["#text"]=r}if(angular.isDefined(o.Summary.Revenues.Related)&&null!==o.Summary.Revenues.Related&&!angular.isObject(o.Summary.Revenues.Related)){var r=o.Summary.Revenues.Related;o.Summary.Revenues.Related={},c.isCurrencyCode(r)?o.Summary.Revenues.Related["@currCode"]=r:o.Summary.Revenues.Related["#text"]=r}if(angular.isDefined(o.Summary.Revenues.Total)&&null!==o.Summary.Revenues.Total&&!angular.isObject(o.Summary.Revenues.Total)){var r=o.Summary.Revenues.Total;o.Summary.Revenues.Total={},c.isCurrencyCode(r)?o.Summary.Revenues.Total["@currCode"]=r:o.Summary.Revenues.Total["#text"]=r}if(angular.isDefined(o.DocSpec.DocTypeIndic)&&null!==o.DocSpec.DocTypeIndic&&!angular.isObject(o.DocSpec.DocTypeIndic)){var r=o.DocSpec.DocTypeIndic;o.DocSpec.DocTypeIndic={},r.length<6?o.DocSpec.DocTypeIndic["#text"]=r:o.DocSpec.DocTypeIndic["#text"]="OECD1"}c.updateconstEntities(o),c.jurisdictionsArr.push(o),c.$apply()}}else if(angular.isObject(e)){if(c.cbcReportList=c.updateconstEntities(e),angular.isDefined(e.Summary.ProfitOrLoss)&&null!==e.Summary.ProfitOrLoss&&!angular.isObject(e.Summary.ProfitOrLoss)){var r=e.Summary.ProfitOrLoss;e.Summary.ProfitOrLoss={},c.isCurrencyCode(r)?e.Summary.ProfitOrLoss["@currCode"]=r:e.Summary.ProfitOrLoss["#text"]=r}if(angular.isDefined(e.Summary.Capital)&&null!==e.Summary.Capital&&!angular.isObject(e.Summary.Capital)){var r=e.Summary.Capital;e.Summary.Capital={},c.isCurrencyCode(r)?e.Summary.Capital["@currCode"]=r:e.Summary.Capital["#text"]=r}if(angular.isDefined(e.Summary.TaxPaid)&&null!==e.Summary.TaxPaid&&!angular.isObject(e.Summary.TaxPaid)){var r=e.Summary.TaxPaid;e.Summary.TaxPaid={},c.isCurrencyCode(r)?e.Summary.TaxPaid["@currCode"]=r:e.Summary.TaxPaid["#text"]=r}if(angular.isDefined(e.Summary.Earnings)&&null!==e.Summary.Earnings&&!angular.isObject(e.Summary.Earnings)){var r=e.Summary.Earnings;e.Summary.Earnings={},c.isCurrencyCode(r)?e.Summary.Earnings["@currCode"]=r:e.Summary.Earnings["#text"]=r}if(angular.isDefined(e.Summary.TaxAccrued)&&null!==e.Summary.TaxAccrued&&!angular.isObject(e.Summary.TaxAccrued)){var r=e.Summary.TaxAccrued;e.Summary.TaxAccrued={},c.isCurrencyCode(r)?e.Summary.TaxAccrued["@currCode"]=r:e.Summary.TaxAccrued["#text"]=r}if(angular.isDefined(e.Summary.Assets)&&null!==e.Summary.Assets&&!angular.isObject(e.Summary.Assets)){var r=e.Summary.Assets;e.Summary.Assets={},c.isCurrencyCode(r)?e.Summary.Assets["@currCode"]=r:e.Summary.Assets["#text"]=r}if(angular.isDefined(e.Summary.Revenues.Unrelated)&&null!==e.Summary.Revenues.Unrelated&&!angular.isObject(e.Summary.Revenues.Unrelated)){var r=e.Summary.Revenues.Unrelated;e.Summary.Revenues.Unrelated={},c.isCurrencyCode(r)?e.Summary.Revenues.Unrelated["@currCode"]=r:e.Summary.Revenues.Unrelated["#text"]=r}if(angular.isDefined(e.Summary.Revenues.Related)&&null!==e.Summary.Revenues.Related&&!angular.isObject(e.Summary.Revenues.Related)){var r=e.Summary.Revenues.Related;e.Summary.Revenues.Related={},c.isCurrencyCode(r)?e.Summary.Revenues.Related["@currCode"]=r:e.Summary.Revenues.Related["#text"]=r}if(angular.isDefined(e.Summary.Revenues.Total)&&null!==e.Summary.Revenues.Total&&!angular.isObject(e.Summary.Revenues.Total)){var r=e.Summary.Revenues.Total;e.Summary.Revenues.Total={},c.isCurrencyCode(r)?e.Summary.Revenues.Total["@currCode"]=r:e.Summary.Revenues.Total["#text"]=r}if(angular.isDefined(e.DocSpec.DocTypeIndic)&&null!==e.DocSpec.DocTypeIndic&&!angular.isObject(e.DocSpec.DocTypeIndic)){var r=e.DocSpec.DocTypeIndic;e.DocSpec.DocTypeIndic={},r.length<6?e.DocSpec.DocTypeIndic["#text"]=r:e.DocSpec.DocTypeIndic["#text"]="OECD1"}c.jurisdictionsArr.push(e),c.$apply()}}else c.showreportDiv=!0;c.updateNoOfConstituentEntities()},c.isCurrencyCode=function(e){return e&&null!==e?3!==e.length||angular.isNumber(e)?!1:!0:!1},c.isIssuedByCode=function(e){return e&&null!==e?2!==e.length||angular.isNumber(e)?!1:!0:!1},c.updateconstEntities=function(e){var t=[];if(angular.isDefined(e.ConstEntities)&&null!==e.ConstEntities)if(t=e.ConstEntities,angular.isArray(t))for(var n=t.length,o=0;n>o;o++){var r=[],a=t[o];if(angular.isDefined(a)&&null!==a)if(angular.isDefined(a.ConstEntity)&&null!==a.ConstEntity){
if(angular.isDefined(a.ConstEntity.Name)&&null!==a.ConstEntity.Name&&!angular.isArray(a.ConstEntity.Name)){var i=a.ConstEntity.Name;r.push(i),a.ConstEntity.Name=r}if(angular.isDefined(a.ConstEntity.IN)&&null!==a.ConstEntity.IN&&!angular.isObject(a.ConstEntity.IN)){var s=a.ConstEntity.IN;a.ConstEntity.IN={},c.isIssuedByCode(s)?a.ConstEntity.IN["@issuedBy"]=s:a.ConstEntity.IN["#text"]=s}if(angular.isDefined(a.ConstEntity.TIN)&&null!==a.ConstEntity.TIN&&!angular.isObject(a.ConstEntity.TIN)){var s=a.ConstEntity.TIN;a.ConstEntity.TIN={},c.isIssuedByCode(s)?a.ConstEntity.TIN["@issuedBy"]=s:a.ConstEntity.TIN["#text"]=s}if(angular.isDefined(a.ConstEntity.Address)&&null!==a.ConstEntity.Address&&!angular.isObject(a.ConstEntity.Address)){var s=a.ConstEntity.Address;a.ConstEntity.Address={},c.isIssuedByCode(s)?(a.ConstEntity.Address.CountryCode=s,a.ConstEntity.Address.AddressFree=s):a.ConstEntity.Address["@legalAddressType"]=s}}else null==a.ConstEntity&&(a.ConstEntity={});else null==a&&(a={ConstEntity:{Name:[]},BizActivities:[null]});angular.isDefined(a)&&null!==a&&(a=c.updateMainBusinessAc(a))}else if(angular.isObject(t)){var l=[],r=[];if(angular.isDefined(t.ConstEntity)&&angular.isDefined(t.ConstEntity.Name)){if(!angular.isArray(t.ConstEntity.Name)){var i=t.ConstEntity.Name;r.push(i),t.ConstEntity.Name=r}if(angular.isDefined(t.ConstEntity.TIN)&&null!==t.ConstEntity.TIN&&!angular.isObject(t.ConstEntity.TIN)){var s=t.ConstEntity.TIN;t.ConstEntity.TIN={},c.isIssuedByCode(s)?t.ConstEntity.TIN["@issuedBy"]=s:t.ConstEntity.TIN["#text"]=s}if(angular.isDefined(t.ConstEntity.IN)&&null!==t.ConstEntity.IN&&!angular.isObject(t.ConstEntity.IN)){var s=t.ConstEntity.IN;t.ConstEntity.IN={},c.isIssuedByCode(s)?t.ConstEntity.IN["@issuedBy"]=s:t.ConstEntity.IN["#text"]=s}if(angular.isDefined(t.ConstEntity.Address)&&null!==t.ConstEntity.Address&&!angular.isObject(t.ConstEntity.Address)){var s=t.ConstEntity.Address;t.ConstEntity.Address={},c.isIssuedByCode(s)?(t.ConstEntity.Address.CountryCode=s,t.ConstEntity.Address.AddressFree=s):t.ConstEntity.Address["@legalAddressType"]=s}}l.push(t),e.ConstEntities=l,c.updateMainBusinessAc(t)}return e},c.updateMainBusinessAc=function(e){var t=[];if(angular.isDefined(e)&&null!==e)if(t=e.BizActivities,t&&null!==t){if(angular.isArray(t)){for(var n=t.length,o=0;n>o;o++)"CBC513"===t[o]&&(angular.isUndefined(e.OtherEntityInfo)||null==e.OtherEntityInfo)&&(c.otherBusinessActivityIsRequired=!0);return}var r=[];r.push(t),e.BizActivities=r}else e.BizActivities=[null];return e},c.addmainBusinessAc=function(e){e.BizActivities.length<13?e.BizActivities.push(c.addmainBusinessAcObj()):swal("Error","The maximum number to be captured is 13")},c.removeMainBusinessAc=function(e,t){if(e.BizActivities.length>1){e.BizActivities.splice(t,1);for(var n=e.BizActivities.length,o=0;n>o;o++){if("CBC513"===e.BizActivities[o])return void(c.otherBusinessActivityIsRequired=!0);c.otherBusinessActivityIsRequired=!1}}},c.addOtherInforMAtionCon=function(e){return e&&(e.preventDefault(),e.stopPropagation()),c.myPromiseOtherInforMAtion=n(function(){c.otherInforArr.push(c.addadditionalInfor()),(angular.isUndefined(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo)||null==c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo)&&(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo={}),c.otherInforArr.length>1?c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo=c.otherInforArr:c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo=c.otherInforArr[0]},4e3).then(function(){}).then(function(){}).then(function(){}),c.myPromiseOtherInforMAtion},c.removeOtherInforMAtionCon=function(e){c.otherInforArr.length>1&&c.otherInforArr.splice(e,1),c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo=c.otherInforArr},c.updateAdditionalInfor=function(){var e=[];if((angular.isUndefined(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo)||null==c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo)&&(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo={}),e=c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo)if(angular.isArray(e))for(var t=e.length,n=0;t>n;n++){var o=e[n];if(angular.isObject(o.ResCountryCode)||(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[n].ResCountryCode=[o.ResCountryCode]),!angular.isObject(o.DocSpec.DocTypeIndic)){var r=o.DocSpec.DocTypeIndic;o.DocSpec.DocTypeIndic={},6>r?o.DocSpec.DocTypeIndic["#text"]=r:o.DocSpec.DocTypeIndic["#text"]="OECD1"}angular.isObject(o.SummaryRef)||(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[n].SummaryRef=[o.SummaryRef]),c.otherInforArr.push(o)}else angular.isObject(e)&&(c.otherInforArr.push(e),c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo=c.otherInforArr,angular.isObject(e.ResCountryCode)||(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[0].ResCountryCode=[e.ResCountryCode]),angular.isObject(e.SummaryRef)||(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[0].SummaryRef=[e.SummaryRef]))},c.changeIntoAnArr=function(){try{var e=[];if((angular.isUndefined(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity)||null==c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity)&&(angular.isUndefined(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN)||null==c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN)&&(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN={},e=c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN)){if(angular.isArray(e))return;if(angular.isObject(e)){var t=[];t.push(e),c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN=t}}}catch(n){}},c.addResidentCountry=function(e){e.ResCountryCode.push(null)},c.RemoveResidentCountry=function(e,t){e.ResCountryCode.length>1&&e.ResCountryCode.splice(t,1)},c.addSummaryRef=function(e){e.SummaryRef.push(null)},c.RemoveRSummaryRef=function(e,t){e.SummaryRef.length>1&&e.SummaryRef.splice(t,1)},u.getAngularData=function(){if(c.jurisdictionsArr.length<1)1==c.DefaultCBCReport.length&&1==c.showreportDiv&&(c.constituentArr.length>=0&&c.constituentArr.length<351&&(c.DefaultCBCReport[0].ConstEntities[0]&&c.DefaultCBCReport[0].ConstEntities.length&&c.constituentArr.push(c.DefaultCBCReport[0].ConstEntities[0]),c.DefaultCBCReport[0].ConstEntities=angular.copy(c.constituentArr)),c.jurisdictionsArr.push(c.DefaultCBCReport[0]),noOfReports=c.jurisdictionsArr.length,c.formData.CountryByCountryDeclaration.NoOfTaxJurisdictions=noOfReports,angular.isDefined(c.formData.CountryByCountryDeclaration.TaxJurisdictions)&&null!==c.formData.CountryByCountryDeclaration.TaxJurisdictions&&angular.isUndefined(c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[noOfReports-1])&&(c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[noOfReports-1]={},c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[noOfReports-1].NoOfConstituentEntities={},c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[noOfReports-1].NoOfConstituentEntities=c.constituentArr.length),c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports=c.jurisdictionsArr);else if(1==c.DefaultCBCReport.length&&1==c.showreportDiv&&null==c.reportid){c.constituentArr.length>=0&&c.constituentArr.length<351&&(c.DefaultCBCReport[0].ConstEntities[0]&&c.DefaultCBCReport[0].ConstEntities.length&&c.constituentArr.push(c.DefaultCBCReport[0].ConstEntities[0]),c.DefaultCBCReport[0].ConstEntities=angular.copy(c.constituentArr));var e=angular.element(CBCReportFormDiv).scope().CBCReportFormValidWithoutMessages();e&&c.jurisdictionsArr.push(c.DefaultCBCReport[0]),noOfReports=c.jurisdictionsArr.length,c.formData.CountryByCountryDeclaration.NoOfTaxJurisdictions=noOfReports,angular.isDefined(c.formData.CountryByCountryDeclaration.TaxJurisdictions)&&null!==c.formData.CountryByCountryDeclaration.TaxJurisdictions&&angular.isUndefined(c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[noOfReports-1])&&(c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[noOfReports-1]={},c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[noOfReports-1].NoOfConstituentEntities={},c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[noOfReports-1].NoOfConstituentEntities=c.DefaultCBCReport[0].ConstEntities.length),c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports=c.jurisdictionsArr}else c.constituentArr.length>=0&&c.constituentArr.length<351&&(void 0==c.constEntityId?c.DefaultCBCReport[0].ConstEntities[0]&&c.DefaultCBCReport[0].ConstEntities.length&&c.constituentArr.push(c.DefaultCBCReport[0].ConstEntities[0]):c.constituentArr[c.constEntityId]=angular.copy(c.DefaultCBCReport[0].ConstEntities[0]),c.DefaultCBCReport[0].ConstEntities=angular.copy(c.constituentArr)),c.jurisdictionsArr[c.reportid]=angular.copy(c.DefaultCBCReport[0]),c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports=c.jurisdictionsArr;c.showreportDiv=!1;var t=c.jurisdictionsArr.length;if(angular.isUndefined(c.formData.CountryByCountryDeclaration.NoOfTaxJurisdictions)&&(c.formData.CountryByCountryDeclaration.NoOfTaxJurisdictions={}),c.formData.CountryByCountryDeclaration.NoOfTaxJurisdictions=t,t>0)for(var n=0;t>n;n++)jurisdiction=c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports[n],angular.isUndefined(jurisdiction.DocSpec)?(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports[n].DocSpec={},c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports[n].DocSpec.DocTypeIndic={},c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports[n].DocSpec.DocTypeIndic["#text"]="OECD1"):(""==c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports[n].DocSpec.DocTypeIndic["#text"]||angular.isUndefined(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports[n].DocSpec.DocTypeIndic["#text"]))&&(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports[n].DocSpec.DocTypeIndic["#text"]="OECD1"),(angular.isUndefined(c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[n])||null==c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[n])&&(c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[n]={},angular.isUndefined(c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[n].NoOfConstituentEntities)&&(c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[n].NoOfConstituentEntities={})),angular.isDefined(c.jurisdictionsArr[n].ConstEntities)&&(c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction[n].NoOfConstituentEntities=c.jurisdictionsArr[n].ConstEntities.length),c.$apply();if(null!=c.formData.CountryByCountryDeclaration.DeclarationDate||void 0!=c.formData.CountryByCountryDeclaration.DeclarationDate){var o=c.formData.CountryByCountryDeclaration.DeclarationDate,r=moment(o,"YYYYMMDD").format("YYYY-MM-DD");moment(r,"YYYY-MM-DD").isValid()&&(c.formData.CountryByCountryDeclaration.DeclarationDate=r)}if((null!=c.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec||void 0!=c.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec)&&(c.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.TransmittingCountry="ZA",c.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReceivingCountry="ZA",c.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.MessageType="CBC",c.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.SendingEntityIN=c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.Name[0],c.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.Language="EN",c.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.Warning="None",c.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.Contact="SARS",null!=c.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod||void 0!=c.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod)){var a=c.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod,i=moment(a,"YYYYMMDD").format("YYYY-MM-DD");if(!moment(i,"YYYY-MM-DD").isValid())return void(c.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod="");c.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod=i,angular.isUndefined(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocRefId)||null===c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocRefId?c.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.MessageTypeIndic="CBC401":(""==c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocTypeIndic["#text"]&&(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocTypeIndic["#text"]="OECD1"),c.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.MessageTypeIndic="CBC402")}var l=c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo.length;if(l>0)for(var n=0;l>n;n++)additionaInfo=c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[n],angular.isUndefined(additionaInfo.DocSpec)?(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[n].DocSpec={},c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[n].DocSpec.DocTypeIndic={},c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[n].DocSpec.DocTypeIndic["#text"]="OECD1"):(""==c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[n].DocSpec.DocTypeIndic["#text"]||angular.isUndefined(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[n].DocSpec.DocTypeIndic["#text"]))&&(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[n].DocSpec.DocTypeIndic["#text"]="OECD1");return c.$apply(),s.getData(c.formData)},c.checkCompanyReg=function(e){var t=e.target.value;return""==t||o.validateCompanyRegNo(t)?void 0:(e.target.value="",void alert("Number Not Correct"))},u.setFormData=function(e,t,n){c.updateOnloadinitArray();var o=angular.fromJson(e);if(c.formData=o,c.arrCreationForEntityName(),c.arrCreationForEntityIn(),!(null==c.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec&&void 0==c.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec||null==c.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod&&void 0==c.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod)){angular.isObject(c.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod)&&(c.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod=c.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod["#text"]);var r=c.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod;if(10==c.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod.length){var a=moment(r,"YYYY-MM-DD").format("YYYYMMDD");moment(a,"YYYYMMDD").isValid()?c.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod=a:c.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod=""}else if(moment(r,"YYYYMMDD").isValid()){var a=moment(r,"YYYY-MM-DD").format("YYYYMMDD");c.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod=a}else swal("Error","The Reporting Period (CCYYMMDD) you have entered does not seem to be valid. Please ensure that it is correct.<br/>HINTS:<br/>  Format:CCYYMMDD. <br/> Only numeric digits may be used."),c.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod=""}if(null!=c.formData.CountryByCountryDeclaration.DeclarationDate||void 0!=c.formData.CountryByCountryDeclaration.DeclarationDate){var i=c.formData.CountryByCountryDeclaration.DeclarationDate;if(10==c.formData.CountryByCountryDeclaration.DeclarationDate.length){var s=moment(i,"YYYY-MM-DD").format("YYYYMMDD");c.formData.CountryByCountryDeclaration.DeclarationDate=s}else if(moment(i,"YYYYMMDD").isValid()){var s=moment(i,"YYYY-MM-DD").format("YYYYMMDD");c.formData.CountryByCountryDeclaration.DeclarationDate=s}else swal("Error","The Declaration Date (CCYYMMDD) you have entered does not seem to be valid. Please ensure that it is correct.<br/>HINTS:<br/>  Format:CCYYMMDD. <br/> Only numeric digits may be used."),c.formData.CountryByCountryDeclaration.DeclarationDate=""}if(angular.isDefined(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.TIN)&&null!==c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.TIN&&!angular.isObject(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.TIN)){var l=c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.TIN;c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.TIN={},l.length>2?(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.TIN["#text"]=l,c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.TIN["@issuedBy"]="ZA"):(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.TIN["#text"]=l,c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.TIN["@issuedBy"]="ZA")}if(angular.isDefined(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN)&&null!==c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN&&!angular.isObject(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN)){var l=c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN;c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN=[],l.length>2?(angular.isUndefined(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN[0])&&(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN[0]={}),c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN[0]["#text"]=l,c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN[0]["@issuedBy"]="ZA"):(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN[0]["#text"]=l,c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN[0]["@issuedBy"]="ZA")}if(angular.isUndefined(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec)&&(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec={},c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocTypeIndic={},c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocTypeIndic["#text"]="OECD1"),angular.isUndefined(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocTypeIndic))c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocTypeIndic={},c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocTypeIndic["#text"]="OECD1";else if(!angular.isObject(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocTypeIndic)){var l=c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocTypeIndic;c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocTypeIndic={},l.length<6?c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocTypeIndic["#text"]=l:c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocTypeIndic="OECD1"}if(angular.isUndefined(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo)&&(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo=c.addadditionalInfor()),angular.isUndefined(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo.DocSpec)){var u=[];if(u=c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo,angular.isArray(u)){var d=u.length;if(d>0)for(var C=0;d>C;C++){var m=u[C];angular.isObject(m.DocSpec)||(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[C].DocSpec={},c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[C].DocSpec.DocTypeIndic={},c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[C].DocSpec.DocTypeIndic["#text"]="OECD1",c.$apply())}else c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo.DocSpec={},c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo.DocSpec.DocTypeIndic={},c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo.DocSpec.DocTypeIndic["#text"]="OECD1",c.$apply()}else if(angular.isObject(u)&&angular.isDefined(u.DocSpec.DocTypeIndic)&&null!==u.DocSpec.DocTypeIndic&&!angular.isObject(u.DocSpec.DocTypeIndic)){var l=u.DocSpec.DocTypeIndic;u.DocSpec.DocTypeIndic={},l.length<6?u.DocSpec.DocTypeIndic["#text"]=l:u.DocSpec.DocTypeIndic["#text"]="OECD1"}}else{var u=[];if(u=c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo,angular.isArray(u)){var d=u.length;if(d>0)for(var C=0;d>C;C++){var m=u[C];angular.isObject(m.DocSpec)||(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[C].DocSpec={},c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[C].DocSpec.DocTypeIndic={},c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo[C].DocSpec.DocTypeIndic["#text"]="OECD1",c.$apply())}else c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo.DocSpec={},c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo.DocSpec.DocTypeIndic={},c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.AdditionalInfo.DocSpec.DocTypeIndic["#text"]="OECD1",c.$apply()}else if(angular.isObject(u)&&angular.isDefined(u.DocSpec.DocTypeIndic)&&null!==u.DocSpec.DocTypeIndic&&!angular.isObject(u.DocSpec.DocTypeIndic)){var l=u.DocSpec.DocTypeIndic;u.DocSpec.DocTypeIndic={},l.length<6?u.DocSpec.DocTypeIndic["#text"]=l:u.DocSpec.DocTypeIndic["#text"]="OECD1"}}c.readOnly=t,c.prepop=n,c.changeIntoAnArr(),c.updateCbcReport(),c.updateAdditionalInfor(),c.$apply()},c.addnewObj=function(){return c.cbcreportModel={ConstEntities:[{BizActivities:[null]}],DocSpec:{DocTypeIndic:{"#text":"OECD1"}}},c.cbcreportModel},c.addNewConstituentObj=function(){return c.constituentModel={ConstEntity:{Name:[]},BizActivities:[null]},c.constituentModel},c.addTaxJusObj=function(){return c.cbcreportModel={NoOfConstituentEntities:null},c.cbcreportModel},c.addadditionalInfor=function(){return c.otherInforObj={ResCountryCode:[null],SummaryRef:[null],DocSpec:{DocTypeIndic:{"#text":"OECD1"}}},c.otherInforObj},c.addmainBusinessAcObj=function(){return c.mainBusAccobj=null,c.mainBusAccobj},c.initArray=function(){(angular.isUndefined(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ConstEntities)||null==c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ConstEntities)&&(c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.ConstEntities={},c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.ConstEntities.ConstEntity={},c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.ConstEntities.ConstEntity.Name=[])},c.updateOnloadinitArray=function(){c.formData.CountryByCountryDeclaration.CBC_OECD={},c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody={},c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity={},c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity={},c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.Name=[],c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN=[]},c.arrCreationForEntityName=function(){try{var e=c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.Name,t=[];e&&(angular.isArray(e)||(t.push(e),c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.Name=t))}catch(n){}},c.arrCreationForEntityIn=function(){try{var e=[],t=c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN;t&&(angular.isArray(t)||(-1==c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN["#text"].indexOf("/")&&e.push(null),e.push(t),c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN=e))}catch(n){}},c.updateNoOfConstituentEntities=function(){(angular.isUndefined(c.formData.CountryByCountryDeclaration.TaxJurisdictions)||null==c.formData.CountryByCountryDeclaration.TaxJurisdictions)&&(c.formData.CountryByCountryDeclaration.TaxJurisdictions={},c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction={});var e=[];if(e=c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction){if(angular.isArray(e))return;angular.isObject(e)&&(c.formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction=c.constEntitiesOnJusArr)}},c.taxNumberValidation=function(e){if(e){var t=e.target.value;""!=t&&r.taxReferenceNumberVAlidation(t).then(null,function(){a.taxRefNumberMessage(),c.formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.ConstEntities.ConstEntity.TIN["#text"]=""})}},c.mandatoryErrorMessage="Please ensure that you complete the following mandatory fields before submitting the form:<br/><br/>",c.isFormValid=function(){if(!c.CBCForm.$valid){var e=c.mandatoryErrorMessage,t=0,n=angular.element("input,textarea,select,checkbox,.ng-empty").filter("[required]"),o=0;o=n.length;for(var r=[],a=0;o>a;a++){var i=n[a].id,s=angular.element("#"+i).attr("data-fieldlabel");if(""!==s&&void 0!==s&&null!==s&&-1==r.indexOf(s)){var l="Additional Info";-1==s.indexOf(l)&&(r.push(s),t++,10>=t&&(e+="- "+r[r.length-1]+"<br/>"))}}if(t>10&&(e+="<br/>Note that you have more than 10 fields that need to be completed. These fields will be displayed once the above mentioned fields have been corrected."),r.length>0)return swal("Error",e),!1}if(c.jurisdictionsArr.length>0)for(var u=c.jurisdictionsArr.length,a=0;u>a;a++){var d=c.jurisdictionsArr[a];if(!c.reportSummaryIsValid(d)){var C="Please complete all the required fields for CBC Report "+(a+1);return swal("Error",C),!1}if(!c.reportConstEntitiesValid(d,a))return!1}if(c.otherInforArr.length>0){for(var m=c.otherInforArr.length,y=0;m>y;y++){var D=c.otherInforArr[y];if(!c.isAdditionalInfoValid(D)){var C="Please complete all the required fields for Additional Information "+(y+1);return swal("Error",C),!1}}return!0}return!0},c.isAdditionalInfoValid=function(e){return angular.isUndefined(e.OtherInfo)||null===e.OtherInfo||angular.isUndefined(e.ResCountryCode)||null===e.ResCountryCode||angular.isUndefined(e.SummaryRef)||null===e.SummaryRef||!c.isObjectRepeatingPropValid(e.SummaryRef)||!c.isObjectRepeatingPropValid(e.ResCountryCode)?!1:!0},c.isObjectRepeatingPropValid=function(e){var t=e.length;if(0==t)return!1;for(var n=0;t>n;n++){var o=e[n];if(angular.isUndefined(o)||null==o)return!1}return!0},c.reportSummaryIsValid=function(e){return angular.isUndefined(e.Summary)||angular.isUndefined(e.Summary.ProfitOrLoss)||angular.isUndefined(e.Summary.ProfitOrLoss["@currCode"])||""===e.Summary.ProfitOrLoss["@currCode"]||angular.isUndefined(e.Summary.ProfitOrLoss["#text"])||""===e.Summary.ProfitOrLoss["#text"]||angular.isUndefined(e.ResCountryCode)||angular.isUndefined(e.Summary.Capital)||null===e.Summary.Capital||angular.isUndefined(e.Summary.Capital["#text"])||""===e.Summary.Capital["#text"]||angular.isUndefined(e.Summary.Capital["@currCode"])||""===e.Summary.Capital["@currCode"]||angular.isUndefined(e.Summary.TaxPaid)||""===e.Summary.TaxPaid["#text"]||null===e.Summary.TaxPaid||angular.isUndefined(e.Summary.TaxPaid["#text"])||""===e.Summary.TaxPaid["@currCode"]||angular.isUndefined(e.Summary.TaxPaid["@currCode"])||angular.isUndefined(e.Summary.Earnings)||null===e.Summary.Earnings||angular.isUndefined(e.Summary.Earnings["#text"])||""===e.Summary.Earnings["#text"]||angular.isUndefined(e.Summary.Earnings["@currCode"])||""===e.Summary.Earnings["@currCode"]||angular.isUndefined(e.Summary.TaxAccrued)||""===e.Summary.TaxAccrued["#text"]||null===e.Summary.TaxAccrued||angular.isUndefined(e.Summary.TaxAccrued["#text"])||""===e.Summary.TaxAccrued["@currCode"]||angular.isUndefined(e.Summary.TaxAccrued["@currCode"])||angular.isUndefined(e.Summary.Assets)||angular.isUndefined(e.Summary.Assets["#text"])||""===e.Summary.Assets["#text"]||angular.isUndefined(e.Summary.Assets["@currCode"])||""===e.Summary.Assets["@currCode"]||null===e.Summary.Assets||angular.isUndefined(e.Summary.NbEmployees)||""===e.Summary.NbEmployees||null===e.Summary.NbEmployees||angular.isUndefined(e.Summary.Revenues)||angular.isUndefined(e.Summary.Revenues.Unrelated)||null===e.Summary.Revenues.Unrelated||angular.isUndefined(e.Summary.Revenues.Unrelated["#text"])||""===e.Summary.Revenues.Unrelated["#text"]||angular.isUndefined(e.Summary.Revenues.Unrelated["@currCode"])||""===e.Summary.Revenues.Unrelated["@currCode"]||angular.isUndefined(e.Summary.Revenues.Related)||""===e.Summary.Revenues.Related["#text"]||null===e.Summary.Revenues.Related||angular.isUndefined(e.Summary.Revenues.Related["#text"])||""===e.Summary.Revenues.Related["@currCode"]||angular.isUndefined(e.Summary.Revenues.Related["@currCode"])?!1:!0},c.onEditreportConstEntitiesValid=function(){if(angular.isUndefined(c.constituentArr)||0==c.constituentArr.length)return swal("Error","Please complete at least one Constituent Entity for the CBC Report "),!1;for(var e=c.constituentArr,t=e.length,n=0;t>n;n++){var o=e[n];if(!c.reportEntityIsValid(o)){var r="Please complete all the required fields for Constituent Entity "+(n+1)+" in CBC Report "+(c.reportid+1);return swal("Error",r),!1}}return!0},c.reportConstEntitiesValid=function(e,t){if(angular.isUndefined(e.ConstEntities)||0==e.ConstEntities.length)return swal("Error","Please complete at least one Constituent Entity for the CBC Report "),!1;for(var n=e.ConstEntities,o=n.length,r=0;o>r;r++){var a=n[r];if(!c.reportEntityIsValid(a)||null==a){var i="Please complete all the required fields for Constituent Entity "+(r+1)+" in CBC Report "+(t+1);return swal("Error",i),!1}}return!0},c.reportEntityIsValid=function(e){if(angular.isDefined(e)&&null!==e){if(angular.isDefined(e.ConstEntity)&&null!==e.ConstEntity){if(angular.isUndefined(e.ConstEntity.Name)||angular.isUndefined(e.ConstEntity.Name[0])||null===e.ConstEntity.Name||angular.isUndefined(e.ConstEntity.IN)||angular.isUndefined(e.ConstEntity.IN["#text"])||null===e.ConstEntity.IN||angular.isUndefined(e.ConstEntity.IN["@issuedBy"])||angular.isUndefined(e.ConstEntity.TIN)||null===e.ConstEntity.TIN||angular.isUndefined(e.ConstEntity.TIN["#text"])||angular.isUndefined(e.ConstEntity.TIN["@issuedBy"])||angular.isUndefined(e.ConstEntity.ResCountryCode)||angular.isUndefined(e.ConstEntity.Address)||null===e.ConstEntity.ResCountryCode||angular.isUndefined(e.ConstEntity.Address["@legalAddressType"])||angular.isUndefined(e.ConstEntity.Address.AddressFree)||null===e.ConstEntity.Address||angular.isUndefined(e.BizActivities)||null==e.BizActivities||!c.isBusinessActivitiesValid(e.BizActivities))return!1}else if(angular.isUndefined(e.ConstEntity))return!1}else if(angular.isUndefined(e)||null==e)return!1;return!0},c.isBusinessActivitiesValid=function(e){var t=e.length;if(0==t)return!1;for(var n=0;t>n;n++){var o=e[n];if(angular.isUndefined(o)||null==o)return!1}return!0},c.runEmailAddressValidationOnExitRules=function(e){if(""!==e.target.value&&"null"!==e.target.value){var t=e.target;r.isEmailAddressField(t).then(null,function(e){a.emailAddressMsg(e),c.formData.CountryByCountryDeclaration.ContactDetails.EmailAddress=""})}},c.runDateValidationOnExitRules=function(e){if(""!==e.target.value&&"null"!==e.target.value){
var t=e.target.value;e.target.tagName;i.isValidPeriodDate(t).then(null,function(e){a.ReportingPeriodMessage(),c.formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod=""})}},c.runDeclarationDateValidationOnExit=function(e){if(""!==e.target.value&&"null"!==e.target.value){var t=e.target.value;e.target.tagName;i.isValidDate(t).then(null,function(e){a.declarationDateMessage(),c.formData.CountryByCountryDeclaration.DeclarationDate=""})}},c.initNameArry=function(e){try{null==e.ConstEntity.Name&&(e.ConstEntity.Name=[null])}catch(t){}},c.deletionMessage=function(e,t){var n=t.target.value;("on"==n||"OECD3"==n)&&a.deletingRecordMessage().then(function(){},function(){e.DocSpec.DocTypeIndic="",c.$apply()})},c.deletionReportMessage=function(e,t){var n=t.target.value;("on"==n||"OECD3"==n)&&a.deletingRecordMessage().then(function(){},function(){e.DocSpec.DocTypeIndic="",c.$apply()})},c.deletionEntityMessage=function(e,t){var n=t.target.value;("on"==n||"OECD3"==n)&&a.deletingRecordMessage().then(function(){},function(){e.DocSpec.DocTypeIndic="",c.$apply()})},c.prepopValueWhenNotEmpty=function(e){var t=e.target.value;""!==t?c.prepopValue="US":c.prepopValue=""},c.telNumberValidation=function(e){var t=e.target.value;""!=t&&r.isMinNineTelPhone(e.target.value).then(null,function(){a.NumericCheckTelNumberMessage(e.target.name),e.target.value=""})},c.validateGIINNoField=function(e){if(""!==e.target.value&&null!==e.target.value&&"null"!==e.target.value){var t=e.target.value,n=r.isGIINNoField(t);n||(a.giinNumberCheckMsg(),e.target.value="")}},c.CBCReportFormValid=function(){if(!c.CBCReportFormDiv.$valid){var e=c.mandatoryErrorMessage,t=0,n=c.CBCReportFormDiv.$error.required,o=0;o=n.length;for(var r=[],a=0;o>a;a++){var i=n[a].$name;""!==i&&void 0!==i&&null!==i&&-1==r.indexOf(i)&&(r.push(i),t++,10>=t&&(e+="- "+r[r.length-1]+"<br/>"))}return t>10&&(e+="<br/>Note that you have more than 10 fields that need to be completed. These fields will be displayed once the above mentioned fields have been corrected."),swal("Error",e),!1}return!0},c.ConstituentFormValid=function(){if(!c.CBCReportFormDiv.ConstituentEntity.$valid){var e=c.mandatoryErrorMessage,t=0,n=c.CBCReportFormDiv.ConstituentEntity.$error.required,o=0;o=n.length;for(var r=[],a=0;o>a;a++){var i=n[a].$name;""!==i&&void 0!==i&&null!==i&&-1==r.indexOf(i)&&(r.push(i),t++,10>=t&&(e+="- "+r[r.length-1]+"<br/>"))}return t>10&&(e+="<br/>Note that you have more than 10 fields that need to be completed. These fields will be displayed once the above mentioned fields have been corrected."),swal("Error",e),!1}return!0},c.onResCountryCodeSelect=function(e){c.resCountryName=e.name},c.onSelectedBizActivity=function(e){for(var t=e.BizActivities.length,n=0;t>n;n++){if("CBC513"===e.BizActivities[n])return void(c.otherBusinessActivityIsRequired=!0);c.otherBusinessActivityIsRequired=!1}},c.onEntityResCodeSelect=function(e){c.entityResCountryName=e.name},c.getNameOfSelectedCountryCode=function(e){for(var t="",n=0;n<c.countrycodes.length;n++){var o=c.countrycodes[n];if(o.code===e){t=o.name;break}}return t},c.CBCReportFormValidWithoutMessages=function(){if(!c.CBCReportFormDiv.$valid){var e=c.mandatoryErrorMessage,t=0,n=c.CBCReportFormDiv.$error.required,o=0;if(o=n.length,8>=o)return!0;for(var r=[],a=0;o>a;a++){var i=n[a].$name;""!==i&&void 0!==i&&null!==i&&-1==r.indexOf(i)&&(r.push(i),t++,10>=t&&(e+="- "+r[r.length-1]+"<br/>"))}return t>10&&(e+="<br/>Note that you have more than 10 fields that need to be completed. These fields will be displayed once the above mentioned fields have been corrected."),!1}return!0}}e.$inject=["$scope","$rootScope","$timeout","companyregservice","fieldtypeservevices","messageservices","dateservices","dataService","pagerservice"],angular.module("cbcproject").controller("MainController",e)}(),function(){angular.module("cbcproject").directive("uppercase",function(){return{require:"ngModel",link:function(e,t,n,o){var r=function(e){void 0==e&&(e="");var t=e.toUpperCase();return t!==e&&(o.$setViewValue(t),o.$render()),t};o.$parsers.push(r),r(e[n.ngModel])}}})}(),function(){angular.module("cbcproject").directive("telePhone",function(){return{require:"ngModel",link:function(e,t,n,o){o.$parsers.push(function(e){var t=o.$viewValue;return o.$setValidity("invalidEmail",!0),angular.isObject(t)||""==t?t:(t.match(/^(([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5}){1,25})+([;,.](([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5}){1,25})+)*$/)||o.$setValidity("invalidEmail",!1),e)})}}})}(),function(){angular.module("cbcproject").directive("taxReference",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,o){e.$watch(n.ngModel,function(e){function t(e){var t=0,o=n((2*Number(e.substring(0,1))).toString())+n((2*Number(e.substring(2,3))).toString())+n((2*Number(e.substring(4,5))).toString())+n((2*Number(e.substring(6,7))).toString())+n((2*Number(e.substring(8,9))).toString()),r=Number(e.substring(1,2))+Number(e.substring(3,4))+Number(e.substring(5,6))+Number(e.substring(7,8));return t=o+r}function n(e){for(var t=0,n=0;n<e.length;n++)t+=Number(e.substring(n,n+1));return t}if(""!==e&&void 0!=e&&e.length>0){if(10!=e.length)return void o.$setValidity("invalidLength",!1);var r=e.substr(0,1),a=Number(r);if(9!=a)return void o.$setValidity("invalidLength",!1);var i=e,s=".";if(i.indexOf(s)>-1)return void o.$setValidity("invalidTaxReference",!1);if("2222222222"==e||"0000000000"==e||"9999999999"==e)return void o.$setValidity("invalidTaxReference",!1);var l=e.substr(0,9),c=e.substr(9,1),u=t(l);if((u+Number(c))%10!=0)return void o.$setValidity("invalidTaxReference",!1)}})}}})}(),function(){angular.module("cbcproject").directive("specialCharacter",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,o){o.$parsers.push(function(e){var t=/^[^|¦ĀāĂăĄąĆćĈĉĊēĔĖėĘęĚĜĜħħĨĩĪīĬĭĮįİİıĲĳĴĵĶķĸĹĺĻļĽľĿŀŁłŃńņŇňŉŊŋōŎŏŐőŔŖŗŘŚśŜŝŞşŠŢţŤťŦŧŨŪūŬŭŮůŰŲųŴŵŶŷŹźŻżŽſƀƁƂƃƄƅƇƈƉƊƋƌƎƏƐƑƒƓƕƖƗƥƦƺƼƽƾƿǀǁǃǄǅǆǇǉǊǋǌǍǎǏǔǕǖǗǘǙǛǜǝǞǟǠǡǢǤǥǦǧǨǩǪǫǬǭǮǰǱǲǳǴɘəɚɜɮɯɰɲ]*$/;if(e.match(t))return e;var n=o.$modelValue;return o.$setViewValue(n),o.$render(),n})}}})}(),function(){angular.module("cbcproject").directive("sarsMinlength",function(){return{require:"ngModel",link:function(e,t,n,o){function r(e){if(e.length<a){var t=e.substring(0,a);return o.$setViewValue(t),o.$render(),t}return e}var a=Number(n.sarsMinlength);o.$parsers.push(r)}}})}(),function(){angular.module("cbcproject").directive("sarsMaxlength",function(){return{require:"ngModel",link:function(e,t,n,o){function r(e){if(e.length>a){var t=e.substring(0,a);return o.$setViewValue(t),o.$render(),t}return e}var a=Number(n.sarsMaxlength);o.$parsers.push(r)}}})}(),function(){"use strict";angular.module("cbcproject").directive("runOnLoad",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n){e.$watch(n.ngModel,function(e,n){""!==e&&void 0!==e&&t.triggerHandler("blur")})}}})}(),function(){angular.module("cbcproject").directive("requiredEmpty",function(){return{restrict:"AE",require:"ngModel",link:function(e,t,n,o){e.$watch(n.ngModel,function(e){""===e?(o.$setValidity("required",!0),n.$set("required",!0),t.css("box-shadow","0 0 1.5px 2px red")):""!=e&&void 0!=e&&(o.$setValidity("required",!1),n.$set("required",!1),t.css("box-shadow","0 0 1.5px 2px white"))})}}})}(),function(){angular.module("cbcproject").directive("oneMandatory",function(){return{require:"ngModel",link:function(e,t,n,o){angular.array.forEach(t,function(e){""!=e.value})}}})}(),function(){angular.module("cbcproject").directive("numbersOnly",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,o){o.$parsers.push(function(e){if(void 0==e)return"";var t=e.replace(/[^0-9]/g,"");return t!==e&&(o.$setViewValue(t),o.$render()),t})}}})}(),function(){angular.module("cbcproject").directive("validNumber",function(){return{require:"ngModel",link:function(e,t,n,o){t.on("keydown",function(e){var t=[];if("true"==n.allowNegative)t=[8,9,36,35,37,39,46,48,49,50,51,52,53,54,55,56,57,96,97,98,99,100,101,102,103,104,105,109,110,173,190,189];else var t=[8,9,36,35,37,39,46,48,49,50,51,52,53,54,55,56,57,96,97,98,99,100,101,102,103,104,105,110,173,190];if("false"==n.allowDecimal){var r=t.indexOf(190);r>-1&&t.splice(r,1)}if(-1==$.inArray(e.which,t))e.preventDefault();else{var a=o.$modelValue||"";$.inArray(e.which,[109,173])>-1&&a.indexOf("-")>-1&&e.preventDefault()}}),o.$parsers.push(function(e){var t=o.$modelValue,r=o.$viewValue;if(parseFloat(r)!=r)return(null===r||void 0===r||""==r||"-"==r)&&(t=r),o.$setViewValue(t),o.$render(),t;var a=r.split(".");return angular.isUndefined(a[1])||(n.decimalUpto?a[1]=a[1].slice(0,n.decimalUpto):a[1]=a[1].slice(0,2),r=a[0]+"."+a[1]),o.$setViewValue(r),o.$render(),r})}}})}(),function(){angular.module("cbcproject").directive("modelDataSetter",function(){return{require:"ngModel",link:function(e,t,n,o){function r(t){e.$value=o.$viewValue,e.$eval(a),delete e.$value}var a=n.modelDataSetter;e.$watch(n.ngModel,r)}}})}(),function(){angular.module("cbcproject").directive("modelDataGetter",function(){return{require:"ngModel",link:function(e,t,n,o){function r(t,r){t!=o.$viewValue&&(o.$setViewValue(t),o.$render());var i=n.ngModel+"="+a;e.$eval(i)}var a=n.modelDataGetter;r(),e.$watch(a,r)}}})}(),function(){angular.module("cbcproject").directive("emailvalidator",function(){return{require:"ngModel",link:function(e,t,n,o){o.$parsers.push(function(e){var t=o.$viewValue;return o.$setValidity("invalidEmail",!0),angular.isObject(t)||""==t?t:(t.match(/^(([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5}){1,25})+([;,.](([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5}){1,25})+)*$/)||o.$setValidity("invalidEmail",!1),e)})}}})}(),function(){angular.module("cbcproject").directive("cbcMoneyFieldValidator",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,o){e.$watch(n.ngModel,function(n,r){pattern=/^-?[0-9]*$/g,null!=t.val().match(pattern)||(""===t.val(),o.$setViewValue(void 0),o.$render(),e.ngModel=void 0)})}}})}();var formDataModule=function(){"use strict";var e=function(e,t,n){angular.isUndefined(e)||""===e||null===e||"null"===e||angular.isUndefined(t)||""===t||null===t||"null"===t||angular.element(mainForm).scope().setFormData(e,n,!0)},t=function(t,n,o){e(t,n,o)},n=function(){var e=r();return e},o=function(){var e=angular.element(mainForm).scope().getAngularData(),t="";return t=e?angular.toJson(e):"No data found"},r=function(){var e=angular.element(mainForm).scope().isFormValid();return e},a=function(){var e=r();return e};return{loadForm:t,isFormValid:n,getFormData:o,loadFormData:e,mandatoryIsValid:r,isEverythingValid:a}}(),formTestApi=function(){"use strict";function e(){var e=formDataModule.getFormData();angular.element(results).val(e)}function t(){var e=angular.element(request).val();formDataModule.loadFormData(e,"xml",!1)}function n(e,t,n){sessionStorage.clear(),"json"===t?formDataModule.loadFormData(e,"json",!1):"xml"===t&&formDataModule.loadFormData(e,"xml",!1)}return{setFormDataTest:n,setAngularFormData:t,getLocalFormData:e}}();!function(){function e(e){e.debug("runBlock end")}e.$inject=["$log"],angular.module("cbcproject").run(e)}(),function(){angular.module("cbcproject").constant("malarkey",malarkey).constant("moment",moment)}(),function(){function e(e,t,n){e.debugEnabled(!0),t.allowHtml=!0,t.timeOut=3e3,t.positionClass="toast-top-right",t.preventDuplicates=!0,t.progressBar=!0,n.theme="selectize",n.theme="bootstrap",n.resetSearchInput=!0,n.appendToBody=!0}e.$inject=["$logProvider","toastrConfig","uiSelectConfig"],angular.module("cbcproject").config(e)}(),angular.module("cbcproject").run(["$templateCache",function(e){e.put("app/components/addressView/address.html",'<div><label class=SubContainerHeader><strong>Address</strong></label><div class=row><div class=col-sm-12><div class=formGroup><label class="control-label label3 col-sm-1">Address type</label><div class=col-sm-4><input type=number class=form-control></div></div></div></div><div class=row><div class=col-sm-12><div class=formGroup><div class=col-sm-10><input type=number class=form-control></div><div class=col-sm-10><input type=number class=form-control></div><div class=col-sm-10><input type=number class=form-control></div><div class=col-sm-10><input type=number class=form-control></div><div class=col-sm-10><input type=number class=form-control></div></div></div></div><div class=row><div class=col-sm-8><div class=formGroup><label class="control-label label3 col-sm-1">Country Code</label><div class=col-sm-2><input type=number class=form-control></div></div></div></div></div>'),e.put("app/components/contactPersonDetailsView/contactPerson.html",'<div><label class=SubContainerHeader><strong>Contact Person Details</strong></label><div class=row><div class=col-sm-12><div class=formGroup><label class="control-label label3 col-sm-1">First Names</label><div class=col-sm-11><input type=number class=form-control></div></div></div></div><div class=row><div class=col-sm-12><div class=formGroup><label class="control-label label3 col-sm-1">Surname</label><div class=col-sm-11><input type=number class=form-control></div></div></div></div><div class=row><div class=col-sm-12><div class=formGroup><label class="control-label label3 col-sm-1">Bus Tel No. 1</label><div class=col-sm-3><input type=number class=form-control></div></div><div class=formGroup><label class="control-label label3 col-sm-1">Bus Tel No. 2</label><div class=col-sm-3><input type=number class=form-control></div></div><div class=formGroup><label class="control-label label3 col-sm-1">Cell No.</label><div class=col-sm-3><input type=number class=form-control></div></div></div></div></div><div class=row><div class=col-sm-12><div class=formGroup><label class="control-label label3 col-sm-1">Email Address</label><div class=col-sm-11><input type=number class=form-control></div></div></div></div>'),e.put("app/components/reportEntltyViews/reportView.html",'<div><div class=header><div class=row><img class="pull-left col-sm-2" ng-src=assets/images/SarsLogo.png><div class=col-sm-6><label class=PageHeaderLabel>Country by Country Reporting (CbC)</label></div><div class=col-sm-4><div class=form-group><label class="label3 control-label col-sm-3">Reporting Period (CCYYMMDD)</label><div class=col-sm-6><input id=reportingperiod placeholder=CCYYMMDD ng-disabled=false type=text class=form-control ng-model=formData.CountryByCountryDeclaration.CBC_OECD.MessageSpec.ReportingPeriod></div></div></div></div></div><div class=row><label class=ContainerHeader><strong>Reporting Entlty</strong></label><div class=col-sm-12><div class=formGroup><label class="control-label col-sm-1 label3">Registered Name</label><div class=col-sm-11><input id=registeredname ng-disabled=true type=text class=form-control ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity[0].Name></div></div></div></div><br><div class=row><div class=col-sm-12><div class=formGroup><label class="control-label col-sm-1 label3">Trading Name</label><div class=col-sm-11><input id=tradingname ng-disabled=true type=text class=form-control ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity[1].Name></div></div></div></div><br><div class=row><div class=col-sm-12><div class=formGroup><label class="control-label label3 col-sm-1">Company Reg No.</label><div class=col-sm-3><input id=companyregno ng-disabled=true type=text class=form-control ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity[0].IN></div></div><div class=formGroup><label class="control-label label3 col-sm-1">Issued by Country</label><div class=col-sm-1><input class=form-control ng-disabled=true type=text ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN></div></div><div class=formGroup><label class="control-label label3 col-sm-1">Tax Ref No</label><div class=col-sm-3><input class=form-control ng-disabled=true type=text ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.TIN numbers-only></div></div><div class=formGroup><label class="control-label label3 col-sm-1">Issued by Country</label><div class=col-sm-1><input class=form-control ng-disabled=true ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.TIN></div></div></div></div><br><div class=row><div class=col-sm-12><div><div class=formGroup><label class="control-label label3 col-sm-1">GIIN No</label><div class=col-sm-5><input type=text class=form-control ng-disabled=true ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN></div></div></div><div class=formGroup><label class="control-label label3 col-sm-1">Issued by Country</label><div class=col-sm-1><input class=form-control ng-disabled=true ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.IN></div></div></div></div><br><div class=row><div class=col-sm-12><div class=formGroup><label class="control-label label3 col-sm-1">Reporting Role</label><div class=col-sm-2><!--<input class="form-control" type="text"  ng-required="formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.ReportingRole ==\'\' || formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.ReportingRole == angular.isUndefined" ng-model="formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.ReportingRole"\r\n          />--><ui-select ng-required=true ng-disabled=disabled ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.ReportingRole><ui-select-match placeholder=Select>{{$select.selected.code}}</ui-select-match><ui-select-choices repeat="report in reportingRole | propsFilter: {name: $select.search}" position=auto><div ng-bind-html="country.name | highlight: $select.search"></div><small>{{report.name}}</small></ui-select-choices></ui-select></div></div><div class=formGroup><label class="control-label label3 col-sm-2">Resident Country code (e.g. South Africa = ZA)</label><div class=col-sm-1><ui-select ng-required=true ng-disabled=disabled ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.Entity.ResCountryCode><ui-select-match placeholder=Select>{{$select.selected.code}}</ui-select-match><ui-select-choices repeat="country in countrycodes | propsFilter: {name: $select.search}" position=auto><div ng-bind-html="country.name | highlight: $select.search"></div><small>{{country.name}}</small></ui-select-choices></ui-select></div></div><div class=formGroup><label class="control-label label3 col-sm-1">Unique No.</label><div class=col-sm-2><input type=text class=form-control ng-disabled=true type=text ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec></div></div><div class=formGroup><label class="control-label label3">Record Status:</label><label class="control-label label3">Correction<input type=checkbox ng-disabled=true type=text ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocTypeIndic></label><label class="control-label label3">Deletion<input type=checkbox ng-disabled=true type=text ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.ReportingEntity.DocSpec.DocTypeIndic></label></div></div></div></div>'),e.put("app/components/cbcReportsView/additionalInfornView.html",'<div><label class=ContainerHeader><strong>Additional Information</strong></label><div class=row><div class=col-sm-12><div class=formGroup><label class="control-label label3 col-sm-1">Unique No.</label><div class=col-sm-2><input type=number class=form-control></div></div><div class=formGroup><label class="control-label label3 col-sm-2">Record Status:</label><label class="control-label label3">Correction<input type=checkbox></label><label class="control-label label3">Deletion<input type=checkbox></label></div></div></div><label class=SubContainerHeader><strong>Other Information</strong></label><div class=row><div class=col-sm-12><label class="control-label label3 col-sm-8">Please include any further brief information or explanation you consider necessary or that would facilitate the understanding of the compulsory information provided in the Country-by-Country Report.</label><div class=formGroup><div class=col-sm-8><textarea type=number class=form-control></textarea></div></div><div><div class=formGroup><!--  <label class="SubContainerHeader col-sm-1"><strong>Other Information</strong> </label>--><label class="control-label label3 col-sm-1">Address type</label><div class=col-sm-1><input type=number class=form-control></div></div><div class=formGroup><!--  <label class="SubContainerHeader col-sm-1"><strong>Other Information</strong> </label>--><label class="control-label label3 col-sm-1">Summary Ref.Code</label><div class=col-sm-1><input type=number class=form-control></div></div></div></div></div></div>'),e.put("app/components/cbcReportsView/cbcReportCon.html",'<!--cbc main--><div ng-repeat="jurisdiction in jurisdictionsArr track by $index"><label class=ContainerHeader><strong>CbC Reports:</strong></label><div class=row><div class=col-sm-12><div class=formGroup><label class="control-label label3 col-sm-1">Currency Code</label><div class=col-sm-2><input type=text class=form-control></div></div><div class=formGroup><label class="control-label label3 col-sm-2">Resident Country code (e.g. South Africa = ZA)</label><div class=col-sm-1><input type=text class=form-control ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.ResCountryCode></div></div><div class=formGroup><label class="control-label label3 col-sm-1">Unique No.</label><div class=col-sm-2><input type=text class=form-control ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.DocSpec></div></div><div class=formGroup><label class="control-label label3 col-sm-1">Record Status:</label><label class=control-label>Correction<input type=checkbox ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.DocSpec.DocTypeIndic></label><label class=control-label>Deletion<input type=checkbox ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.DocSpec.DocTypeIndic></label></div></div></div><label class=SubContainerHeader><strong>Summary</strong></label><div class=row><div class=col-sm-12><div class=formGroup><label class="control-label label3 col-sm-1">Profit/Loss before Income Tax</label><div class=col-sm-3><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary[0].TaxPaid></div></div><div class=formGroup><label class="control-label label3 col-sm-1">Currency Code</label><div class=col-sm-1><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary[1].TaxPaid></div></div><div class=formGroup><label class="control-label label3 col-sm-1">Stated Capital</label><div class=col-sm-3><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary[0].Capital></div></div><div class=formGroup><label class="control-label label3 col-sm-1">Currency Code</label><div class=col-sm-1><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary[1].Capital></div></div></div></div><div class=row><div class=col-sm-12><div class=formGroup><label class="control-label label3 col-sm-1">Income Tax Paid</label><div class=col-sm-3><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary[0].TaxPaid></div></div><div class=formGroup><label class="control-label label3 col-sm-1">Currency Code</label><div class=col-sm-1><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary[1].TaxPaid></div></div><div class=formGroup><label class="control-label label3 col-sm-1">Accumulated Earnings</label><div class=col-sm-3><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary[0].Earnings></div></div><div class=formGroup><label class="control-label label3 col-sm-1">Currency Code</label><div class=col-sm-1><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary[1].Earnings></div></div></div></div><div class=row><div class=col-sm-12><div class=formGroup><label class="control-label label3 col-sm-1">Income Tax Accrued</label><div class=col-sm-3><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary[0].TaxAccrued></div></div><div class=formGroup><label class="control-label label3 col-sm-1">Currency Code</label><div class=col-sm-1><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary[0].TaxAccrued></div></div><div class=formGroup><label class="control-label label3 col-sm-1">Assets</label><div class=col-sm-3><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary[0].Assets></div></div><div class=formGroup><label class="control-label label3 col-sm-1">Currency Code</label><div class=col-sm-1><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary[1].Assets></div></div></div></div><div class=row><div class=col-sm-12><div class=formGroup><label class="control-label label3 col-sm-1">No. of Employees</label><div class=col-sm-3><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary.NbEmployees></div></div></div></div><div><label class=SubContainerHeader><strong>Revenues</strong></label><div class=row><div class=col-sm-12><div class=formGroup><label class="control-label label3 col-sm-1">Unrelated</label><div class=col-sm-3><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary.Revenues[0].Unrelated></div></div><div class=formGroup><label class="control-label label3 col-sm-1">Currency Code</label><div class=col-sm-1><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary.Revenues[1].Unrelated></div></div></div></div></div><div class=row><div class=col-sm-12><div class=formGroup><label class="control-label label3 col-sm-1">Related</label><div class=col-sm-3><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary.Revenues[0].Related></div></div><div class=formGroup><label class="control-label label3 col-sm-1">Currency Code</label><div class=col-sm-1><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary.Revenues[1].Related></div></div></div></div><div class=row><div class=col-sm-12><div class=formGroup><label class="control-label label3 col-sm-1">Total</label><div class=col-sm-3><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary.Revenues[0].Total></div></div><div class=formGroup><label class="control-label label3 col-sm-1">Currency Code</label><div class=col-sm-1><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.Summary.Revenues[1].Total></div></div></div></div><div><label class=SubContainerHeader><strong>Selection for Constituent Entities</strong></label><div class=row><div class=col-sm-12><div><div class=formGroup><label class="control-label label3 col-sm-2">Number of Tax Jurisdictions to report</label><div class=col-sm-1><input type=text class=form-control ng-model=formData.CountryByCountryDeclaration.TaxJurisdictions.TaxJurisdiction.NoOfConstituentEntities></div></div></div></div></div></div><div><label class=SubContainerHeader><strong>Constituent Entity:</strong></label><div class=row><div class=col-sm-12><div><div class=formGroup><label class="control-label label3 col-sm-1">Registered Name</label><div class=col-sm-11><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.ConstEntities.ConstEntity.Name></div></div></div></div></div><div class=row><div class=col-sm-12><div><div class=formGroup><label class="control-label label3 col-sm-1">Trading Name</label><div class=col-sm-11><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.ConstEntities.ConstEntity.Name></div></div></div></div></div><div class=row><div class=col-sm-12><div class=formGroup><label class="control-label label3 col-sm-1">Company Reg No.</label><div class=col-sm-3><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.ConstEntities.ConstEntity[0].IN></div></div><div class=formGroup><label class="control-label label3 col-sm-1">Issued by Country</label><div class=col-sm-1><input class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.ConstEntities.ConstEntity[1].IN></div></div><div class=formGroup><label class="control-label label3 col-sm-1">Tax Ref No</label><div class=col-sm-3><input class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.ConstEntities.ConstEntity[0].TIN></div></div><div class=formGroup><label class="control-label label3 col-sm-1">Issued by Country</label><div class=col-sm-1><input class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.ConstEntities.ConstEntity[0].TIN></div></div></div></div><div><label class=SubContainerHeader><strong>Address</strong></label><div class=row><div class=col-sm-12><div class=formGroup><label class="control-label label3 col-sm-1">Address type</label><div class=col-sm-4><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.ReportingEntity.Entity[0].Address></div></div></div></div><div class=row><div class=col-sm-12><div class=formGroup><div class=col-sm-10><textarea class=form-control name="" cols=30 rows=10 ng-model=formData.CBC_OECD.CbcBody.ReportingEntity.Entity.Address[1].AddressFree></textarea></div></div></div></div><div class=row><div class=col-sm-8><div class=formGroup><label class="control-label label3 col-sm-1">Country Code</label><div class=col-sm-2><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.ConstEntities.ConstEntity.Address.CountryCode></div></div></div></div></div><div><label class=SubContainerHeader><strong>Business Activities</strong></label><div class=row><div class=col-sm-12><div class=formGroup><label class="control-label label3 col-sm-1">Address type</label><div class=col-sm-4><input type=text class=form-control ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.ConstEntities.BizActivities></div></div></div></div><div class=row><div class=col-sm-12><label class="control-label label3 col-sm-3">Main Business Activities</label><div class=formGroup><div class=col-sm-12><textarea type=text class=form-control ng-model=formData.CountryByCountryDeclaration.CBC_OECD.CbcBody.CbcReports.ConstEntities.OtherEntityInfo></textarea></div></div></div></div><div class=row><div class=col-sm-8><div class=formGroup><label class="control-label label3 col-sm-1">Country Code</label><div class=col-sm-2><input type=text class=form-control ng-model=formData.CBC_OECD.CbcBody.CbcReports.ConstEntities.ConstEntity.Address.CountryCode></div></div></div></div></div></div></div>'),e.put("app/components/cbcReportsView/cbcReportHeader.html",'<div><label class=SubContainerHeader><strong>Selection for Tax Jurisdictions</strong></label><div class=row><div class=col-sm-12><div><div class=formGroup><label class="control-label label3 col-sm-2">Number of Tax Jurisdictions to report</label><div class=col-sm-2><input type=number class=form-control></div></div></div></div></div></div>')}]);
//# sourceMappingURL=../maps/scripts/app-bacf7787d6.js.map
